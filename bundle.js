(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";var feathers=require("feathers/client"),hooks=require("feathers-hooks"),auth=require("feathers-authentication/client"),rest=require("feathers-rest/client"),superagent=require("superagent");module.exports=function(e){return feathers().configure(rest(e).superagent(superagent)).configure(hooks()).configure(auth())};

},{"feathers-authentication/client":14,"feathers-hooks":25,"feathers-rest/client":26,"feathers/client":37,"superagent":126}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _taggedTemplateLiteral(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var _templateObject=_taggedTemplateLiteral([" \n\n<main>\n\t<h1>Hello world</h1>\t\n\t<ul>\n\t\t",'\n\t</ul>\n\t<button id="login" onclick=',">Sign in</button>\n</main>\n"],[" \n\n<main>\n\t<h1>Hello world</h1>\t\n\t<ul>\n\t\t",'\n\t</ul>\n\t<button id="login" onclick=',">Sign in</button>\n</main>\n"]),_inu=require("inu"),_inux=require("inux"),_app=require("./users/app"),_app2=_interopRequireDefault(_app),_summary=require("./users/views/summary"),_summary2=_interopRequireDefault(_summary),_profile=require("./users/views/profile"),_profile2=_interopRequireDefault(_profile),view=function(e,n){return console.log(e),(0,_inu.html)(_templateObject,e.user.map(function(e){return(0,_summary2.default)(e,n)}),function(){return n((0,_inux.navigate)("login"))})},home=(0,_inux.Domain)({name:"home",init:function(){return{model:{}}},update:{},routes:[["/",function(e,n,t){return view(n,t)}],["/#users/:id",_profile2.default]]});module.exports=function(e,n){var t=(0,_inux.App)([home,(0,_app2.default)({api:n})]),u=(0,_inu.start)(t);(0,_inu.pull)(u.views(),_inu.pull.drain(function(n){_inu.html.update(e,n)}))};

},{"./users/app":143,"./users/views/profile":145,"./users/views/summary":146,"inu":54,"inux":66}],3:[function(require,module,exports){
(function (process,__dirname){
"use strict";var _require=require("path"),join=_require.join,config={port:5e3,host:"http://localhost:3030",url:"//localhost:5000",entry:join(__dirname,"browser.js"),staticPath:join(__dirname,".")};config.port=process.env.PORT,config.host="https://grad-app-server-dev.ap-southeast-2.elasticbeanstalk.com/",config.url="//staging.holodex.is",config.letsencrypt={path:join(__dirname,"letsencrypt"),host:"staging.holodex.is",email:"michael.williams@enspiral.com",agreeTos:!0},module.exports=config;

}).call(this,require('_process'),"/")

},{"_process":80,"path":78}],4:[function(require,module,exports){
"use strict";var domready=require("domready"),start=require("./app"),config=require("./config"),Api=require("./api"),api=Api(config.host);domready(function(){start(document.querySelector("main"),api)});

},{"./api":1,"./app":2,"./config":3,"domready":12}],5:[function(require,module,exports){
function replacer(t,e){return util.isUndefined(e)?""+e:util.isNumber(e)&&!isFinite(e)?e.toString():util.isFunction(e)||util.isRegExp(e)?e.toString():e}function truncate(t,e){return util.isString(t)?t.length<e?t:t.slice(0,e):t}function getMessage(t){return truncate(JSON.stringify(t.actual,replacer),128)+" "+t.operator+" "+truncate(JSON.stringify(t.expected,replacer),128)}function fail(t,e,r,i,s){throw new assert.AssertionError({message:r,actual:t,expected:e,operator:i,stackStartFunction:s})}function ok(t,e){t||fail(t,!0,e,"==",assert.ok)}function _deepEqual(t,e){if(t===e)return!0;if(util.isBuffer(t)&&util.isBuffer(e)){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return util.isDate(t)&&util.isDate(e)?t.getTime()===e.getTime():util.isRegExp(t)&&util.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:util.isObject(t)||util.isObject(e)?objEquiv(t,e):t==e}function isArguments(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function objEquiv(t,e){if(util.isNullOrUndefined(t)||util.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(util.isPrimitive(t)||util.isPrimitive(e))return t===e;var r=isArguments(t),i=isArguments(e);if(r&&!i||!r&&i)return!1;if(r)return t=pSlice.call(t),e=pSlice.call(e),_deepEqual(t,e);var s,n,a=objectKeys(t),o=objectKeys(e);if(a.length!=o.length)return!1;for(a.sort(),o.sort(),n=a.length-1;n>=0;n--)if(a[n]!=o[n])return!1;for(n=a.length-1;n>=0;n--)if(s=a[n],!_deepEqual(t[s],e[s]))return!1;return!0}function expectedException(t,e){return!(!t||!e)&&("[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e||e.call({},t)===!0)}function _throws(t,e,r,i){var s;util.isString(r)&&(i=r,r=null);try{e()}catch(t){s=t}if(i=(r&&r.name?" ("+r.name+").":".")+(i?" "+i:"."),t&&!s&&fail(s,r,"Missing expected exception"+i),!t&&expectedException(s,r)&&fail(s,r,"Got unwanted exception"+i),t&&s&&r&&!expectedException(s,r)||!t&&s)throw s}var util=require("util/"),pSlice=Array.prototype.slice,hasOwn=Object.prototype.hasOwnProperty,assert=module.exports=ok;assert.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var e=t.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var i=r.stack,s=e.name,n=i.indexOf("\n"+s);if(n>=0){var a=i.indexOf("\n",n+1);i=i.substring(a+1)}this.stack=i}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(t,e,r){t!=e&&fail(t,e,r,"==",assert.equal)},assert.notEqual=function(t,e,r){t==e&&fail(t,e,r,"!=",assert.notEqual)},assert.deepEqual=function(t,e,r){_deepEqual(t,e)||fail(t,e,r,"deepEqual",assert.deepEqual)},assert.notDeepEqual=function(t,e,r){_deepEqual(t,e)&&fail(t,e,r,"notDeepEqual",assert.notDeepEqual)},assert.strictEqual=function(t,e,r){t!==e&&fail(t,e,r,"===",assert.strictEqual)},assert.notStrictEqual=function(t,e,r){t===e&&fail(t,e,r,"!==",assert.notStrictEqual)},assert.throws=function(t,e,r){_throws.apply(this,[!0].concat(pSlice.call(arguments)))},assert.doesNotThrow=function(t,e){_throws.apply(this,[!1].concat(pSlice.call(arguments)))},assert.ifError=function(t){if(t)throw t};var objectKeys=Object.keys||function(t){var e=[];for(var r in t)hasOwn.call(t,r)&&e.push(r);return e};

},{"util/":135}],6:[function(require,module,exports){
function belCreateElement(e,t,a){function n(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var a=e[t];if(Array.isArray(a))n(a);else{if(("number"==typeof a||"boolean"==typeof a||a instanceof Date||a instanceof RegExp)&&(a=a.toString()),"string"==typeof a){if(o.lastChild&&"#text"===o.lastChild.nodeName){o.lastChild.nodeValue+=a;continue}a=document.createTextNode(a)}a&&a.nodeType&&o.appendChild(a)}}}var o;SVG_TAGS.indexOf(e)!==-1&&(t.namespace=SVGNS);var l=!1;if(t.namespace&&(l=t.namespace,delete t.namespace),o=l?document.createElementNS(l,e):document.createElement(e),t.onload||t.onunload){var r=t.onload||function(){},i=t.onunload||function(){};onload(o,function(){r(o)},function(){i(o)},belCreateElement.caller.caller.caller),delete t.onload,delete t.onunload}for(var f in t)if(t.hasOwnProperty(f)){var c=f.toLowerCase(),s=t[f];if("classname"===c&&(c="class",f="class"),"htmlFor"===f&&(f="for"),BOOL_PROPS[c])if("true"===s)s=c;else if("false"===s)continue;"on"===c.slice(0,2)?o[f]=s:l?o.setAttributeNS(null,f,s):o.setAttribute(f,s)}return n(a),o}var document=require("global/document"),hyperx=require("hyperx"),onload=require("on-load"),SVGNS="http://www.w3.org/2000/svg",BOOL_PROPS={autofocus:1,checked:1,defaultchecked:1,disabled:1,formnovalidate:1,indeterminate:1,readonly:1,required:1,selected:1,willvalidate:1},SVG_TAGS=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"];module.exports=hyperx(belCreateElement),module.exports.createElement=belCreateElement;

},{"global/document":47,"hyperx":50,"on-load":76}],7:[function(require,module,exports){

},{}],8:[function(require,module,exports){
function Emitter(t){if(t)return mixin(t)}function mixin(t){for(var e in Emitter.prototype)t[e]=Emitter.prototype[e];return t}"undefined"!=typeof module&&(module.exports=Emitter),Emitter.prototype.on=Emitter.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Emitter.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,s=0;s<i.length;s++)if(r=i[s],r===e||r.fn===e){i.splice(s,1);break}return this},Emitter.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i){i=i.slice(0);for(var r=0,s=i.length;r<s;++r)i[r].apply(this,e)}return this},Emitter.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Emitter.prototype.hasListeners=function(t){return!!this.listeners(t).length};

},{}],9:[function(require,module,exports){
function useColors(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var o=arguments,e=this.useColors;if(o[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+o[0]+(e?"%c ":" ")+"+"+exports.humanize(this.diff),!e)return o;var r="color: "+this.color;o=[o[0],r,"color: inherit"].concat(Array.prototype.slice.call(o,1));var t=0,s=0;return o[0].replace(/%[a-z%]/g,function(o){"%%"!==o&&(t++,"%c"===o&&(s=t))}),o.splice(s,0,r),o}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(o){try{null==o?exports.storage.removeItem("debug"):exports.storage.debug=o}catch(o){}}function load(){var o;try{o=exports.storage.debug}catch(o){}return o}function localstorage(){try{return window.localStorage}catch(o){}}exports=module.exports=require("./debug"),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:localstorage(),exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(o){return JSON.stringify(o)},exports.enable(load());

},{"./debug":10}],10:[function(require,module,exports){
function selectColor(){return exports.colors[prevColor++%exports.colors.length]}function debug(e){function r(){}function o(){var e=o,r=+new Date,s=r-(prevTime||r);e.diff=s,e.prev=prevTime,e.curr=r,prevTime=r,null==e.useColors&&(e.useColors=exports.useColors()),null==e.color&&e.useColors&&(e.color=selectColor());var t=Array.prototype.slice.call(arguments);t[0]=exports.coerce(t[0]),"string"!=typeof t[0]&&(t=["%o"].concat(t));var n=0;t[0]=t[0].replace(/%([a-z%])/g,function(r,o){if("%%"===r)return r;n++;var s=exports.formatters[o];if("function"==typeof s){var p=t[n];r=s.call(e,p),t.splice(n,1),n--}return r}),"function"==typeof exports.formatArgs&&(t=exports.formatArgs.apply(e,t));var p=o.log||exports.log||console.log.bind(console);p.apply(e,t)}r.enabled=!1,o.enabled=!0;var s=exports.enabled(e)?o:r;return s.namespace=e,s}function enable(e){exports.save(e);for(var r=(e||"").split(/[\s,]+/),o=r.length,s=0;s<o;s++)r[s]&&(e=r[s].replace(/\*/g,".*?"),"-"===e[0]?exports.skips.push(new RegExp("^"+e.substr(1)+"$")):exports.names.push(new RegExp("^"+e+"$")))}function disable(){exports.enable("")}function enabled(e){var r,o;for(r=0,o=exports.skips.length;r<o;r++)if(exports.skips[r].test(e))return!1;for(r=0,o=exports.names.length;r<o;r++)if(exports.names[r].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}exports=module.exports=debug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=require("ms"),exports.names=[],exports.skips=[],exports.formatters={};var prevColor=0,prevTime;

},{"ms":75}],11:[function(require,module,exports){
module.exports=function(){for(var o=0;o<arguments.length;o++)if(void 0!==arguments[o])return arguments[o]};

},{}],12:[function(require,module,exports){
!function(e,t){"undefined"!=typeof module?module.exports=t():"function"==typeof define&&"object"==typeof define.amd?define(t):this[e]=t()}("domready",function(){var e,t=[],n=document,o=n.documentElement.doScroll,d="DOMContentLoaded",i=(o?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener(d,e=function(){for(n.removeEventListener(d,e),i=1;e=t.shift();)e()}),function(e){i?setTimeout(e,0):t.push(e)}});

},{}],13:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,i,n,s,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(i=this._events[e],isUndefined(i))return!1;if(isFunction(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(isObject(i))for(s=Array.prototype.slice.call(arguments,1),o=i.slice(),n=o.length,r=0;r<n;r++)o[r].apply(this,s);return!0},EventEmitter.prototype.addListener=function(e,t){var i;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(i=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},EventEmitter.prototype.removeListener=function(e,t){var i,n,s,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,n=-1,i===t||isFunction(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(i)){for(r=s;r-- >0;)if(i[r]===t||i[r].listener&&i[r].listener===t){n=r;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],isFunction(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)};

},{}],14:[function(require,module,exports){
module.exports=require("./lib/client/index");

},{"./lib/client/index":16}],15:[function(require,module,exports){
"use strict";function _defineProperty(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function populateParams(){return function(e){var a=e.app;Object.assign(e.params,{user:a.get("user"),token:a.get("token")})}}function populateHeader(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(a){a.params.token&&(a.params.headers=Object.assign({},_defineProperty({},e.header||"authorization",a.params.token),a.params.headers))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.populateParams=populateParams,exports.populateHeader=populateHeader;

},{}],16:[function(require,module,exports){
"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=Object.assign({},defaults,e);return function(){var e=this;e.get("storage")||e.set("storage",(0,_utils.getStorage)(t.storage)),e.authenticate=function(){var o=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=this.get("storage"),n=Promise.resolve(o);o.type||(n=(0,_utils.getJWT)(t.tokenKey,t.cookie,this.get("storage")).then(function(e){return e?{type:"token",token:e}:Promise.reject(new _feathersErrors2.default.NotAuthenticated("Could not find stored JWT and no authentication type was given"))}));var i=function(o){return e.set("token",o.token),e.set("user",o.data),Promise.resolve(r.setItem(t.tokenKey,o.token)).then(function(){return o})};return n.then(function(o){var r=void 0;if(o.endpoint)r=o.endpoint;else if("local"===o.type)r=t.localEndpoint;else{if("token"!==o.type)throw new Error("Unsupported authentication 'type': "+o.type);r=t.tokenEndpoint}return(0,_utils.connected)(e).then(function(t){if(e.rest)return e.service(r).create(o).then(i);var n=e.io?"emit":"send";return(0,_utils.authenticateSocket)(o,t,n).then(i)})})},e.logout=function(){return e.set("user",null),e.set("token",null),(0,_utils.clearCookie)(t.cookie),Promise.resolve(e.get("storage").removeItem(t.tokenKey)).then(function(){if(e.io||e.primus){var t=e.io?"emit":"send",o=e.io?e.io:e.primus;return(0,_utils.logoutSocket)(o,t)}})},e.mixins.push(function(e){if("function"!=typeof e.before||"function"!=typeof e.after)throw new Error("It looks like feathers-hooks isn't configured. It is required before running feathers-authentication.");e.before(hooks.populateParams(t))}),e.rest&&e.mixins.push(function(e){e.before(hooks.populateHeader(t))})}};var _feathersErrors=require("feathers-errors"),_feathersErrors2=_interopRequireDefault(_feathersErrors),_hooks=require("./hooks"),hooks=_interopRequireWildcard(_hooks),_utils=require("./utils"),defaults={cookie:"feathers-jwt",tokenKey:"feathers-jwt",localEndpoint:"/auth/local",tokenEndpoint:"/auth/token"};module.exports=exports.default;

},{"./hooks":15,"./utils":17,"feathers-errors":22}],17:[function(require,module,exports){
"use strict";function connected(e){return new Promise(function(t,o){if(e.rest)return t();var n=e.io||e.primus;if(!n)return o(new Error("It looks like no client connection has been configured."));if(n.once("disconnect",o),n.once("close",o),e.io&&!n.connected||e.primus&&3!==n.readyState){var r=e.primus?"open":"connect";n.once(r,function(){return t(n)})}else t(n)})}function authenticateSocket(e,t,o){return new Promise(function(n,r){t.once("unauthorized",r),t.once("authenticated",n),t[o]("authenticate",e)})}function logoutSocket(e,t){return new Promise(function(o,n){e[t]("logout",function(e){e&&n(e),o()})})}function getCookie(e){if("undefined"!=typeof document){var t="; "+document.cookie,o=t.split("; "+e+"=");if(2===o.length)return o.pop().split(";").shift()}return null}function clearCookie(e){return"undefined"!=typeof document&&(document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"),null}function getJWT(e,t,o){return Promise.resolve(o.getItem(e)).then(function(e){var o=getCookie(t);return o?o:e})}function getStorage(e){return e?e:{store:{},getItem:function(e){return this.store[e]},setItem:function(e,t){return this.store[e]=t},removeItem:function(e){return delete this.store[e],this}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.connected=connected,exports.authenticateSocket=authenticateSocket,exports.logoutSocket=logoutSocket,exports.getCookie=getCookie,exports.clearCookie=clearCookie,exports.getJWT=getJWT,exports.getStorage=getStorage;

},{}],18:[function(require,module,exports){
"use strict";function getArguments(e,t){return converters[e](t)}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};exports.default=getArguments;var noop=exports.noop=function(){},getCallback=function(e){var t=e[e.length-1];return"function"==typeof t?t:noop},getParams=function(e,t){return"object"===_typeof(e[t])?e[t]:{}},updateOrPatch=function(e){return function(t){var r=t[0],o=t[1],n=getCallback(t),a=getParams(t,2);if("function"==typeof r)throw new Error("First parameter for '"+e+"' can not be a function");if("object"!==("undefined"==typeof o?"undefined":_typeof(o)))throw new Error("No data provided for '"+e+"'");if(t.length>4)throw new Error("Too many arguments for '"+e+"' service method");return[r,o,a,n]}},getOrRemove=function(e){return function(t){var r=t[0],o=getParams(t,1),n=getCallback(t);if(t.length>3)throw new Error("Too many arguments for '"+e+"' service method");if("function"==typeof r)throw new Error("First parameter for '"+e+"' can not be a function");return[r,o,n]}},converters=exports.converters={find:function(e){var t=getCallback(e),r=getParams(e,0);if(e.length>2)throw new Error("Too many arguments for 'find' service method");return[r,t]},create:function(e){var t=e[0],r=getParams(e,1),o=getCallback(e);if("object"!==("undefined"==typeof t?"undefined":_typeof(t)))throw new Error("First parameter for 'create' must be an object");if(e.length>3)throw new Error("Too many arguments for 'create' service method");return[t,r,o]},update:updateOrPatch("update"),patch:updateOrPatch("patch"),get:getOrRemove("get"),remove:getOrRemove("remove")};

},{}],19:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _arguments=require("./arguments"),_arguments2=_interopRequireDefault(_arguments),_utils=require("./utils"),_hooks=require("./hooks"),_hooks2=_interopRequireDefault(_hooks);exports.default={getArguments:_arguments2.default,stripSlashes:_utils.stripSlashes,each:_utils.each,hooks:_hooks2.default,matcher:_utils.matcher,sorter:_utils.sorter},module.exports=exports.default;

},{"./arguments":18,"./hooks":20,"./utils":21}],20:[function(require,module,exports){
"use strict";function getOrRemove(e){return{id:e[0],params:e[1],callback:e[2]}}function updateOrPatch(e){return{id:e[0],data:e[1],params:e[2],callback:e[3]}}function hookObject(e,t,a){var r=converters[e](a);return r.method=e,r.type=t,r}function defaultMakeArguments(e){var t=[];return"undefined"!=typeof e.id&&t.push(e.id),e.data&&t.push(e.data),t.push(e.params||{}),t.push(e.callback),t}function makeArguments(e){return"find"===e.method?[e.params,e.callback]:"get"===e.method||"remove"===e.method?[e.id,e.params,e.callback]:"update"===e.method||"patch"===e.method?[e.id,e.data,e.params,e.callback]:"create"===e.method?[e.data,e.params,e.callback]:defaultMakeArguments(e)}function convertHookData(e){var t={};return Array.isArray(e)?t={all:e}:"object"!==("undefined"==typeof e?"undefined":_typeof(e))?t={all:[e]}:(0,_utils.each)(e,function(e,a){t[a]=Array.isArray(e)?e:[e]}),t}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_utils=require("./utils"),converters={find:function(e){return{params:e[0],callback:e[1]}},create:function(e){return{data:e[0],params:e[1],callback:e[2]}},get:getOrRemove,remove:getOrRemove,update:updateOrPatch,patch:updateOrPatch};exports.default={hookObject:hookObject,hook:hookObject,converters:converters,defaultMakeArguments:defaultMakeArguments,makeArguments:makeArguments,convertHookData:convertHookData},module.exports=exports.default;

},{"./utils":21}],21:[function(require,module,exports){
"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var n=0,t=Array(r.length);n<r.length;n++)t[n]=r[n];return t}return Array.from(r)}function stripSlashes(r){return r.replace(/^(\/*)|(\/*)$/g,"")}function each(r,n){r&&"function"==typeof r.forEach?r.forEach(n):"object"===("undefined"==typeof r?"undefined":_typeof(r))&&Object.keys(r).forEach(function(t){return n(r[t],t)})}function matcher(r){var n=_.omit(r,"$limit","$skip","$sort");return function(r){return!(!n.$or||!_.some(n.$or,function(n){return matcher(n)(r)}))||_.every(n,function(t,e){return"object"===("undefined"==typeof t?"undefined":_typeof(t))?_.every(t,function(n,t){if(specialFilters[t]){var o=specialFilters[t](e,n);return o(r)}return!1}):"undefined"!=typeof r[e]&&r[e]===n[e]})}}function sorter(r){return function(n,t){var e=0;return each(r,function(r,o){r=parseInt(r,10),n[o]<t[o]&&(e-=1*r),n[o]>t[o]&&(e+=1*r)}),e}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol?"symbol":typeof r};exports.stripSlashes=stripSlashes,exports.each=each,exports.matcher=matcher,exports.sorter=sorter;var _=exports._={some:function(r,n){return Object.keys(r).map(function(n){return[r[n],n]}).some(function(r){return n.apply(void 0,_toConsumableArray(r))})},every:function(r,n){return Object.keys(r).map(function(n){return[r[n],n]}).every(function(r){return n.apply(void 0,_toConsumableArray(r))})},isMatch:function(r,n){return Object.keys(n).every(function(t){return r[t]===n[t]})},omit:function(r){for(var n=_extends({},r),t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return e.forEach(function(r){return delete n[r]}),n}},specialFilters=exports.specialFilters={$in:function(r,n){return function(t){return n.indexOf(t[r])!==-1}},$nin:function(r,n){return function(t){return n.indexOf(t[r])===-1}},$lt:function(r,n){return function(t){return t[r]<n}},$lte:function(r,n){return function(t){return t[r]<=n}},$gt:function(r,n){return function(t){return t[r]>n}},$gte:function(r,n){return function(t){return t[r]>=n}},$ne:function(r,n){return function(t){return t[r]!==n}}};

},{}],22:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _extendableBuiltin(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}function convert(e){if(!e)return e;var t=errors[e.name],r=t?new t(e.message,e.data):new Error(e.message||e);return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&_extends(r,e),r}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),debug=require("debug")("feathers-errors"),FeathersError=function(e){function t(e,r,o,n,s){_classCallCheck(this,t),e=e||"Error";var i=void 0,c=void 0,a=void 0;e instanceof Error?(c=e.message||"Error",e.errors&&(i=e.errors)):"object"===("undefined"==typeof e?"undefined":_typeof(e))?(c=e.message||"Error",s=e):c=e,s&&(a=_extends({},s),a.errors&&(i=a.errors,delete a.errors));var l=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,c));return l.type="FeathersError",l.name=r,l.message=c,l.code=o,l.className=n,l.data=a,l.errors=i||{},debug(l.name+"("+l.code+"): "+l.message),l}return _inherits(t,e),_createClass(t,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}}]),t}(_extendableBuiltin(Error)),BadRequest=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,"BadRequest",400,"bad-request",r))}return _inherits(t,e),t}(FeathersError),NotAuthenticated=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,"NotAuthenticated",401,"not-authenticated",r))}return _inherits(t,e),t}(FeathersError),PaymentError=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,"PaymentError",402,"payment-error",r))}return _inherits(t,e),t}(FeathersError),Forbidden=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,"Forbidden",403,"forbidden",r))}return _inherits(t,e),t}(FeathersError),NotFound=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,"NotFound",404,"not-found",r))}return _inherits(t,e),t}(FeathersError),MethodNotAllowed=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,"MethodNotAllowed",405,"method-not-allowed",r))}return _inherits(t,e),t}(FeathersError),NotAcceptable=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,"NotAcceptable",406,"not-acceptable",r))}return _inherits(t,e),t}(FeathersError),Timeout=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,"Timeout",408,"timeout",r))}return _inherits(t,e),t}(FeathersError),Conflict=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,"Conflict",409,"conflict",r))}return _inherits(t,e),t}(FeathersError),Unprocessable=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,"Unprocessable",422,"unprocessable",r))}return _inherits(t,e),t}(FeathersError),GeneralError=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,"GeneralError",500,"general-error",r))}return _inherits(t,e),t}(FeathersError),NotImplemented=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,"NotImplemented",501,"not-implemented",r))}return _inherits(t,e),t}(FeathersError),Unavailable=function(e){function t(e,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,"Unavailable",503,"unavailable",r))}return _inherits(t,e),t}(FeathersError),errors={FeathersError:FeathersError,BadRequest:BadRequest,NotAuthenticated:NotAuthenticated,PaymentError:PaymentError,Forbidden:Forbidden,NotFound:NotFound,MethodNotAllowed:MethodNotAllowed,NotAcceptable:NotAcceptable,Timeout:Timeout,Conflict:Conflict,Unprocessable:Unprocessable,GeneralError:GeneralError,NotImplemented:NotImplemented,Unavailable:Unavailable,400:BadRequest,401:NotAuthenticated,402:PaymentError,403:Forbidden,404:NotFound,405:MethodNotAllowed,406:NotAcceptable,408:Timeout,409:Conflict,422:Unprocessable,500:GeneralError,501:NotImplemented,503:Unavailable};exports.default=_extends({convert:convert,types:errors,errors:errors},errors),module.exports=exports.default;

},{"debug":9}],23:[function(require,module,exports){
"use strict";function lowerCase(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=function(r){var t=!0,n=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var f=a.value;if(r[f]){if("string"!=typeof r[f])throw new errors.BadRequest("Expected string");r[f]=r[f].toLowerCase()}}}catch(r){n=!0,o=r}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}},o="function"==typeof e[e.length-1]?e.pop():function(){return!0};return function(r){var e="before"===r.type?r.data:r.result,t=function(t){return e&&t&&("find"===r.method||Array.isArray(e)?(e.data||e).forEach(n):n(e)),r},a=o(r);return a&&"function"==typeof a.then?a.then(t):t(a)}}function removeQuery(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=function(r){var t=!0,n=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var f=a.value;r[f]=void 0,delete r[f]}}catch(r){n=!0,o=r}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}},o="function"==typeof e[e.length-1]?e.pop():function(){return!0};return function(r){if("after"===r.type)throw new errors.GeneralError("Provider '"+r.params.provider+"' can not remove query params on after hook.");var e=r.params.query,t=function(t){return e&&t&&n(e),r},a=o(r);return a&&"function"==typeof a.then?a.then(t):t(a)}}function pluckQuery(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=function(r){var t=!0,n=!1,o=void 0;try{for(var a,i=Object.keys(r)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var f=a.value;e.indexOf(f)===-1&&(r[f]=void 0,delete r[f])}}catch(r){n=!0,o=r}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}},o="function"==typeof e[e.length-1]?e.pop():function(){return!0};return function(r){if("after"===r.type)throw new errors.GeneralError("Provider '"+r.params.provider+"' can not pluck query params on after hook.");var e=r.params.query,t=function(t){return e&&t&&n(e),r},a=o(r);return a&&"function"==typeof a.then?a.then(t):t(a)}}function removeField(r,e){for(var t=e.split("."),n=t[t.length-1],o=0;r&&o<t.length-1;o++)r=r[t[o]];r&&(r[n]=void 0,delete r[n])}function remove(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=function(r){var t=!0,n=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var f=a.value;removeField(r,f)}}catch(r){n=!0,o=r}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}},o="function"==typeof e[e.length-1]?e.pop():function(r){return!!r.params.provider};return function(r){var e="before"===r.type?r.data:r.result;Array.isArray(e)?e.forEach(function(r,e,t){"function"==typeof r.toObject?t[e]=r.toObject():"function"==typeof r.toJSON&&(t[e]=r.toJSON())}):"function"==typeof e.toObject?e=e.toObject():"function"==typeof e.toJSON&&(e=e.toJSON());var t=function(t){return e&&t&&(Array.isArray(e)?e.forEach(n):(n(e),e.data&&(Array.isArray(e.data)?e.data.forEach(n):n(e.data)))),"before"===r.type?r.data=e:r.result=e,r},a=o(r);return a&&"function"==typeof a.then?a.then(t):t(a)}}function pluck(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=function(r){var t=!0,n=!1,o=void 0;try{for(var a,i=Object.keys(r)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var f=a.value;e.indexOf(f)===-1&&(r[f]=void 0,delete r[f])}}catch(r){n=!0,o=r}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}},o="function"==typeof e[e.length-1]?e.pop():function(r){return!!r.params.provider};return function(r){var e="before"===r.type?r.data:r.result,t=function(t){return e&&t&&("find"===r.method||Array.isArray(e)?(e.data||e).forEach(n):n(e)),r},a=o(r);return a&&"function"==typeof a.then?a.then(t):t(a)}}function disable(r){var e=arguments;if(!r)return function(r){throw new errors.MethodNotAllowed("Calling '"+r.method+"' not allowed.")};if("function"==typeof r)return function(e){var t=r(e),n=function(r){if(!r)throw new errors.MethodNotAllowed("Calling '"+e.method+"' not allowed.")};return t&&"function"==typeof t.then?t.then(n):void n(t)};var t,n,o,a=function(){for(t=e.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=e[o];var a=[r].concat(n);return{v:function(e){var t=e.params.provider;if("external"===r&&t||a.indexOf(t)!==-1)throw new errors.MethodNotAllowed("Provider '"+e.params.provider+"' can not call '"+e.method+"'")}}}();return"object"===("undefined"==typeof a?"undefined":_typeof(a))?a.v:void 0}function populate(r,e){if(e=Object.assign({},e),!e.service)throw new Error("You need to provide a service");var t=e.field||r;return function(n){function o(o){if(!o[t])return Promise.resolve(o);var a=o[t];"function"==typeof o.toObject?o=o.toObject(e):"function"==typeof o.toJSON&&(o=o.toJSON(e));var i=Object.assign({},i,{query:void 0}),f=Array.isArray(a)?Promise.all(a.map(function(r){return n.app.service(e.service).get(r,i)})):n.app.service(e.service).get(a,i);return f.then(function(e){return e&&(o[r]=e),o})}if("after"===n.type){var a=function(){var r="find"===n.method&&n.result.data,e=r?n.result.data:n.result;return Array.isArray(e)?{v:Promise.all(e.map(o)).then(function(e){return r?n.result.data=e:n.result=e,n})}:{v:o(n.result).then(function(r){return n.result=r,n})}}();if("object"===("undefined"==typeof a?"undefined":_typeof(a)))return a.v}}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol?"symbol":typeof r};exports.lowerCase=lowerCase,exports.removeQuery=removeQuery,exports.pluckQuery=pluckQuery,exports.remove=remove,exports.pluck=pluck,exports.disable=disable,exports.populate=populate;var errors=require("feathers-errors").errors;

},{"feathers-errors":22}],24:[function(require,module,exports){
"use strict";function _defineProperty(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function isHookObject(o){return"object"===("undefined"==typeof o?"undefined":_typeof(o))&&"string"==typeof o.method&&("before"===o.type||"after"===o.type)}function processHooks(o,e){var t=this,n=e,r=function(o){if(o){if(!isHookObject(o))throw new Error(n.type+" hook for '"+n.method+"' method returned invalid hook object");n=o}return n},f=Promise.resolve(n);return o.forEach(function(o){var e=o.bind(t);f=2===e.length?f.then(function(o){return new Promise(function(t,n){e(o,function(o,e){return o?n(o):t(e)})})}):f.then(e),f=f.then(r)}),f.catch(function(o){throw o.hook=n,o})}function addHookMethod(o,e,t){var n="__"+e+"Hooks";o[n]={},t.forEach(function(e){"function"==typeof o[e]&&(o[n][e]=[])}),o.mixin(_defineProperty({},e,function(o){var e=this,r=_feathersCommons.hooks.convertHookData(o);return t.forEach(function(o){if("function"==typeof e[o]){var t=e[n][o];r.all&&t.push.apply(t,r.all),r[o]&&t.push.apply(t,r[o])}}),this}))}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol?"symbol":typeof o};exports.isHookObject=isHookObject,exports.processHooks=processHooks,exports.addHookMethod=addHookMethod;var _feathersCommons=require("feathers-commons");

},{"feathers-commons":19}],25:[function(require,module,exports){
"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o.default=e,o}function _toConsumableArray(e){if(Array.isArray(e)){for(var o=0,r=Array(e.length);o<e.length;o++)r[o]=e[o];return r}return Array.from(e)}function isPromise(e){return"undefined"!=typeof e&&"function"==typeof e.then}function hookMixin(e){if("function"==typeof e.mixin){var o=this,r=o.methods,n=e.before,t=e.after,i={};(0,_commons.addHookMethod)(e,"before",r),(0,_commons.addHookMethod)(e,"after",r),r.forEach(function(r){"function"==typeof e[r]&&(i[r]=function(){var e=this._super.bind(this),n=_feathersCommons.hooks.hookObject(r,"before",arguments);return n.app=o,_commons.processHooks.call(this,this.__beforeHooks[r],n).then(function(o){return"undefined"!=typeof o.result?Promise.resolve(o):new Promise(function(r,n){var t=_feathersCommons.hooks.makeArguments(o),i=function(e,t){e?n(e):(o.result=t,r(o))};t.splice(t.length-1,1,i);var u=e.apply(void 0,_toConsumableArray(t));isPromise(u)&&u.then(function(e){return i(null,e)},i)})}).then(function(e){return Object.assign({},e,{type:"after"})}).then(_commons.processHooks.bind(this,this.__afterHooks[r])).then(function(e){return e.result})})}),e.mixin(i),n&&e.before(n),t&&e.after(t)}}function configure(){return function(){this.mixins.unshift(hookMixin)}}Object.defineProperty(exports,"__esModule",{value:!0});var _feathersCommons=require("feathers-commons"),_bundled=require("./bundled"),hooks=_interopRequireWildcard(_bundled),_commons=require("./commons");configure.removeQuery=hooks.removeQuery,configure.pluckQuery=hooks.pluckQuery,configure.lowerCase=hooks.lowerCase,configure.remove=hooks.remove,configure.pluck=hooks.pluck,configure.disable=hooks.disable,configure.populate=hooks.populate,exports.default=configure,module.exports=exports.default;

},{"./bundled":23,"./commons":24,"feathers-commons":19}],26:[function(require,module,exports){
arguments[4][14][0].apply(exports,arguments)
},{"./lib/client/index":29,"dup":14}],27:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function toError(e){throw(0,_feathersErrors.convert)(e)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_qs=require("qs"),_qs2=_interopRequireDefault(_qs),_feathersCommons=require("feathers-commons"),_feathersErrors=require("feathers-errors"),Base=function(){function e(r){_classCallCheck(this,e),this.name=(0,_feathersCommons.stripSlashes)(r.name),this.options=r.options,this.connection=r.connection,this.base=r.base+"/"+this.name}return _createClass(e,[{key:"makeUrl",value:function(e,r){e=e||{};var t=this.base;if("undefined"!=typeof r&&null!==r&&(t+="/"+r),0!==Object.keys(e).length){var n=_qs2.default.stringify(e);t+="?"+n}return t}},{key:"find",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this.request({url:this.makeUrl(e.query),method:"GET",headers:_extends({},e.headers)}).catch(toError)}},{key:"get",value:function(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this.request({url:this.makeUrl(r.query,e),method:"GET",headers:_extends({},r.headers)}).catch(toError)}},{key:"create",value:function(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this.request({url:this.makeUrl(r.query),body:e,method:"POST",headers:_extends({"Content-Type":"application/json"},r.headers)}).catch(toError)}},{key:"update",value:function(e,r){var t=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return this.request({url:this.makeUrl(t.query,e),body:r,method:"PUT",headers:_extends({"Content-Type":"application/json"},t.headers)}).catch(toError)}},{key:"patch",value:function(e,r){var t=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return this.request({url:this.makeUrl(t.query,e),body:r,method:"PATCH",headers:_extends({"Content-Type":"application/json"},t.headers)}).catch(toError)}},{key:"remove",value:function(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this.request({url:this.makeUrl(r.query,e),method:"DELETE",headers:_extends({},r.headers)}).catch(toError)}}]),e}();exports.default=Base,module.exports=exports.default;

},{"feathers-commons":19,"feathers-errors":22,"qs":33}],28:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_base=require("./base"),_base2=_interopRequireDefault(_base),Service=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"request",value:function(e){var t=_extends({},e);t.headers=_extends({Accept:"application/json"},this.options.headers,t.headers),e.body&&(t.body=JSON.stringify(e.body));var r=this.connection;return r(e.url,t).then(this.checkStatus).then(function(e){return e.json()})}},{key:"checkStatus",value:function(e){return e.ok?e:e.json().then(function(t){throw t.response=e,t})}}]),t}(_base2.default);exports.default=Service,module.exports=exports.default;

},{"./base":27}],29:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],r={};return Object.keys(transports).forEach(function(t){var u=transports[t];r[t]=function(r){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!r)throw new Error(t+" has to be provided to feathers-rest");var o=function(t){return new u({base:e,name:t,connection:r,options:n})},i=function(){if("function"==typeof this.defaultService)throw new Error("Only one default client provider can be configured");this.rest=r,this.defaultService=o};return i.Service=u,i.service=o,i}}),r};var _jquery=require("./jquery"),_jquery2=_interopRequireDefault(_jquery),_superagent=require("./superagent"),_superagent2=_interopRequireDefault(_superagent),_request=require("./request"),_request2=_interopRequireDefault(_request),_fetch=require("./fetch"),_fetch2=_interopRequireDefault(_fetch),transports={jquery:_jquery2.default,superagent:_superagent2.default,request:_request2.default,fetch:_fetch2.default};module.exports=exports.default;

},{"./fetch":28,"./jquery":30,"./request":31,"./superagent":32}],30:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_base=require("./base"),_base2=_interopRequireDefault(_base),Service=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"request",value:function(e){var t=this,r=_extends({dataType:e.type||"json"},{headers:this.options.headers||{}},e);return e.body&&(r.data=JSON.stringify(e.body),r.contentType="application/json"),delete r.type,delete r.body,new Promise(function(e,n){t.connection.ajax(r).then(e,function(e){var t=e.responseText;try{t=JSON.parse(t)}catch(r){t=new Error(e.responseText)}t.xhr=t.response=e,n(t)})})}}]),t}(_base2.default);exports.default=Service,module.exports=exports.default;

},{"./base":27}],31:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_base=require("./base"),_base2=_interopRequireDefault(_base),Service=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"request",value:function(e){var t=this;return new Promise(function(r,n){t.connection(_extends({json:!0},e),function(e,t,o){return e?n(e):!e&&t.statusCode>=400?"string"==typeof o?n(new Error(o)):(o.response=t,n(_extends(new Error(o.message),o))):void r(o)})})}}]),t}(_base2.default);exports.default=Service,module.exports=exports.default;

},{"./base":27}],32:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_base=require("./base"),_base2=_interopRequireDefault(_base),Service=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"request",value:function(e){var t=this.connection(e.method,e.url).set(this.options.headers||{}).set("Accept","application/json").set(e.headers||{}).type(e.type||"json");return new Promise(function(r,n){t.set(e.headers),e.body&&t.send(e.body),t.end(function(e,t){if(e){try{var o=e.response;e=JSON.parse(e.response.text),e.response=o}catch(e){}return n(e)}r(t&&t.body)})})}}]),t}(_base2.default);exports.default=Service,module.exports=exports.default;

},{"./base":27}],33:[function(require,module,exports){
"use strict";var Stringify=require("./stringify"),Parse=require("./parse");module.exports={stringify:Stringify,parse:Parse};

},{"./parse":34,"./stringify":35}],34:[function(require,module,exports){
"use strict";var Utils=require("./utils"),has=Object.prototype.hasOwnProperty,defaults={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1,decoder:Utils.decode},parseValues=function(e,t){for(var r={},l=e.split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),a=0;a<l.length;++a){var i,o,s=l[a],n=s.indexOf("]=")===-1?s.indexOf("="):s.indexOf("]=")+1;n===-1?(i=t.decoder(s),o=t.strictNullHandling?null:""):(i=t.decoder(s.slice(0,n)),o=t.decoder(s.slice(n+1))),has.call(r,i)?r[i]=[].concat(r[i]).concat(o):r[i]=o}return r},parseObject=function e(t,r,l){if(!t.length)return r;var a,i=t.shift();if("[]"===i)a=[],a=a.concat(e(t,r,l));else{a=l.plainObjects?Object.create(null):{};var o="["===i[0]&&"]"===i[i.length-1]?i.slice(1,i.length-1):i,s=parseInt(o,10);!isNaN(s)&&i!==o&&String(s)===o&&s>=0&&l.parseArrays&&s<=l.arrayLimit?(a=[],a[s]=e(t,r,l)):a[o]=e(t,r,l)}return a},parseKeys=function(e,t,r){if(e){var l=r.allowDots?e.replace(/\.([^\.\[]+)/g,"[$1]"):e,a=/^([^\[\]]*)/,i=/(\[[^\[\]]*\])/g,o=a.exec(l),s=[];if(o[1]){if(!r.plainObjects&&has.call(Object.prototype,o[1])&&!r.allowPrototypes)return;s.push(o[1])}for(var n=0;null!==(o=i.exec(l))&&n<r.depth;)n+=1,(r.plainObjects||!has.call(Object.prototype,o[1].replace(/\[|\]/g,""))||r.allowPrototypes)&&s.push(o[1]);return o&&s.push("["+l.slice(o.index)+"]"),parseObject(s,t,r)}};module.exports=function(e,t){var r=t||{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.delimiter="string"==typeof r.delimiter||Utils.isRegExp(r.delimiter)?r.delimiter:defaults.delimiter,r.depth="number"==typeof r.depth?r.depth:defaults.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:defaults.arrayLimit,r.parseArrays=r.parseArrays!==!1,r.decoder="function"==typeof r.decoder?r.decoder:defaults.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:defaults.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:defaults.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:defaults.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:defaults.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:defaults.strictNullHandling,""===e||null===e||"undefined"==typeof e)return r.plainObjects?Object.create(null):{};for(var l="string"==typeof e?parseValues(e,r):e,a=r.plainObjects?Object.create(null):{},i=Object.keys(l),o=0;o<i.length;++o){var s=i[o],n=parseKeys(s,l[s],r);a=Utils.merge(a,n,r)}return Utils.compact(a)};

},{"./utils":36}],35:[function(require,module,exports){
"use strict";var Utils=require("./utils"),arrayPrefixGenerators={brackets:function(e){return e+"[]"},indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},defaults={delimiter:"&",strictNullHandling:!1,skipNulls:!1,encode:!0,encoder:Utils.encode},stringify=function e(r,t,n,i,o,l,a,f,s){var u=r;if("function"==typeof a)u=a(t,u);else if(u instanceof Date)u=u.toISOString();else if(null===u){if(i)return l?l(t):t;u=""}if("string"==typeof u||"number"==typeof u||"boolean"==typeof u||Utils.isBuffer(u))return l?[l(t)+"="+l(u)]:[t+"="+String(u)];var c=[];if("undefined"==typeof u)return c;var d;if(Array.isArray(a))d=a;else{var y=Object.keys(u);d=f?y.sort(f):y}for(var p=0;p<d.length;++p){var v=d[p];o&&null===u[v]||(c=Array.isArray(u)?c.concat(e(u[v],n(t,v),n,i,o,l,a,f,s)):c.concat(e(u[v],t+(s?"."+v:"["+v+"]"),n,i,o,l,a,f,s)))}return c};module.exports=function(e,r){var t,n,i=e,o=r||{},l="undefined"==typeof o.delimiter?defaults.delimiter:o.delimiter,a="boolean"==typeof o.strictNullHandling?o.strictNullHandling:defaults.strictNullHandling,f="boolean"==typeof o.skipNulls?o.skipNulls:defaults.skipNulls,s="boolean"==typeof o.encode?o.encode:defaults.encode,u=s?"function"==typeof o.encoder?o.encoder:defaults.encoder:null,c="function"==typeof o.sort?o.sort:null,d="undefined"!=typeof o.allowDots&&o.allowDots;if(null!==o.encoder&&void 0!==o.encoder&&"function"!=typeof o.encoder)throw new TypeError("Encoder has to be a function.");"function"==typeof o.filter?(n=o.filter,i=n("",i)):Array.isArray(o.filter)&&(t=n=o.filter);var y=[];if("object"!=typeof i||null===i)return"";var p;p=o.arrayFormat in arrayPrefixGenerators?o.arrayFormat:"indices"in o?o.indices?"indices":"repeat":"indices";var v=arrayPrefixGenerators[p];t||(t=Object.keys(i)),c&&t.sort(c);for(var g=0;g<t.length;++g){var b=t[g];f&&null===i[b]||(y=y.concat(stringify(i[b],b,v,a,f,u,n,c,d)))}return y.join(l)};

},{"./utils":36}],36:[function(require,module,exports){
"use strict";var hexTable=function(){for(var e=new Array(256),r=0;r<256;++r)e[r]="%"+((r<16?"0":"")+r.toString(16)).toUpperCase();return e}();exports.arrayToObject=function(e,r){for(var t=r.plainObjects?Object.create(null):{},o=0;o<e.length;++o)"undefined"!=typeof e[o]&&(t[o]=e[o]);return t},exports.merge=function(e,r,t){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];e[r]=!0}return e}if("object"!=typeof e)return[e].concat(r);var o=e;return Array.isArray(e)&&!Array.isArray(r)&&(o=exports.arrayToObject(e,t)),Object.keys(r).reduce(function(e,o){var n=r[o];return Object.prototype.hasOwnProperty.call(e,o)?e[o]=exports.merge(e[o],n,t):e[o]=n,e},o)},exports.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return e}},exports.encode=function(e){if(0===e.length)return e;for(var r="string"==typeof e?e:String(e),t="",o=0;o<r.length;++o){var n=r.charCodeAt(o);45===n||46===n||95===n||126===n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122?t+=r.charAt(o):n<128?t+=hexTable[n]:n<2048?t+=hexTable[192|n>>6]+hexTable[128|63&n]:n<55296||n>=57344?t+=hexTable[224|n>>12]+hexTable[128|n>>6&63]+hexTable[128|63&n]:(o+=1,n=65536+((1023&n)<<10|1023&r.charCodeAt(o)),t+=hexTable[240|n>>18]+hexTable[128|n>>12&63]+hexTable[128|n>>6&63]+hexTable[128|63&n])}return t},exports.compact=function(e,r){if("object"!=typeof e||null===e)return e;var t=r||[],o=t.indexOf(e);if(o!==-1)return t[o];if(t.push(e),Array.isArray(e)){for(var n=[],c=0;c<e.length;++c)e[c]&&"object"==typeof e[c]?n.push(exports.compact(e[c],t)):"undefined"!=typeof e[c]&&n.push(e[c]);return n}for(var a=Object.keys(e),u=0;u<a.length;++u){var f=a[u];e[f]=exports.compact(e[f],t)}return e},exports.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},exports.isBuffer=function(e){return null!==e&&"undefined"!=typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};

},{}],37:[function(require,module,exports){
arguments[4][14][0].apply(exports,arguments)
},{"./lib/client/index":40,"dup":14}],38:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _debug=require("debug"),_debug2=_interopRequireDefault(_debug),_feathersCommons=require("feathers-commons"),_uberproto=require("uberproto"),_uberproto2=_interopRequireDefault(_uberproto),_index=require("./mixins/index"),_index2=_interopRequireDefault(_index),debug=(0,_debug2.default)("feathers:application"),methods=["find","get","create","update","patch","remove"],Proto=_uberproto2.default.extend({create:null});exports.default={init:function(){Object.assign(this,{methods:methods,mixins:(0,_index2.default)(),services:{},providers:[],_setup:!1})},service:function(e,t){var r=this,i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(e=(0,_feathersCommons.stripSlashes)(e),!t){var s=this.services[e];return"undefined"==typeof s&&"function"==typeof this.defaultService?this.service(e,this.defaultService(e),i):s}var u=Proto.extend(t);return debug("Registering new service at `"+e+"`"),this.mixins.forEach(function(e){return e.call(r,u)}),"function"==typeof u._setup&&u._setup(this,e),this.providers.forEach(function(t){return t.call(r,e,u,i)}),this._isSetup&&"function"==typeof u.setup&&(debug("Setting up service for `"+e+"`"),u.setup(this,e)),this.services[e]=u},use:function(e){var t=void 0,r=Array.from(arguments).slice(1).reduce(function(e,r){if("function"==typeof r)e[t?"after":"before"].push(r);else{if(t)throw new Error("invalid arg passed to app.use");t=r}return e},{before:[],after:[]}),i=function(e){return e.some(function(e){return t&&"function"==typeof t[e]})};return i(["handle","set"])||!i(this.methods.concat("setup"))?this._super.apply(this,arguments):(this.service(e,t,{middleware:r}),this)},setup:function(){var e=this;return Object.keys(this.services).forEach(function(t){var r=e.services[t];debug("Setting up service for `"+t+"`"),"function"==typeof r.setup&&r.setup(e,t)}),this._isSetup=!0,this},configure:function(e){return e.call(this),this},listen:function(){var e=this._super.apply(this,arguments);return this.setup(e),debug("Feathers application listening"),e}},module.exports=exports.default;

},{"./mixins/index":43,"debug":9,"feathers-commons":19,"uberproto":130}],39:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var e={settings:{},get:function(e){return this.settings[e]},set:function(e,t){return this.settings[e]=t,this},disable:function(e){return this.settings[e]=!1,this},disabled:function(e){return!this.settings[e]},enable:function(e){return this.settings[e]=!0,this},enabled:function(e){return!!this.settings[e]},use:function(){throw new Error("Middleware functions can not be used in the Feathers client")},listen:function(){return{}}};return _uberproto2.default.mixin(_events.EventEmitter.prototype,e),e};var _events=require("events"),_uberproto=require("uberproto"),_uberproto2=_interopRequireDefault(_uberproto);module.exports=exports.default;

},{"events":13,"uberproto":130}],40:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function createApplication(){return(0,_feathers2.default)(_express2.default.apply(void 0,arguments))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createApplication;var _feathers=require("../feathers"),_feathers2=_interopRequireDefault(_feathers),_express=require("./express"),_express2=_interopRequireDefault(_express);createApplication.version="2.0.1",module.exports=exports.default;

},{"../feathers":41,"./express":39}],41:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function createApplication(e){return _uberproto2.default.mixin(_application2.default,e),e.init(),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createApplication;var _uberproto=require("uberproto"),_uberproto2=_interopRequireDefault(_uberproto),_application=require("./application"),_application2=_interopRequireDefault(_application);module.exports=exports.default;

},{"./application":38,"uberproto":130}],42:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function upperCase(e){return e.charAt(0).toUpperCase()+e.substring(1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var r="function"==typeof e.on&&"function"==typeof e.emit,t=e._rubberDuck=_rubberduck2.default.emitter(e);"function"!=typeof e.mixin||r||e.mixin(_events.EventEmitter.prototype),e._serviceEvents=Array.isArray(e.events)?e.events.slice():[],t.on("error",function(r){e.emit("serviceError",r[0])}),Object.keys(eventMappings).forEach(function(r){var n=eventMappings[r],o=e._serviceEvents.indexOf(n)!==-1;if("function"==typeof e[r]&&!o){var u="after"+upperCase(r);e._serviceEvents.push(n),t.punch(r,-1),t.on(u,function(t,o){t[0]?e.emit("serviceError",t[0]):!function(){var u=hookObject(r,"after",o),i=Array.isArray(t[1])?t[1]:[t[1]];i.forEach(function(r){return e.emit(n,r,u)})}()})}})};var _rubberduck=require("rubberduck"),_rubberduck2=_interopRequireDefault(_rubberduck),_events=require("events"),_feathersCommons=require("feathers-commons"),hookObject=_feathersCommons.hooks.hookObject,eventMappings={create:"created",update:"updated",remove:"removed",patch:"patched"};module.exports=exports.default;

},{"events":13,"feathers-commons":19,"rubberduck":121}],43:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var e=[require("./promise"),require("./event"),require("./normalizer")];return e.push=function(){var e=[this.length-1,0].concat(Array.from(arguments));return this.splice.apply(this,e),this.length},e},module.exports=exports.default;

},{"./event":42,"./normalizer":44,"./promise":45}],44:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=this;"function"==typeof e.mixin&&!function(){var o={};t.methods.forEach(function(t){"function"==typeof e[t]&&(o[t]=function(){return this._super.apply(this,(0,_feathersCommons.getArguments)(t,arguments))})}),e.mixin(o)}()};var _feathersCommons=require("feathers-commons");module.exports=exports.default;

},{"feathers-commons":19}],45:[function(require,module,exports){
"use strict";function isPromise(t){return"undefined"!=typeof t&&"function"==typeof t.then}function wrapper(){var t=this._super.apply(this,arguments),e=arguments[arguments.length-1];return"function"==typeof e&&isPromise(t)&&t.then(function(t){return e(null,t)},function(t){return e(t)}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t){var e=this;"function"==typeof t.mixin&&!function(){var n={};e.methods.forEach(function(e){"function"==typeof t[e]&&(n[e]=wrapper)}),t.mixin(n)}()},module.exports=exports.default;

},{}],46:[function(require,module,exports){
var defaultGet=function(t,e,n){return e in t?t[e]:n},getIn=module.exports=function t(e,n,r){if(Array.isArray(n)){if(0===n.length)return e;if(!e)return r;n=n.slice();var i,u=n.shift();return i=e.get?e.get.bind(e):defaultGet.bind(null,e),0===n.length?i(u,r):n.length?t(i(u,r),n):void 0}};

},{}],47:[function(require,module,exports){
(function (global){
var topLevel="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},minDoc=require("min-document");if("undefined"!=typeof document)module.exports=document;else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"min-document":7}],48:[function(require,module,exports){
(function (global){
"undefined"!=typeof window?module.exports=window:"undefined"!=typeof global?module.exports=global:"undefined"!=typeof self?module.exports=self:module.exports={};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],49:[function(require,module,exports){
function attributeToProperty(r){return function(t,o,e){for(var n in o)n in transform&&(o[transform[n]]=o[n],delete o[n]);return r(t,o,e)}}module.exports=attributeToProperty;var transform={class:"className",for:"htmlFor","http-equiv":"httpEquiv"};

},{}],50:[function(require,module,exports){
function quot(T){return T===ATTR_VALUE_SQ||T===ATTR_VALUE_DQ}function has(T,e){return hasOwn.call(T,e)}function selfClosing(T){return closeRE.test(T)}var attrToProp=require("hyperscript-attribute-to-property"),VAR=0,TEXT=1,OPEN=2,CLOSE=3,ATTR=4,ATTR_KEY=5,ATTR_KEY_W=6,ATTR_VALUE_W=7,ATTR_VALUE=8,ATTR_VALUE_SQ=9,ATTR_VALUE_DQ=10,ATTR_EQ=11,ATTR_BREAK=12;module.exports=function(T,e){function A(T){return"function"==typeof T?T:"string"==typeof T?T:T&&"object"==typeof T?T:t("",T)}T=attrToProp(T),e||(e={});var t=e.concat||function(T,e){return String(T)+String(e)};return function(e){function n(T){var e=[];r===ATTR_VALUE_W&&(r=ATTR);for(var A=0;A<T.length;A++){var t=T.charAt(A);r===TEXT&&"<"===t?(R.length&&e.push([TEXT,R]),R="",r=OPEN):">"!==t||quot(r)?r===TEXT?R+=t:r===OPEN&&/\s/.test(t)?(e.push([OPEN,R]),R="",r=ATTR):r===OPEN?R+=t:r===ATTR&&/[\w-]/.test(t)?(r=ATTR_KEY,R=t):r===ATTR&&/\s/.test(t)?(R.length&&e.push([ATTR_KEY,R]),e.push([ATTR_BREAK])):r===ATTR_KEY&&/\s/.test(t)?(e.push([ATTR_KEY,R]),R="",r=ATTR_KEY_W):r===ATTR_KEY&&"="===t?(e.push([ATTR_KEY,R],[ATTR_EQ]),R="",r=ATTR_VALUE_W):r===ATTR_KEY?R+=t:r!==ATTR_KEY_W&&r!==ATTR||"="!==t?r!==ATTR_KEY_W&&r!==ATTR||/\s/.test(t)?r===ATTR_VALUE_W&&'"'===t?r=ATTR_VALUE_DQ:r===ATTR_VALUE_W&&"'"===t?r=ATTR_VALUE_SQ:r===ATTR_VALUE_DQ&&'"'===t?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r===ATTR_VALUE_SQ&&"'"===t?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r!==ATTR_VALUE_W||/\s/.test(t)?r===ATTR_VALUE&&/\s/.test(t)?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r!==ATTR_VALUE&&r!==ATTR_VALUE_SQ&&r!==ATTR_VALUE_DQ||(R+=t):(r=ATTR_VALUE,A--):(e.push([ATTR_BREAK]),/[\w-]/.test(t)?(R+=t,r=ATTR_KEY):r=ATTR):(e.push([ATTR_EQ]),r=ATTR_VALUE_W):(r===OPEN?e.push([OPEN,R]):r===ATTR_KEY?e.push([ATTR_KEY,R]):r===ATTR_VALUE&&R.length&&e.push([ATTR_VALUE,R]),e.push([CLOSE]),R="",r=TEXT)}return r===TEXT&&R.length?(e.push([TEXT,R]),R=""):r===ATTR_VALUE&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_VALUE_DQ&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_VALUE_SQ&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_KEY&&(e.push([ATTR_KEY,R]),R=""),e}for(var r=TEXT,R="",E=arguments.length,_=[],s=0;s<e.length;s++)if(s<E-1){var o=arguments[s+1],l=n(e[s]),f=r;f===ATTR_VALUE_DQ&&(f=ATTR_VALUE),f===ATTR_VALUE_SQ&&(f=ATTR_VALUE),f===ATTR_VALUE_W&&(f=ATTR_VALUE),f===ATTR&&(f=ATTR_KEY),l.push([VAR,f,o]),_.push.apply(_,l)}else _.push.apply(_,n(e[s]));for(var h=[null,{},[]],i=[[h,-1]],s=0;s<_.length;s++){var a=i[i.length-1][0],l=_[s],p=l[0];if(p===OPEN&&/^\//.test(l[1])){var u=i[i.length-1][1];i.length>1&&(i.pop(),i[i.length-1][0][2][u]=T(a[0],a[1],a[2].length?a[2]:void 0))}else if(p===OPEN){var g=[l[1],{},[]];a[2].push(g),i.push([g,a[2].length-1])}else if(p===ATTR_KEY||p===VAR&&l[1]===ATTR_KEY){for(var L,V="";s<_.length;s++)if(_[s][0]===ATTR_KEY)V=t(V,_[s][1]);else{if(_[s][0]!==VAR||_[s][1]!==ATTR_KEY)break;if("object"!=typeof _[s][2]||V)V=t(V,_[s][2]);else for(L in _[s][2])_[s][2].hasOwnProperty(L)&&!a[1][L]&&(a[1][L]=_[s][2][L])}_[s][0]===ATTR_EQ&&s++;for(var U=s;s<_.length;s++)if(_[s][0]===ATTR_VALUE||_[s][0]===ATTR_KEY)a[1][V]?a[1][V]=t(a[1][V],_[s][1]):a[1][V]=A(_[s][1]);else{if(_[s][0]!==VAR||_[s][1]!==ATTR_VALUE&&_[s][1]!==ATTR_KEY){!V.length||a[1][V]||s!==U||_[s][0]!==CLOSE&&_[s][0]!==ATTR_BREAK||(a[1][V]=V.toLowerCase());break}a[1][V]?a[1][V]=t(a[1][V],_[s][2]):a[1][V]=A(_[s][2])}}else if(p===ATTR_KEY)a[1][l[1]]=!0;else if(p===VAR&&l[1]===ATTR_KEY)a[1][l[2]]=!0;else if(p===CLOSE){if(selfClosing(a[0])&&i.length){var u=i[i.length-1][1];i.pop(),i[i.length-1][0][2][u]=T(a[0],a[1],a[2].length?a[2]:void 0)}}else if(p===VAR&&l[1]===TEXT)void 0===l[2]||null===l[2]?l[2]="":l[2]||(l[2]=t("",l[2])),Array.isArray(l[2][0])?a[2].push.apply(a[2],l[2]):a[2].push(l[2]);else if(p===TEXT)a[2].push(l[1]);else if(p!==ATTR_EQ&&p!==ATTR_BREAK)throw new Error("unhandled: "+p)}if(h[2].length>1&&/^\s*$/.test(h[2][0])&&h[2].shift(),h[2].length>2||2===h[2].length&&/\S/.test(h[2][1]))throw new Error("multiple root elements must be wrapped in an enclosing tag");return Array.isArray(h[2][0])&&"string"==typeof h[2][0][0]&&Array.isArray(h[2][0][2])&&(h[2][0]=T(h[2][0][0],h[2][0][1],h[2][0][2])),h[2][0]}};var hasOwn=Object.prototype.hasOwnProperty,closeRE=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-￿_:-]+)*$");

},{"hyperscript-attribute-to-property":49}],51:[function(require,module,exports){
function inuMulti(r){return r.run?extend(r,{run:function(e,n){return Array.isArray(e)?many(e.map(function(e){return r.run(e,n)||empty()})):r.run(e,n)}}):r}var extend=require("xtend"),empty=require("pull-stream/sources/empty"),many=require("pull-many");module.exports=inuMulti;

},{"pull-many":83,"pull-stream/sources/empty":97,"xtend":138}],52:[function(require,module,exports){
function init(){return{model:null}}function update(n){return{model:n}}function view(){return null}function run(){return null}module.exports={init:init,update:update,view:view,run:run};

},{}],53:[function(require,module,exports){
module.exports=require("yo-yo");

},{"yo-yo":140}],54:[function(require,module,exports){
module.exports={defaults:require("./defaults"),start:require("./start"),pull:require("./pull"),html:require("./html")};

},{"./defaults":52,"./html":53,"./pull":55,"./start":56}],55:[function(require,module,exports){
module.exports=require("pull-stream");

},{"pull-stream":86}],56:[function(require,module,exports){
(function (process){
function start(e){function n(e){a(e)}function t(){Object.keys(v).forEach(function(e){v[e].end()})}e=defined(e,{});var i=defined(e.init,defaults.init),r=defined(e.update,defaults.update),u=defined(e.view,defaults.view),l=defined(e.run,defaults.run),a=notify(),f=i.call(e),s=notify();pull(a.listen(),scan(f,function(n,t){return r.call(e,n.model,t)}),drain(s));var o=notify();pull(s.listen(),map(function(e){return e.model}),difference(),drain(o));var c=notify();pull(o.listen(),map(function(t){return u.call(e,t,n)}),filter(isNotNil),drain(c));var d=notify();pull(s.listen(),map(function(e){return e.effect}),filter(isNotNil),drain(d));var p=notify(),v={actions:a,states:s,models:o,views:c,effects:d,effectActionsSources:p},m={};return Object.keys(v).forEach(function(e){var n=v[e].listen;m[e]=["states","models","effects","views"].indexOf(e)!==-1?replayLastValue(n):n}),pull(d.listen(),map(function(n){return l.call(e,n,m)}),filter(isNotNil),drain(p)),pull(p.listen(),drainMany(a)),process.nextTick(function(){s(f)}),Object.assign({},m,{stop:t})}function isNotNil(e){return null!=e}function scan(e,n){return map(function(t){return e=n(e,t)})}function difference(){var e;return filter(function(n){var t=n!==e;return e=n,t})}function drainMany(e){return function(n){pull(n,drain(function(n){pull(n,drain(e))}))}}function replayLastValue(e){var n;return pull(e(),drain(function(e){n=e})),function(){return cat([null==n?void 0:values([n]),e()])}}var defined=require("defined"),pull=require("pull-stream/pull"),values=require("pull-stream/sources/values"),map=require("pull-stream/throughs/map"),filter=require("pull-stream/throughs/filter"),drain=require("pull-stream/sinks/drain"),notify=require("pull-notify"),cat=require("pull-cat"),defaults=require("./defaults");module.exports=start;

}).call(this,require('_process'))

},{"./defaults":52,"_process":80,"defined":11,"pull-cat":82,"pull-notify":84,"pull-stream/pull":87,"pull-stream/sinks/drain":90,"pull-stream/sources/values":103,"pull-stream/throughs/filter":106,"pull-stream/throughs/map":109}],57:[function(require,module,exports){
"use strict";module.exports=require("./event");

},{"./event":62}],58:[function(require,module,exports){
"use strict";function App(r){return Array.isArray(r)||(r=[r]),r.unshift(run),r.push(href),route(combine(r),function(r){return function(e,u){return r(e.href,e,u)}})}var href=require("./href"),run=require("./run").app,route=require("./route"),combine=require("./combine");module.exports=App;

},{"./combine":59,"./href":65,"./route":69,"./run":71}],59:[function(require,module,exports){
"use strict";function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function combineApps(e){return multi({init:combineInits(e),update:combineUpdates(e),run:combineRuns(e),routes:combineRoutes(e)})}function combineInits(e){return function(){return e.reduce(function(e,n){if(!n.init)return e;var t=n.init(),r=extend(e.model,n.name?_defineProperty({},n.name,t.model):t.model),u=t.effect?e.effect.concat([t.effect]):e.effect;return{model:r,effect:u}},{model:{},effect:[]})}}function combineUpdates(e){var n=e.map(function(e){return e.update?e.name?scopeUpdate(e.update,e.name):e.update:defaults.update});return reduceUpdates(n)}function findTopView(e){var n=e.find(function(e){return!e.name&&e.view});return(n||{}).view}function combineRuns(e){return runMany(e.map(function(e){return e.run}))}function combineRoutes(e){return e.reduce(function(e,n){var t=n.routes;return t?e.concat(t):e},[])}var extend=require("xtend"),getIn=require("get-in"),defaults=require("inu/defaults"),multi=require("inu-multi"),reduceUpdates=require("./reduceUpdates"),runMany=require("./runMany"),scopeUpdate=require("./scopeUpdate");module.exports=combineApps;

},{"./reduceUpdates":68,"./runMany":72,"./scopeUpdate":73,"get-in":46,"inu-multi":51,"inu/defaults":52,"xtend":138}],60:[function(require,module,exports){
"use strict";function Domain(e){return extend(e,{update:"object"===_typeof(e.update)?handleActions(e.update):e.update,run:"object"===_typeof(e.run)?handleEffects(e.run):e.run})}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},extend=require("xtend"),handleActions=require("./handleActions"),handleEffects=require("./handleEffects");module.exports=Domain;

},{"./handleActions":63,"./handleEffects":64,"xtend":138}],61:[function(require,module,exports){
"use strict";module.exports=require("./event");

},{"./event":62}],62:[function(require,module,exports){
"use strict";function Event(t){var n=arguments.length<=1||void 0===arguments[1]?identity:arguments[1];return function(){return{type:t,payload:n.apply(void 0,arguments)}}}function identity(t){return t}module.exports=Event;

},{}],63:[function(require,module,exports){
"use strict";function handleActions(e){var r=keys(e).map(function(r){var n=e[r];return function(e,t){return t.type===r?n(e,t.payload):{model:e}}});return reduceUpdates(r)}var keys=require("own-enumerable-keys"),reduceUpdates=require("./reduceUpdates");module.exports=handleActions;

},{"./reduceUpdates":68,"own-enumerable-keys":77}],64:[function(require,module,exports){
"use strict";function handleEffects(e){var n=keys(e).map(function(n){var r=e[n];return function(e,u){if(e.type===n)return r(e.payload,u)}});return runMany(n)}var keys=require("own-enumerable-keys"),runMany=require("./runMany");module.exports=handleEffects;

},{"./runMany":72,"own-enumerable-keys":77}],65:[function(require,module,exports){
"use strict";function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var _run,pull=require("pull-stream"),href=require("sheet-router/href"),history=require("sheet-router/history"),Pushable=require("pull-pushable"),Domain=require("./domain"),Action=require("./action"),Effect=require("./effect"),SET=Symbol("set"),INIT=Symbol("init"),GO=Symbol("go"),set=Action(SET),init=Effect(INIT),go=Effect(GO);module.exports=Domain({name:"href",init:function(){return{model:document.location.href,effect:INIT}},update:_defineProperty({},SET,function(e,r){return{model:r}}),run:(_run={},_defineProperty(_run,INIT,function(e,r){function t(e){o.push({type:SET,payload:e})}var o=Pushable(function(e){console.error(e)});return href(t),history(t),o}),_defineProperty(_run,GO,function(e){if(console.log("href",e),e=e.replace(/#.*/,""),window.location.href!==e)return window.history.pushState({},null,e),pull.values([set(e)])}),_run)}),module.exports.go=go;

},{"./action":57,"./domain":60,"./effect":61,"pull-pushable":85,"pull-stream":86,"sheet-router/history":123,"sheet-router/href":124}],66:[function(require,module,exports){
"use strict";module.exports={App:require("./app"),Domain:require("./domain"),Event:require("./event"),Action:require("./action"),Effect:require("./effect"),run:require("./run").run,navigate:require("./navigate"),apps:{run:require("./run").app,href:require("./href")},Router:require("./router"),route:require("./route"),handleActions:require("./handleActions"),handleEffects:require("./handleEffects"),scopeUpdate:require("./scopeUpdate"),reduceUpdates:require("./reduceUpdates"),runMany:require("./runMany")};

},{"./action":57,"./app":58,"./domain":60,"./effect":61,"./event":62,"./handleActions":63,"./handleEffects":64,"./href":65,"./navigate":67,"./reduceUpdates":68,"./route":69,"./router":70,"./run":71,"./runMany":72,"./scopeUpdate":73}],67:[function(require,module,exports){
"use strict";function navigate(r){var e=window.location.href,u=Url.resolve(e,r);return run(go(u))}var Url=require("url"),run=require("./run").run,go=require("./href").go;module.exports=navigate;

},{"./href":65,"./run":71,"url":131}],68:[function(require,module,exports){
"use strict";function reduceUpdates(e){return function(t,f){var c=e.reduce(function(e,t){var c=t(e.model,f),n=c.model,r=null!=c.effect?e.effect.concat(c.effect):e.effect;return{model:n,effect:r}},{model:t,effect:[]});return c.effect=0!==c.effect.length?c.effect:null,c}}module.exports=reduceUpdates;

},{}],69:[function(require,module,exports){
"use strict";function route(e,r){var t=Router(e.routes);return extend(e,{view:r(t)})}var extend=require("xtend"),Router=require("./router");module.exports=route;

},{"./router":70,"xtend":138}],70:[function(require,module,exports){
"use strict";function Router(r){var t=_slicedToArray(r[r.length-1],1),e=t[0];return createRouter(e,function t(e){return r.map(function(r){var n=_slicedToArray(r,3),o=n[0],u=n[1],i=n[2],a=i?t(i):null;return e(o,u,a)})})}var _slicedToArray=function(){function r(r,t){var e=[],n=!0,o=!1,u=void 0;try{for(var i,a=r[Symbol.iterator]();!(n=(i=a.next()).done)&&(e.push(i.value),!t||e.length!==t);n=!0);}catch(r){o=!0,u=r}finally{try{!n&&a.return&&a.return()}finally{if(o)throw u}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),createRouter=require("sheet-router");module.exports=Router;

},{"sheet-router":125}],71:[function(require,module,exports){
"use strict";function _defineProperty(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var Domain=require("./domain"),Action=require("./action"),RUN=Symbol("run"),run=Action(RUN),app=Domain({update:_defineProperty({},RUN,function(e,r){return{model:e,effect:r}})});module.exports={RUN:RUN,run:run,app:app};

},{"./action":57,"./domain":60}],72:[function(require,module,exports){
"use strict";function runMany(r){return function(u,n){var e=r.map(function(r){return null==r?empty():r(u,n)||empty()});return pullMany(e)}}var empty=require("pull-stream/sources/empty"),pullMany=require("pull-many");module.exports=runMany;

},{"pull-many":83,"pull-stream/sources/empty":97}],73:[function(require,module,exports){
"use strict";function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function scopeUpdate(e,r){return function(t,n){var o=e(t[r],n),u=extend(t,_defineProperty({},r,o.model));return{model:u,effect:o.effect}}}var extend=require("xtend");module.exports=scopeUpdate;

},{"xtend":138}],74:[function(require,module,exports){
function empty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function toElement(e){!range&&document.createRange&&(range=document.createRange(),range.selectNode(document.body));var t;return range&&range.createContextualFragment?t=range.createContextualFragment(e):(t=document.createElement("body"),t.innerHTML=e),t.childNodes[0]}function noop(){}function createElementNS(e,t){return t&&t!==XHTML?document.createElementNS(t,e):document.createElement(e)}function morphAttrs(e,t){var n,r,o,a,i,d,l=t.attributes;for(n=l.length-1;n>=0;n--)r=l[n],o=r.name,i=r.value,a=r.namespaceURI,a?(o=r.localName||o,d=e.getAttributeNS(a,o)):d=e.getAttribute(o),d!==i&&(a?e.setAttributeNS(a,o,i):e.setAttribute(o,i));for(l=e.attributes,n=l.length-1;n>=0;n--)r=l[n],r.specified!==!1&&(o=r.name,a=r.namespaceURI,hasAttributeNS(t,a,a?o=r.localName||o:o)||(a?e.removeAttributeNS(a,r.localName):e.removeAttribute(o)))}function moveChildren(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}function defaultGetNodeKey(e){return e.id}function morphdom(e,t,n){function r(e,t){var n=c(e);if(n?l[n]=e:t||p(e),e.nodeType===ELEMENT_NODE)for(var o=e.firstChild;o;)r(o,t||n),o=o.nextSibling}function o(e){if(e.nodeType===ELEMENT_NODE)for(var t=e.firstChild;t;)c(t)||(p(t),o(t)),t=t.nextSibling}function a(e,t,n){E(e)!==!1&&(t.removeChild(e),n?c(e)||(p(e),o(e)):r(e))}function i(e,t,n,r){var o=c(t);if(o&&delete l[o],!r){if(m(e,t)===!1)return;if(morphAttrs(e,t),s(e),h(e,t)===!1)return}if("TEXTAREA"!==e.nodeName){var d,E,v,T,A,g=t.firstChild,C=e.firstChild;e:for(;g;){for(v=g.nextSibling,d=c(g);C;){var y=c(C);if(E=C.nextSibling,!n&&y&&(A=u[y]))A.parentNode.replaceChild(C,A),i(C,A,n),C=E;else{var O=C.nodeType;if(O===g.nodeType){var M=!1;if(O===ELEMENT_NODE?(compareNodeNames(C,g)&&(y||d?d===y&&(M=!0):M=!0),M&&i(C,g,n)):O!==TEXT_NODE&&O!=COMMENT_NODE||(M=!0,C.nodeValue=g.nodeValue),M){g=v,C=E;continue e}}a(C,e,n),C=E}}d&&((T=l[d])?compareNodeNames(T,g)?(i(T,g,!0),g=T):(delete l[d],p(T)):u[d]=g),f(g)!==!1&&(e.appendChild(g),N(g)),g.nodeType===ELEMENT_NODE&&(d||g.firstChild)&&b.push(g),g=v,C=E}for(;C;)E=C.nextSibling,a(C,e,n),C=E}var S=specialElHandlers[e.nodeName];S&&S(e,t)}if(n||(n={}),"string"==typeof t)if("#document"===e.nodeName||"HTML"===e.nodeName){var d=t;t=document.createElement("html"),t.innerHTML=d}else t=toElement(t);var l={},u={},c=n.getNodeKey||defaultGetNodeKey,f=n.onBeforeNodeAdded||noop,N=n.onNodeAdded||noop,m=n.onBeforeElUpdated||n.onBeforeMorphEl||noop,s=n.onElUpdated||noop,E=n.onBeforeNodeDiscarded||noop,p=n.onNodeDiscarded||noop,h=n.onBeforeElChildrenUpdated||n.onBeforeMorphElChildren||noop,v=n.childrenOnly===!0,b=[],T=e,A=T.nodeType,g=t.nodeType;if(!v)if(A===ELEMENT_NODE)g===ELEMENT_NODE?compareNodeNames(e,t)||(p(e),T=moveChildren(e,createElementNS(t.nodeName,t.namespaceURI))):T=t;else if(A===TEXT_NODE||A===COMMENT_NODE){if(g===A)return T.nodeValue=t.nodeValue,T;T=t}if(T===t)p(e);else{i(T,t,!1,v);var C=function(e){for(var t=e.firstChild;t;){var n=t.nextSibling,r=c(t);if(r){var o=l[r];if(o&&compareNodeNames(t,o)){if(t.parentNode.replaceChild(o,t),i(o,t,!0),t=n,empty(l))return!1;continue}}t.nodeType===ELEMENT_NODE&&C(t),t=n}};if(!empty(l))e:for(;b.length;){var y=b;b=[];for(var O=0;O<y.length;O++)if(C(y[O])===!1)break e}for(var M in l)if(l.hasOwnProperty(M)){var S=l[M];p(S),o(S)}}return!v&&T!==e&&e.parentNode&&e.parentNode.replaceChild(T,e),T}var range,testEl="undefined"!=typeof document?document.body||document.createElement("div"):{},XHTML="http://www.w3.org/1999/xhtml",ELEMENT_NODE=1,TEXT_NODE=3,COMMENT_NODE=8,hasAttributeNS;hasAttributeNS=testEl.hasAttributeNS?function(e,t,n){return e.hasAttributeNS(t,n)}:testEl.hasAttribute?function(e,t,n){return e.hasAttribute(n)}:function(e,t,n){return!!e.getAttributeNode(n)};var specialElHandlers={OPTION:function(e,t){e.selected=t.selected,e.selected?e.setAttribute("selected",""):e.removeAttribute("selected","")},INPUT:function(e,t){e.checked=t.checked,e.checked?e.setAttribute("checked",""):e.removeAttribute("checked"),e.value!==t.value&&(e.value=t.value),hasAttributeNS(t,null,"value")||e.removeAttribute("value"),e.disabled=t.disabled,e.disabled?e.setAttribute("disabled",""):e.removeAttribute("disabled")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n),e.firstChild&&(e.firstChild.nodeValue=n)}},compareNodeNames=function(e,t){return e.nodeName===t.nodeName&&e.namespaceURI===t.namespaceURI};module.exports=morphdom;

},{}],75:[function(require,module,exports){
function parse(e){if(e=""+e,!(e.length>1e4)){var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(a){var r=parseFloat(a[1]),c=(a[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return r*y;case"days":case"day":case"d":return r*d;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h;case"minutes":case"minute":case"mins":case"min":case"m":return r*m;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function short(e){return e>=d?Math.round(e/d)+"d":e>=h?Math.round(e/h)+"h":e>=m?Math.round(e/m)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function long(e){return plural(e,d,"day")||plural(e,h,"hour")||plural(e,m,"minute")||plural(e,s,"second")||e+" ms"}function plural(s,e,a){if(!(s<e))return s<1.5*e?Math.floor(s/e)+" "+a:Math.ceil(s/e)+" "+a+"s"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(s,e){return e=e||{},"string"==typeof s?parse(s):e.long?long(s):short(s)};

},{}],76:[function(require,module,exports){
function turnon(t,e){watch[t][0]&&0===watch[t][2]&&(watch[t][0](e),watch[t][2]=1)}function turnoff(t,e){watch[t][1]&&1===watch[t][2]&&(watch[t][1](e),watch[t][2]=0)}function eachAttr(t,e,a){var r=t.target.getAttribute(KEY_ATTR);return sameOrigin(t.oldValue,r)?void(watch[r]=watch[t.oldValue]):(watch[t.oldValue]&&a(t.oldValue,t.target),void(watch[r]&&e(r,t.target)))}function sameOrigin(t,e){return!(!t||!e)&&watch[t][3]===watch[e][3]}function eachMutation(t,e){for(var a=Object.keys(watch),r=0;r<t.length;r++){if(t[r]&&t[r].getAttribute&&t[r].getAttribute(KEY_ATTR)){var n=t[r].getAttribute(KEY_ATTR);a.forEach(function(a){n===a&&e(a,t[r])})}t[r].childNodes.length>0&&eachMutation(t[r].childNodes,e)}}var document=require("global/document"),window=require("global/window"),watch=Object.create(null),KEY_ID="onloadid"+(new Date%9e6).toString(36),KEY_ATTR="data-"+KEY_ID,INDEX=0;if(window&&window.MutationObserver){var observer=new MutationObserver(function(t){if(!(Object.keys(watch).length<1))for(var e=0;e<t.length;e++)t[e].attributeName!==KEY_ATTR?(eachMutation(t[e].removedNodes,turnoff),eachMutation(t[e].addedNodes,turnon)):eachAttr(t[e],turnon,turnoff)});observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[KEY_ATTR]})}module.exports=function t(e,a,r,n){return a=a||function(){},r=r||function(){},e.setAttribute(KEY_ATTR,"o"+INDEX),watch["o"+INDEX]=[a,r,0,n||t.caller],INDEX+=1,e};

},{"global/document":47,"global/window":48}],77:[function(require,module,exports){
function ownEnumerableKeys(e){var r=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e))),r.filter(function(r){return propIsEnumerable.call(e,r)})}var propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=ownEnumerableKeys;

},{}],78:[function(require,module,exports){
(function (process){
function normalizeArray(r,t){for(var e=0,n=r.length-1;n>=0;n--){var s=r[n];"."===s?r.splice(n,1):".."===s?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function filter(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(r){return splitPathRe.exec(r).slice(1)};exports.resolve=function(){for(var r="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var n=e>=0?arguments[e]:process.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(r=n+"/"+r,t="/"===n.charAt(0))}return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),(t?"/":"")+r||"."},exports.normalize=function(r){var t=exports.isAbsolute(r),e="/"===substr(r,-1);return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),r||t||(r="."),r&&e&&(r+="/"),(t?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),s=e(t.split("/")),i=Math.min(n.length,s.length),o=i,u=0;u<i;u++)if(n[u]!==s[u]){o=u;break}for(var l=[],u=o;u<n.length;u++)l.push("..");return l=l.concat(s.slice(o)),l.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){var t=splitPath(r),e=t[0],n=t[1];return e||n?(n&&(n=n.substr(0,n.length-1)),e+n):"."},exports.basename=function(r,t){var e=splitPath(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){return splitPath(r)[3]};var substr="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};

}).call(this,require('_process'))

},{"_process":80}],79:[function(require,module,exports){
function match(e){return assert.equal(typeof e,"string"),e.trim().replace(/[\?|#].*$/,"").replace(/^(?:https?\:)\/\//,"").replace(/^.*?(\/.*)/,"$1").replace(/\/$/,"")}const assert=require("assert");module.exports=match;

},{"assert":5}],80:[function(require,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)t[u-1]=arguments[u];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],81:[function(require,module,exports){
function pullAsync(n){var u;return function(o,r){return o?r(o):u?r(!0):void n(function(n,o){u=!0,r(n,o)})}}module.exports=pullAsync;

},{}],82:[function(require,module,exports){
function abortAll(n,t,o){function l(){--u||o(t)}var u=n.length;return u?(n.forEach(function(n){n?n(t,l):l()}),void(u||l())):o(t)}var noop=function(){};module.exports=function(n){return function(t,o){!function l(){t?abortAll(n,t,o):n.length?n[0]?n[0](null,function(t,u){t?(n.shift(),t===!0?l():abortAll(n,t,o)):o(null,u)}):(n.shift(),l()):o(!0)}()}};

},{}],83:[function(require,module,exports){
module.exports=function(n){function e(n){return{ready:!1,reading:!1,ended:!1,read:n,data:null}}function r(){if(i){d();var n=l.length,e=i;if(0===n&&(u||o))return i=null,void e(u||!0);for(var r=0;r<n;r++){var a=l[(f+r)%n];if(a.ready&&!a.ended){var t=a.data;return a.ready=!1,a.data=null,f++,i=null,e(null,t)}}}}function d(){for(var n=l.length;n--;)l[n].ended&&l.splice(n,1)}function a(){for(var n=l.length;n--;)(function(e){if(n>l.length)throw new Error("this should never happen");if(!(e.reading||e.ended||e.ready)){e.reading=!0;var d=!0;e.read(u,function n(a,t){e.data=t,e.ready=!0,e.reading=!1,a===!0||u?e.ended=!0:a&&(u=e.ended=a),u&&!a&&e.read(u,n),d||r()}),d=!1}})(l[n]);r()}function t(n,e){u=u||n,i=e,a()}var u,i,o=!!n,l=(n||[]).map(e),f=0;return t.add=function(n){return n?(l.push(e(n)),void a()):(o=!0,a())},t.cap=function(n){t.add(null)},t};

},{}],84:[function(require,module,exports){
var pushable=require("pull-pushable");module.exports=function(){function n(n){for(var e=0;e<r.length;e++)r[e].push(n);return n}var r=[];return n.listen=function(){var n=pushable(function(){var e=r.indexOf(n);e!==-1&&r.splice(e,1)});return r.push(n),n},n.abort=function(n){for(;r.length;)r[0].end(n)},n.end=function(){return n.abort(!0)},n};

},{"pull-pushable":85}],85:[function(require,module,exports){
function pullPushable(n){function u(n,u){n&&(i=n,f&&t(i)),f=u,l()}function l(){f&&(i?t(i):!o.length&&e?t(e):o.length&&t(null,o.shift()))}function t(u,l){var t=f;if(u&&n){var i=n;n=null,i(u===!0?null:u)}f=null,t(u,l)}var i,f,e,o=[];return u.end=function(n){e=e||n||!0,l()},u.push=function(n){if(!e){if(f)return void t(i,n);o.push(n),l()}},u}module.exports=pullPushable;

},{}],86:[function(require,module,exports){
"use strict";var sources=require("./sources"),sinks=require("./sinks"),throughs=require("./throughs");exports=module.exports=require("./pull");for(var k in sources)exports[k]=sources[k];for(var k in throughs)exports[k]=throughs[k];for(var k in sinks)exports[k]=sinks[k];

},{"./pull":87,"./sinks":92,"./sources":99,"./throughs":108}],87:[function(require,module,exports){
"use strict";module.exports=function r(e){var n=arguments.length;if("function"==typeof e&&1===e.length){for(var t=new Array(n),u=0;u<n;u++)t[u]=arguments[u];return function(e){if(null==t)throw new TypeError("partial sink should only be called once!");var u=t;switch(t=null,n){case 1:return r(e,u[0]);case 2:return r(e,u[0],u[1]);case 3:return r(e,u[0],u[1],u[2]);case 4:return r(e,u[0],u[1],u[2],u[3]);default:return u.unshift(e),r.apply(null,u)}}}var o=e;o&&"function"==typeof o.source&&(o=o.source);for(var u=1;u<n;u++){var c=arguments[u];"function"==typeof c?o=c(o):c&&"object"==typeof c&&(c.sink(o),o=c.source)}return o};

},{}],88:[function(require,module,exports){
"use strict";var reduce=require("./reduce");module.exports=function(e){return reduce(function(e,r){return e.push(r),e},[],e)};

},{"./reduce":95}],89:[function(require,module,exports){
"use strict";var reduce=require("./reduce");module.exports=function(e){return reduce(function(e,r){return e+r},"",e)};

},{"./reduce":95}],90:[function(require,module,exports){
"use strict";module.exports=function(n,t){function o(u){return i=u,r?o.abort():void function o(){for(var u=!0,f=!1;u;)if(f=!1,i(null,function(e,c){if(f=!0,e=e||r){if(u=!1,t)t(e===!0?null:e);else if(e&&e!==!0)throw e}else n&&!1===n(c)||r?(u=!1,i(r||!0,t||function(){})):u||o()}),!f)return void(u=!1)}()}var i,r;return o.abort=function(n,t){if("function"==typeof n&&(t=n,n=!0),r=n||!0,i)return i(r,t||function(){})},o};

},{}],91:[function(require,module,exports){
"use strict";function id(r){return r}var prop=require("../util/prop"),drain=require("./drain");module.exports=function(r,n){var i=!1;return n?r=prop(r)||id:(n=r,r=id),drain(function(u){if(r(u))return i=!0,n(null,u),!1},function(r){i||n(r===!0?null:r,null)})};

},{"../util/prop":115,"./drain":90}],92:[function(require,module,exports){
"use strict";module.exports={drain:require("./drain"),onEnd:require("./on-end"),log:require("./log"),find:require("./find"),reduce:require("./reduce"),collect:require("./collect"),concat:require("./concat")};

},{"./collect":88,"./concat":89,"./drain":90,"./find":91,"./log":93,"./on-end":94,"./reduce":95}],93:[function(require,module,exports){
"use strict";var drain=require("./drain");module.exports=function(r){return drain(function(r){console.log(r)},r)};

},{"./drain":90}],94:[function(require,module,exports){
"use strict";var drain=require("./drain");module.exports=function(r){return drain(null,r)};

},{"./drain":90}],95:[function(require,module,exports){
"use strict";var drain=require("./drain");module.exports=function(n,r,i){return drain(function(i){r=n(r,i)},function(n){i(n,r)})};

},{"./drain":90}],96:[function(require,module,exports){
"use strict";module.exports=function(n){var r=0;return n=n||1/0,function(t,u){return t?u&&u(t):r>n?u(!0):void u(null,r++)}};

},{}],97:[function(require,module,exports){
"use strict";module.exports=function(){return function(t,n){n(!0)}};

},{}],98:[function(require,module,exports){
"use strict";module.exports=function(t){return function(n,u){u(t)}};

},{}],99:[function(require,module,exports){
"use strict";module.exports={keys:require("./keys"),once:require("./once"),values:require("./values"),count:require("./count"),infinite:require("./infinite"),empty:require("./empty"),error:require("./error")};

},{"./count":96,"./empty":97,"./error":98,"./infinite":100,"./keys":101,"./once":102,"./values":103}],100:[function(require,module,exports){
"use strict";module.exports=function(n){return n=n||Math.random,function(t,r){return t?r&&r(t):r(null,n())}};

},{}],101:[function(require,module,exports){
"use strict";var values=require("./values");module.exports=function(e){return values(Object.keys(e))};

},{"./values":103}],102:[function(require,module,exports){
"use strict";var abortCb=require("../util/abort-cb");module.exports=function(r,t){return function(u,e){if(u)return abortCb(e,u,t);if(null!=r){var l=r;r=null,e(null,l)}else e(!0)}};

},{"../util/abort-cb":114}],103:[function(require,module,exports){
"use strict";var abortCb=require("../util/abort-cb");module.exports=function(r,t){if(!r)return function(r,n){return r?abortCb(n,r,t):n(!0)};Array.isArray(r)||(r=Object.keys(r).map(function(t){return r[t]}));var n=0;return function(u,e){return u?abortCb(e,u,t):void(n>=r.length?e(!0):e(null,r[n++]))}};

},{"../util/abort-cb":114}],104:[function(require,module,exports){
"use strict";function id(n){return n}var prop=require("../util/prop");module.exports=function(n){if(!n)return id;n=prop(n);var r,u,t=!1;return function(i){return function o(e,c){return u?c(u):void(e?(u=e,t?i(e,function(){t?r=c:c(e)}):i(e,c)):i(null,function(i,e){i?c(i):u?c(u):(t=!0,n(e,function(n,i){t=!1,u?(c(u),r(u)):n?o(n,c):c(null,i)}))}))}}};

},{"../util/prop":115}],105:[function(require,module,exports){
"use strict";var tester=require("../util/tester"),filter=require("./filter");module.exports=function(e){return e=tester(e),filter(function(r){return!e(r)})};

},{"../util/tester":116,"./filter":106}],106:[function(require,module,exports){
"use strict";var tester=require("../util/tester");module.exports=function(t){return t=tester(t),function(r){return function e(n,u){for(var i,o=!0;o;)o=!1,i=!0,r(n,function(r,n){return r||t(n)?void u(r,n):i?o=!0:e(r,u)}),i=!1}}};

},{"../util/tester":116}],107:[function(require,module,exports){
"use strict";var values=require("../sources/values"),once=require("../sources/once");module.exports=function(){return function(n){var u;return function(e,o){function r(){u(null,function(u,e){u===!0?t():u?n(!0,function(n){o(u)}):o(null,e)})}function t(){u=null,n(null,function(n,e){return n?o(n):(Array.isArray(e)||e&&"object"==typeof e?e=values(e):"function"!=typeof e&&(e=once(e)),u=e,void r())})}e?u?u(e,function(u){n(u||e,o)}):n(e,o):u?r():t()}}};

},{"../sources/once":102,"../sources/values":103}],108:[function(require,module,exports){
"use strict";module.exports={map:require("./map"),asyncMap:require("./async-map"),filter:require("./filter"),filterNot:require("./filter-not"),through:require("./through"),take:require("./take"),unique:require("./unique"),nonUnique:require("./non-unique"),flatten:require("./flatten")};

},{"./async-map":104,"./filter":106,"./filter-not":105,"./flatten":107,"./map":109,"./non-unique":110,"./take":111,"./through":112,"./unique":113}],109:[function(require,module,exports){
"use strict";function id(r){return r}var prop=require("../util/prop");module.exports=function(r){return r?(r=prop(r),function(n){return function(t,u){n(t,function(t,i){try{i=t?null:r(i)}catch(r){return n(r,function(){return u(r)})}u(t,i)})}}):id};

},{"../util/prop":115}],110:[function(require,module,exports){
"use strict";var unique=require("./unique");module.exports=function(u){return unique(u,!0)};

},{"./unique":113}],111:[function(require,module,exports){
"use strict";module.exports=function(n,u){u=u||{};var t=u.last||!1,r=!1;if("number"==typeof n){t=!0;var o=n;n=function(){return--o}}return function(u){function o(n){u(!0,function(u){t=!1,n(u||!0)})}return function(f,i){r?t?o(i):i(r):(r=f)?u(r,i):u(null,function(u,f){(r=r||u)?i(r):n(f)?i(null,f):(r=!0,t?i(null,f):o(i))})}}};

},{}],112:[function(require,module,exports){
"use strict";module.exports=function(n,t){function u(n){!r&&t&&(r=!0,t(n===!0?null:n))}var r=!1;return function(t){return function(r,o){return r&&u(r),t(r,function(t,r){t?u(t):n&&n(r),o(t,r)})}}};

},{}],113:[function(require,module,exports){
"use strict";function id(r){return r}var prop=require("../util/prop"),filter=require("./filter");module.exports=function(r,e){r=prop(r)||id;var t={};return filter(function(i){var u=r(i);return t[u]?!!e:(t[u]=!0,!e)})};

},{"../util/prop":115,"./filter":106}],114:[function(require,module,exports){
module.exports=function(l,n,o){l(n),o&&o(n===!0?null:n)};

},{}],115:[function(require,module,exports){
module.exports=function(e){return e&&("string"==typeof e?function(t){return t[e]}:"object"==typeof e&&"function"==typeof e.exec?function(t){var n=e.exec(t);return n&&n[0]}:e)};

},{}],116:[function(require,module,exports){
function id(t){return t}var prop=require("./prop");module.exports=function(t){return"object"==typeof t&&"function"==typeof t.test?function(r){return t.test(r)}:prop(t)||id};

},{"./prop":115}],117:[function(require,module,exports){
(function (global){
!function(e){function o(e){throw new RangeError(T[e])}function n(e,o){for(var n=e.length,r=[];n--;)r[n]=o(e[n]);return r}function r(e,o){var r=e.split("@"),t="";r.length>1&&(t=r[0]+"@",e=r[1]),e=e.replace(S,".");var u=e.split("."),i=n(u,o).join(".");return t+i}function t(e){for(var o,n,r=[],t=0,u=e.length;t<u;)o=e.charCodeAt(t++),o>=55296&&o<=56319&&t<u?(n=e.charCodeAt(t++),56320==(64512&n)?r.push(((1023&o)<<10)+(1023&n)+65536):(r.push(o),t--)):r.push(o);return r}function u(e){return n(e,function(e){var o="";return e>65535&&(e-=65536,o+=P(e>>>10&1023|55296),e=56320|1023&e),o+=P(e)}).join("")}function i(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:b}function f(e,o){return e+22+75*(e<26)-((0!=o)<<5)}function c(e,o,n){var r=0;for(e=n?M(e/j):e>>1,e+=M(e/o);e>L*C>>1;r+=b)e=M(e/L);return M(r+(L+1)*e/(e+m))}function l(e){var n,r,t,f,l,s,d,a,p,h,v=[],g=e.length,w=0,m=I,j=A;for(r=e.lastIndexOf(E),r<0&&(r=0),t=0;t<r;++t)e.charCodeAt(t)>=128&&o("not-basic"),v.push(e.charCodeAt(t));for(f=r>0?r+1:0;f<g;){for(l=w,s=1,d=b;f>=g&&o("invalid-input"),a=i(e.charCodeAt(f++)),(a>=b||a>M((x-w)/s))&&o("overflow"),w+=a*s,p=d<=j?y:d>=j+C?C:d-j,!(a<p);d+=b)h=b-p,s>M(x/h)&&o("overflow"),s*=h;n=v.length+1,j=c(w-l,n,0==l),M(w/n)>x-m&&o("overflow"),m+=M(w/n),w%=n,v.splice(w++,0,m)}return u(v)}function s(e){var n,r,u,i,l,s,d,a,p,h,v,g,w,m,j,F=[];for(e=t(e),g=e.length,n=I,r=0,l=A,s=0;s<g;++s)v=e[s],v<128&&F.push(P(v));for(u=i=F.length,i&&F.push(E);u<g;){for(d=x,s=0;s<g;++s)v=e[s],v>=n&&v<d&&(d=v);for(w=u+1,d-n>M((x-r)/w)&&o("overflow"),r+=(d-n)*w,n=d,s=0;s<g;++s)if(v=e[s],v<n&&++r>x&&o("overflow"),v==n){for(a=r,p=b;h=p<=l?y:p>=l+C?C:p-l,!(a<h);p+=b)j=a-h,m=b-h,F.push(P(f(h+j%m,0))),a=M(j/m);F.push(P(f(a,0))),l=c(r,w,u==i),r=0,++u}++r,++n}return F.join("")}function d(e){return r(e,function(e){return F.test(e)?l(e.slice(4).toLowerCase()):e})}function a(e){return r(e,function(e){return O.test(e)?"xn--"+s(e):e})}var p="object"==typeof exports&&exports&&!exports.nodeType&&exports,h="object"==typeof module&&module&&!module.nodeType&&module,v="object"==typeof global&&global;v.global!==v&&v.window!==v&&v.self!==v||(e=v);var g,w,x=2147483647,b=36,y=1,C=26,m=38,j=700,A=72,I=128,E="-",F=/^xn--/,O=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=b-y,M=Math.floor,P=String.fromCharCode;if(g={version:"1.4.1",ucs2:{decode:t,encode:u},decode:l,encode:s,toASCII:a,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(p&&h)if(module.exports==p)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(p[w]=g[w]);else e.punycode=g}(this);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],118:[function(require,module,exports){
"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;y<p;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};

},{}],119:[function(require,module,exports){
"use strict";function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};

},{}],120:[function(require,module,exports){
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");

},{"./decode":118,"./encode":119}],121:[function(require,module,exports){
var events=require("events"),utils=require("./utils"),wrap=exports.wrap={fn:function(emitter,fn,strict,name,scope){var wrapped=function(){var t;utils.emitEvents(emitter,"before",name,[arguments,this,name]);try{t=fn.apply(scope||this,arguments)}catch(t){throw utils.emitEvents(emitter,"error",name,[t,arguments,this,name]),t}return utils.emitEvents(emitter,"after",name,[t,arguments,this,name]),t};return strict&&eval("wrapped = "+utils.addArgs(wrapped.toString(),fn.length)),wrapped},async:function(emitter,fn,position,strict,name,scope){var wrapped=function(){var t=position==-1?arguments.length-1:position||0,e=arguments[t],r=this,n=arguments,i=function(){try{e.apply(e,arguments)}catch(t){throw utils.emitEvents(emitter,"error",name,[t,n,r,name]),t}var t=arguments[0]instanceof Error?"error":"after";utils.emitEvents(emitter,t,name,[arguments,n,r,name])};utils.emitEvents(emitter,"before",name,[n,this,name]),n[t]=i;try{return fn.apply(scope||this,n)}catch(t){throw utils.emitEvents(emitter,"error",name,[t,n,r,name]),t}};return strict&&eval("wrapped = "+utils.addArgs(wrapped.toString(),fn.length)),wrapped}},Emitter=exports.Emitter=function(t){this.obj=t};Emitter.prototype=Object.create(events.EventEmitter.prototype),Emitter.prototype.punch=function(t,e,r){if(Array.isArray(t)){var n=this;t.forEach(function(t){n.punch(t,e,r)})}else{var i=this.obj[t];"function"==typeof i&&(this.obj[t]=e||0===e?wrap.async(this,i,e,r,t):wrap.fn(this,i,r,t))}return this},exports.emitter=function(t){return new Emitter(t)};

},{"./utils":122,"events":13}],122:[function(require,module,exports){
exports.toBase26=function(r){for(var t="",e="abcdefghijklmnopqrstuvwxyz";r>25;){var n=r%26;t=e.charAt(n)+t,r=Math.floor(r/26)-1}return t=e.charAt(r)+t},exports.makeFakeArgs=function(r){for(var t=[],e=0;e<r;e++)t.push(exports.toBase26(e));return t.join(",")},exports.addArgs=function(r,t){return r.replace(/function\s*\(\)/,"function("+exports.makeFakeArgs(t)+")")},exports.emitEvents=function(r,t,e,n){var o=e?e.replace(/^\w/,function(r){return r.toUpperCase()}):null;r.emit.apply(r,[t].concat(n)),o&&r.emit.apply(r,[t+o].concat(n))};

},{}],123:[function(require,module,exports){
function history(o){assert.equal(typeof o,"function","cb must be a function"),window.onpopstate=function(){o(document.location.href)}}const document=require("global/document"),window=require("global/window"),assert=require("assert");module.exports=history;

},{"assert":5,"global/document":47,"global/window":48}],124:[function(require,module,exports){
function href(e){assert.equal(typeof e,"function","cb must be a function"),window.onclick=function(o){const t=function e(o){if(o)return"a"!==o.localName?e(o.parentNode):void 0===o.href?e(o.parentNode):window.location.host!==o.host?e(o.parentNode):o}(o.target);if(t){o.preventDefault();const n=t.href.replace(/#$/,"");e(n),window.history.pushState({},null,n)}}}const window=require("global/window"),assert=require("assert");module.exports=href;

},{"assert":5,"global/window":48}],125:[function(require,module,exports){
function sheetRouter(e,t,r){r=r?r(_createRoute):_createRoute,t||(t=e,e=""),assert.equal(typeof e,"string","sheet-router: dft must be a string"),assert.equal(typeof t,"function","sheet-router: createTree must be a function"),assert.equal(typeof r,"function","sheet-router: createRoute must be a function");const n=wayfarer(e),a=t(r);return function e(t,r){if(Array.isArray(t[0]))t.forEach(function(t){e(t,r)});else if(t[1]){const a=t[0]?r.concat(t[0]).join("/"):r.length?r.join("/"):t[0];n.on(a,t[1]),e(t[2],r.concat(t[0]))}else if(Array.isArray(t[2]))e(t[2],r.concat(t[0]));else{const s=t[0]?r.concat(t[0]).join("/"):r.length?r.join("/"):t[0];n.on(s,t[2])}}(a,[]),function(e){assert.equal(typeof e,"string","route must be a string");const t=[].slice.call(arguments);return t[0]=pathname(t[0]),n.apply(null,t)}}function _createRoute(e,t,r){return r||(r=t,t=null),assert.equal(typeof e,"string","route must be a string"),assert.ok(r,"child exists"),e=e.replace(/^\//,""),[e,t,r]}const pathname=require("pathname-match"),wayfarer=require("wayfarer"),assert=require("assert");module.exports=sheetRouter;

},{"assert":5,"pathname-match":79,"wayfarer":136}],126:[function(require,module,exports){
function noop(){}function serialize(e){if(!isObject(e))return e;var t=[];for(var r in e)pushEncodedKeyValuePair(t,r,e[r]);return t.join("&")}function pushEncodedKeyValuePair(e,t,r){if(null!=r)if(Array.isArray(r))r.forEach(function(r){pushEncodedKeyValuePair(e,t,r)});else if(isObject(r))for(var s in r)pushEncodedKeyValuePair(e,t+"["+s+"]",r[s]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));else null===r&&e.push(encodeURIComponent(t))}function parseString(e){for(var t,r,s={},n=e.split("&"),o=0,i=n.length;o<i;++o)t=n[o],r=t.indexOf("="),r==-1?s[decodeURIComponent(t)]="":s[decodeURIComponent(t.slice(0,r))]=decodeURIComponent(t.slice(r+1));return s}function parseHeader(e){var t,r,s,n,o=e.split(/\r?\n/),i={};o.pop();for(var u=0,a=o.length;u<a;++u)r=o[u],t=r.indexOf(":"),s=r.slice(0,t).toLowerCase(),n=trim(r.slice(t+1)),i[s]=n;return i}function isJSON(e){return/[\/+]json\b/.test(e)}function type(e){return e.split(/ *; */).shift()}function params(e){return e.split(/ *; */).reduce(function(e,t){var r=t.split(/ *= */),s=r.shift(),n=r.shift();return s&&n&&(e[s]=n),e},{})}function Response(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this._setStatusProperties(this.xhr.status),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function Request(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new Response(r)}catch(t){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=t,e.rawResponse=r.xhr&&r.xhr.responseText?r.xhr.responseText:null,e.statusCode=r.xhr&&r.xhr.status?r.xhr.status:null,r.callback(e)}r.emit("response",t);var s;try{(t.status<200||t.status>=300)&&(s=new Error(t.statusText||"Unsuccessful HTTP response"),s.original=e,s.response=t,s.status=t.status)}catch(e){s=e}s?r.callback(s,t):r.callback(null,t)})}function del(e,t){var r=request("DELETE",e);return t&&r.end(t),r}var root;"undefined"!=typeof window?root=window:"undefined"!=typeof self?root=self:(console.warn("Using browser-only version of superagent in non-browser environment"),root=this);var Emitter=require("emitter"),requestBase=require("./request-base"),isObject=require("./is-object"),request=module.exports=require("./request").bind(null,Request);request.getXHR=function(){if(!(!root.XMLHttpRequest||root.location&&"file:"==root.location.protocol&&root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only verison of superagent could not find XHR")};var trim="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},Response.prototype.get=function(e){return this.header[e.toLowerCase()]},Response.prototype._setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=type(t);var r=params(t);for(var s in r)this[s]=r[s]},Response.prototype._parseBody=function(e){var t=request.parse[this.type];return!t&&isJSON(this.type)&&(t=request.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null},Response.prototype._setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},Response.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,s="cannot "+t+" "+r+" ("+this.status+")",n=new Error(s);return n.status=this.status,n.method=t,n.url=r,n},request.Response=Response,Emitter(Request.prototype);for(var key in requestBase)Request.prototype[key]=requestBase[key];Request.prototype.type=function(e){return this.set("Content-Type",request.types[e]||e),this},Request.prototype.responseType=function(e){return this._responseType=e,this},Request.prototype.accept=function(e){return this.set("Accept",request.types[e]||e),this},Request.prototype.auth=function(e,t,r){switch(r||(r={type:"basic"}),r.type){case"basic":var s=btoa(e+":"+t);this.set("Authorization","Basic "+s);break;case"auto":this.username=e,this.password=t}return this},Request.prototype.query=function(e){return"string"!=typeof e&&(e=serialize(e)),e&&this._query.push(e),this},Request.prototype.attach=function(e,t,r){return this._getFormData().append(e,t,r||t.name),this},Request.prototype._getFormData=function(){return this._formData||(this._formData=new root.FormData),this._formData},Request.prototype.callback=function(e,t){var r=this._callback;this.clearTimeout(),r(e,t)},Request.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},Request.prototype._timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},Request.prototype._appendQueryString=function(){var e=this._query.join("&");e&&(this.url+=~this.url.indexOf("?")?"&"+e:"?"+e)},Request.prototype.end=function(e){var t=this,r=this.xhr=request.getXHR(),s=this._timeout,n=this._formData||this._data;this._callback=e||noop,r.onreadystatechange=function(){if(4==r.readyState){var e;try{e=r.status}catch(t){e=0}if(0==e){if(t.timedout)return t._timeoutError();if(t._aborted)return;return t.crossDomainError()}t.emit("end")}};var o=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),e.direction="download",t.emit("progress",e)};this.hasListeners("progress")&&(r.onprogress=o);try{r.upload&&this.hasListeners("progress")&&(r.upload.onprogress=o)}catch(e){}if(s&&!this._timer&&(this._timer=setTimeout(function(){t.timedout=!0,t.abort()},s)),this._appendQueryString(),this.username&&this.password?r.open(this.method,this.url,!0,this.username,this.password):r.open(this.method,this.url,!0),this._withCredentials&&(r.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var i=this._header["content-type"],u=this._serializer||request.serialize[i?i.split(";")[0]:""];!u&&isJSON(i)&&(u=request.serialize["application/json"]),u&&(n=u(n))}for(var a in this.header)null!=this.header[a]&&r.setRequestHeader(a,this.header[a]);return this._responseType&&(r.responseType=this._responseType),this.emit("request",this),r.send("undefined"!=typeof n?n:null),this},request.Request=Request,request.get=function(e,t,r){var s=request("GET",e);return"function"==typeof t&&(r=t,t=null),t&&s.query(t),r&&s.end(r),s},request.head=function(e,t,r){var s=request("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&s.send(t),r&&s.end(r),s},request.options=function(e,t,r){var s=request("OPTIONS",e);return"function"==typeof t&&(r=t,t=null),t&&s.send(t),r&&s.end(r),s},request.del=del,request.delete=del,request.patch=function(e,t,r){var s=request("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&s.send(t),r&&s.end(r),s},request.post=function(e,t,r){var s=request("POST",e);return"function"==typeof t&&(r=t,t=null),t&&s.send(t),r&&s.end(r),s},request.put=function(e,t,r){var s=request("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&s.send(t),r&&s.end(r),s};

},{"./is-object":127,"./request":129,"./request-base":128,"emitter":8}],127:[function(require,module,exports){
function isObject(e){return null!==e&&"object"==typeof e}module.exports=isObject;

},{}],128:[function(require,module,exports){
var isObject=require("./is-object");exports.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},exports.parse=function(t){return this._parser=t,this},exports.serialize=function(t){return this._serializer=t,this},exports.timeout=function(t){return this._timeout=t,this},exports.then=function(t,e){if(!this._fullfilledPromise){var i=this;this._fullfilledPromise=new Promise(function(t,e){i.end(function(i,r){i?e(i):t(r)})})}return this._fullfilledPromise.then(t,e)},exports.use=function(t){return t(this),this},exports.get=function(t){return this._header[t.toLowerCase()]},exports.getHeader=exports.get,exports.set=function(t,e){if(isObject(t)){for(var i in t)this.set(i,t[i]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},exports.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},exports.field=function(t,e){return this._getFormData().append(t,e),this},exports.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},exports.withCredentials=function(){return this._withCredentials=!0,this},exports.redirects=function(t){return this._maxRedirects=t,this},exports.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},exports._isHost=function(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}},exports.send=function(t){var e=isObject(t),i=this._header["content-type"];if(e&&isObject(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(i||this.type("form"),i=this._header["content-type"],"application/x-www-form-urlencoded"==i?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(i||this.type("json"),this)};

},{"./is-object":127}],129:[function(require,module,exports){
function request(e,n,t){return"function"==typeof t?new e("GET",n).end(t):2==arguments.length?new e("GET",n):new e(n,t)}module.exports=request;

},{}],130:[function(require,module,exports){
!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Proto=e()}(this,function(){function t(t,e,n,o){return function(){var r=this._super;this._super="function"==typeof e?e:t[n];var i=o.apply(this,arguments);return this._super=r,i}}function e(e,n){var o,r=n||this,i=/\b_super\b/,f=Object.getPrototypeOf(r)||r.prototype;for(var c in e)o=r[c],("function"==typeof e[c]&&"function"==typeof f[c]||"function"==typeof o&&"function"==typeof e[c])&&i.test(e[c])?r[c]=t(f,o,c,e[c]):r[c]=e[c];return r}function n(e,n){var o=n||this,r=/\b_super\b/,i=Object.getPrototypeOf(o)||o.prototype,f={},c=e,p=function(t){f[t]||(f[t]=Object.getOwnPropertyDescriptor(c,t))};do Object.getOwnPropertyNames(c).forEach(p);while((c=Object.getPrototypeOf(c))&&Object.getPrototypeOf(c));return Object.keys(f).forEach(function(e){var n=f[e];"function"==typeof n.value&&r.test(n.value)&&(n.value=t(i,o[e],e,n.value)),Object.defineProperty(o,e,n)}),o}return{create:function(){var t=Object.create(this),e="string"==typeof t.__init?t.__init:"init";return"function"==typeof t[e]&&t[e].apply(t,arguments),t},mixin:"function"==typeof Object.defineProperty?n:e,extend:function(t,e){return this.mixin(t,Object.create(e||this))},proxy:function(t){var e=this[t],n=Array.prototype.slice.call(arguments,1);return n.unshift(this),e.bind.apply(e,n)}}});

},{}],131:[function(require,module,exports){
"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(t,s,e){if(t&&util.isObject(t)&&t instanceof Url)return t;var h=new Url;return h.parse(t,s,e),h}function urlFormat(t){return util.isString(t)&&(t=urlParse(t)),t instanceof Url?t.format():Url.prototype.format.call(t)}function urlResolve(t,s){return urlParse(t,!1,!0).resolve(s)}function urlResolveObject(t,s){return t?urlParse(t,!1,!0).resolveObject(s):s}var punycode=require("punycode"),util=require("./util");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(t,s,e){if(!util.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var h=t.indexOf("?"),r=h!==-1&&h<t.indexOf("#")?"?":"#",a=t.split(r),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(r);var n=t;if(n=n.trim(),!e&&1===t.split("#").length){var i=simplePathPattern.exec(n);if(i)return this.path=n,this.href=n,this.pathname=i[1],i[2]?(this.search=i[2],s?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):s&&(this.search="",this.query={}),this}var l=protocolPattern.exec(n);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,n=n.substr(l.length)}if(e||l||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var p="//"===n.substr(0,2);!p||l&&hostlessProtocol[l]||(n=n.substr(2),this.slashes=!0)}if(!hostlessProtocol[l]&&(p||l&&!slashedProtocol[l])){for(var c=-1,f=0;f<hostEndingChars.length;f++){var m=n.indexOf(hostEndingChars[f]);m!==-1&&(c===-1||m<c)&&(c=m)}var v,g;g=c===-1?n.lastIndexOf("@"):n.lastIndexOf("@",c),g!==-1&&(v=n.slice(0,g),n=n.slice(g+1),this.auth=decodeURIComponent(v)),c=-1;for(var f=0;f<nonHostChars.length;f++){var m=n.indexOf(nonHostChars[f]);m!==-1&&(c===-1||m<c)&&(c=m)}c===-1&&(c=n.length),this.host=n.slice(0,c),n=n.slice(c),this.parseHost(),this.hostname=this.hostname||"";var y="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!y)for(var P=this.hostname.split(/\./),f=0,d=P.length;f<d;f++){var q=P[f];if(q&&!q.match(hostnamePartPattern)){for(var b="",O=0,j=q.length;O<j;O++)b+=q.charCodeAt(O)>127?"x":q[O];if(!b.match(hostnamePartPattern)){var x=P.slice(0,f),U=P.slice(f+1),C=q.match(hostnamePartStart);C&&(x.push(C[1]),U.unshift(C[2])),U.length&&(n="/"+U.join(".")+n),this.hostname=x.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=punycode.toASCII(this.hostname));var A=this.port?":"+this.port:"",w=this.hostname||"";this.host=w+A,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!unsafeProtocol[u])for(var f=0,d=autoEscape.length;f<d;f++){var E=autoEscape[f];if(n.indexOf(E)!==-1){var I=encodeURIComponent(E);I===E&&(I=escape(E)),n=n.split(E).join(I)}}var R=n.indexOf("#");R!==-1&&(this.hash=n.substr(R),n=n.slice(0,R));var S=n.indexOf("?");if(S!==-1?(this.search=n.substr(S),this.query=n.substr(S+1),s&&(this.query=querystring.parse(this.query)),n=n.slice(0,S)):s&&(this.search="",this.query={}),n&&(this.pathname=n),slashedProtocol[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var A=this.pathname||"",k=this.search||"";this.path=A+k}return this.href=this.format(),this},Url.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var s=this.protocol||"",e=this.pathname||"",h=this.hash||"",r=!1,a="";this.host?r=t+this.host:this.hostname&&(r=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(a=querystring.stringify(this.query));var o=this.search||a&&"?"+a||"";return s&&":"!==s.substr(-1)&&(s+=":"),this.slashes||(!s||slashedProtocol[s])&&r!==!1?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),h&&"#"!==h.charAt(0)&&(h="#"+h),o&&"?"!==o.charAt(0)&&(o="?"+o),e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),o=o.replace("#","%23"),s+r+e+o+h},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(util.isString(t)){var s=new Url;s.parse(t,!1,!0),t=s}for(var e=new Url,h=Object.keys(this),r=0;r<h.length;r++){var a=h[r];e[a]=this[a]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),n=0;n<o.length;n++){var i=o[n];"protocol"!==i&&(e[i]=t[i])}return slashedProtocol[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!slashedProtocol[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var p=l[u];e[p]=t[p]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||hostlessProtocol[t.protocol])e.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),e.pathname=c.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var f=e.pathname||"",m=e.search||"";e.path=f+m}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var v=e.pathname&&"/"===e.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=g||v||e.host&&t.pathname,P=y,d=e.pathname&&e.pathname.split("/")||[],c=t.pathname&&t.pathname.split("/")||[],q=e.protocol&&!slashedProtocol[e.protocol];if(q&&(e.hostname="",e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),y=y&&(""===c[0]||""===d[0])),g)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,d=c;else if(c.length)d||(d=[]),d.pop(),d=d.concat(c),e.search=t.search,e.query=t.query;else if(!util.isNullOrUndefined(t.search)){if(q){e.hostname=e.host=d.shift();var b=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@");b&&(e.auth=b.shift(),e.host=e.hostname=b.shift())}return e.search=t.search,e.query=t.query,util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!d.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var O=d.slice(-1)[0],j=(e.host||t.host||d.length>1)&&("."===O||".."===O)||""===O,x=0,U=d.length;U>=0;U--)O=d[U],"."===O?d.splice(U,1):".."===O?(d.splice(U,1),x++):x&&(d.splice(U,1),x--);if(!y&&!P)for(;x--;x)d.unshift("..");!y||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),j&&"/"!==d.join("/").substr(-1)&&d.push("");var C=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(q){e.hostname=e.host=C?"":d.length?d.shift():"";var b=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@");b&&(e.auth=b.shift(),e.host=e.hostname=b.shift())}return y=y||e.host&&d.length,y&&!C&&d.unshift(""),d.length?e.pathname=d.join("/"):(e.pathname=null,e.path=null),util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Url.prototype.parseHost=function(){var t=this.host,s=portPattern.exec(t);s&&(s=s[0],":"!==s&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};

},{"./util":132,"punycode":117,"querystring":120}],132:[function(require,module,exports){
"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}};

},{}],133:[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};

},{}],134:[function(require,module,exports){
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};

},{}],135:[function(require,module,exports){
(function (process,global){
function inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?"["+inspect.colors[t][0]+"m"+e+"["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(r);if(0===o.length){if(isFunction(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var c="",a=!1,l=["{","}"];if(isArray(r)&&(a=!0,l=["[","]"]),isFunction(r)){var p=r.name?": "+r.name:"";c=" [Function"+p+"]"}if(isRegExp(r)&&(c=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(c=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(c=" "+formatError(r)),0===o.length&&(!a||0==r.length))return l[0]+c+l[1];if(t<0)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var f;return f=a?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,a)}),e.seen.pop(),reduceToSingleString(f,c,l)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize("undefined","undefined");if(isString(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}return isNumber(r)?e.stylize(""+r,"number"):isBoolean(r)?e.stylize(""+r,"boolean"):isNull(r)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;s<u;++s)hasOwnProperty(r,String(s))?o.push(formatProperty(e,r,t,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,c;if(c=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(s="["+i+"]"),u||(e.seen.indexOf(c.value)<0?(u=isNull(t)?formatValue(e,c.value,null):formatValue(e,c.value,t-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function reduceToSingleString(e,r,t){var n=0,i=e.reduce(function(e,r){return n++,r.indexOf("\n")>=0&&n++,e+r.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(""===r?"":r+"\n ")+" "+e.join(",\n  ")+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],r].join(" ")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(t>=i)return e;switch(e){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(e){return"[Circular]"}default:return e}}),s=n[t];t<i;s=n[++t])o+=isNull(s)||!isObject(s)?" "+s:" "+inspect(s);return o},exports.deprecate=function(e,r){function t(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(process.noDeprecation===!0)return e;var n=!1;return t};var debugs={},debugEnviron;exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./support/isBuffer":134,"_process":80,"inherits":133}],136:[function(require,module,exports){
function Wayfarer(r){function e(r,e){if(assert.equal(typeof r,"string"),assert.equal(typeof e,"function"),r=r||"/",e&&e._wayfarer&&e._trie)n.mount(r,e._trie.trie);else{const a=n.create(r);a.cb=e}return t}function t(r){assert.notEqual(r,void 0,"'route' must be defined");const e=Array.prototype.slice.apply(arguments),t=n.match(r);if(t&&t.cb)return e[0]=t.params,t.cb.apply(null,e);const i=n.match(a);if(i&&i.cb)return e[0]=i.params,i.cb.apply(null,e);throw new Error("route '"+r+"' did not match")}if(!(this instanceof Wayfarer))return new Wayfarer(r);const a=(r||"").replace(/^\//,""),n=trie();return t._trie=n,t.emit=t,t.on=e,t._wayfarer=!0,t}const assert=require("assert"),trie=require("./trie");module.exports=Wayfarer;

},{"./trie":137,"assert":5}],137:[function(require,module,exports){
function Trie(){return this instanceof Trie?void(this.trie={nodes:{}}):new Trie}const mutate=require("xtend/mutable"),assert=require("assert"),xtend=require("xtend");module.exports=Trie,Trie.prototype.create=function(e){assert.equal(typeof e,"string","route should be a string");const t=e.replace(/^\//,"").split("/");return function e(t,n,s){const o=s[t];if(void 0===o)return n;var r=null;return/^:/.test(o)?(n.nodes.$$?r=n.nodes.$$:(r={nodes:{}},n.nodes.$$=r),n.name=o.replace(/^:/,"")):n.nodes[o]?r=n.nodes[o]:(r={nodes:{}},n.nodes[o]=r),e(t+1,r,s)}(0,this.trie,t)},Trie.prototype.match=function(e){assert.equal(typeof e,"string","route should be a string");const t=e.replace(/^\//,"").split("/"),n={};var s=function e(s,o){if(void 0!==o){const r=t[s];return void 0===r?o:o.nodes[r]?e(s+1,o.nodes[r]):o.name?(n[o.name]=r,e(s+1,o.nodes.$$)):e(s+1)}}(0,this.trie);if(s)return s=xtend(s),s.params=n,s},Trie.prototype.mount=function(e,t){assert.equal(typeof e,"string","route should be a string"),assert.equal(typeof t,"object","trie should be a object");const n=e.replace(/^\//,"").split("/");var s=null,o=null;if(1===n.length)o=n[0],s=this.create(o);else{const r=n.splice(0,n.length-1),i=r.join("/");o=n[0],s=this.create(i)}mutate(s.nodes,t.nodes),t.name&&(s.name=t.name),s.nodes[""]&&(Object.keys(s.nodes[""]).forEach(function(e){"nodes"!==e&&(s[e]=s.nodes[""][e])}),mutate(s.nodes,s.nodes[""].nodes),delete s.nodes[""].nodes)};

},{"assert":5,"xtend":138,"xtend/mutable":139}],138:[function(require,module,exports){
function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;

},{}],139:[function(require,module,exports){
function extend(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;

},{}],140:[function(require,module,exports){
var bel=require("bel"),morphdom=require("morphdom"),defaultEvents=require("./update-events.js");module.exports=bel,module.exports.update=function(e,o,r){function t(e,o){for(var t=r.events||defaultEvents,n=0;n<t.length;n++){var u=t[n];o[u]?e[u]=o[u]:e[u]&&(e[u]=void 0)}("INPUT"===e.nodeName&&"file"!==e.type||"TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&null===o.getAttribute("value")&&(o.value=e.value)}return r||(r={}),r.events!==!1&&(r.onBeforeMorphEl||(r.onBeforeMorphEl=t)),morphdom(e,o,r)};

},{"./update-events.js":141,"bel":6,"morphdom":74}],141:[function(require,module,exports){
module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"];

},{}],142:[function(require,module,exports){
"use strict";var _require=require("inux"),Action=_require.Action,SET=Symbol("set"),set=Action(SET);module.exports={SET:SET,set:set};

},{"inux":66}],143:[function(require,module,exports){
"use strict";function _defineProperty(e,r,u){return r in e?Object.defineProperty(e,r,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[r]=u,e}function User(e){var r=e.api;return Domain({name:"user",init:function(){return{model:[],effect:get()}},update:_defineProperty({},SET,function(e,r){return{model:r}}),run:_defineProperty({},GET,function(){return pullAsync(function(e){r.service("grads").find({},function(r,u){return console.log(r,u),r?console.error(r):void e(null,set(u))})})})})}var _require=require("inu"),html=_require.html,pull=_require.pull,_require2=require("inux"),Domain=_require2.Domain,run=_require2.run,pullAsync=require("pull-async"),_require3=require("./actions"),SET=_require3.SET,set=_require3.set,_require4=require("./effects"),GET=_require4.GET,get=_require4.get;module.exports=User;

},{"./actions":142,"./effects":144,"inu":54,"inux":66,"pull-async":81}],144:[function(require,module,exports){
"use strict";var _require=require("inux"),Effect=_require.Effect,GET=Symbol("get"),get=Effect(GET);module.exports={GET:GET,get:get};

},{"inux":66}],145:[function(require,module,exports){
"use strict";function _taggedTemplateLiteral(e,i){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(i)}}))}function user(e,i,n){var t=e.id,a=i.user.find(function(e){return e.id==t});return html(_templateObject,a?html(_templateObject2,a.image_link,a.name,a.name,a.long_description,a.phone,a.cv_link,a.github_link,a.linkedin_link,a.email,function(){return n(navigate("/"))}):html(_templateObject3))}var _templateObject=_taggedTemplateLiteral(["\n  <main>\n    <div class='grad'>\n      ","\n    </div>\n  </main>\n  "],["\n  <main>\n    <div class='grad'>\n      ","\n    </div>\n  </main>\n  "]),_templateObject2=_taggedTemplateLiteral(['<div class="grad-image">\n          <img src=',' alt="image of ','">\n        </div>\n        <div>',"</div>\n        <div>","</div>\n        <div>","</div>\n        <div>","</div>\n        <div>","</div>\n        <div>","</div>\n        <div>","</div>\n        <button onclick=",">Back</button>\n        "],['<div class="grad-image">\n          <img src=',' alt="image of ','">\n        </div>\n        <div>',"</div>\n        <div>","</div>\n        <div>","</div>\n        <div>","</div>\n        <div>","</div>\n        <div>","</div>\n        <div>","</div>\n        <button onclick=",">Back</button>\n        "]),_templateObject3=_taggedTemplateLiteral(["<h2>We got no grads</h2>"],["<h2>We got no grads</h2>"]),_require=require("inu"),html=_require.html,_require2=require("inux"),navigate=_require2.navigate;module.exports=user;

},{"inu":54,"inux":66}],146:[function(require,module,exports){
"use strict";function _taggedTemplateLiteral(t,i){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(i)}}))}function user(t,i){return html(_templateObject,t.image_link,t.name,t.name,t.short_description,t.phone,t.github_link,t.linkedin_link,t.email,function(){return i(navigate("#users/"+t.id))})}var _templateObject=_taggedTemplateLiteral(["\n    <div class='grad'>\n\t\t\t<div class=\"grad-image\">\n\t\t\t\t<img src=",' alt="image of ','">\n\t\t\t</div>\n\t\t\t<div>',"</div>\n\t\t\t<div>","</div>\n\t\t\t<div>","</div>\n\t\t\t<div>","</div>\n\t\t\t<div>","</div>\n\t\t\t<div>","</div>\n      <button onclick=",">More...</button>\n    </div>\n  "],["\n    <div class='grad'>\n\t\t\t<div class=\"grad-image\">\n\t\t\t\t<img src=",' alt="image of ','">\n\t\t\t</div>\n\t\t\t<div>',"</div>\n\t\t\t<div>","</div>\n\t\t\t<div>","</div>\n\t\t\t<div>","</div>\n\t\t\t<div>","</div>\n\t\t\t<div>","</div>\n      <button onclick=",">More...</button>\n    </div>\n  "]),_require=require("inu"),html=_require.html,_require2=require("inux"),navigate=_require2.navigate;module.exports=user;

},{"inu":54,"inux":66}]},{},[4])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcGkuanMiLCJhcHAuanMiLCJjb25maWcuanMiLCJpbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9hc3NlcnQvYXNzZXJ0LmpzIiwibm9kZV9tb2R1bGVzL2JlbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyLXJlc29sdmUvZW1wdHkuanMiLCJub2RlX21vZHVsZXMvY29tcG9uZW50LWVtaXR0ZXIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZGVidWcvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9kZWJ1Zy9kZWJ1Zy5qcyIsIm5vZGVfbW9kdWxlcy9kZWZpbmVkL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2RvbXJlYWR5L3JlYWR5LmpzIiwibm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJub2RlX21vZHVsZXMvZmVhdGhlcnMtYXV0aGVudGljYXRpb24vY2xpZW50LmpzIiwibm9kZV9tb2R1bGVzL2ZlYXRoZXJzLWF1dGhlbnRpY2F0aW9uL2xpYi9jbGllbnQvaG9va3MuanMiLCJub2RlX21vZHVsZXMvZmVhdGhlcnMtYXV0aGVudGljYXRpb24vbGliL2NsaWVudC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9mZWF0aGVycy1hdXRoZW50aWNhdGlvbi9saWIvY2xpZW50L3V0aWxzLmpzIiwibm9kZV9tb2R1bGVzL2ZlYXRoZXJzLWNvbW1vbnMvbGliL2FyZ3VtZW50cy5qcyIsIm5vZGVfbW9kdWxlcy9mZWF0aGVycy1jb21tb25zL2xpYi9jb21tb25zLmpzIiwibm9kZV9tb2R1bGVzL2ZlYXRoZXJzLWNvbW1vbnMvbGliL2hvb2tzLmpzIiwibm9kZV9tb2R1bGVzL2ZlYXRoZXJzLWNvbW1vbnMvbGliL3V0aWxzLmpzIiwibm9kZV9tb2R1bGVzL2ZlYXRoZXJzLWVycm9ycy9saWIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZmVhdGhlcnMtaG9va3MvbGliL2J1bmRsZWQuanMiLCJub2RlX21vZHVsZXMvZmVhdGhlcnMtaG9va3MvbGliL2NvbW1vbnMuanMiLCJub2RlX21vZHVsZXMvZmVhdGhlcnMtaG9va3MvbGliL2hvb2tzLmpzIiwibm9kZV9tb2R1bGVzL2ZlYXRoZXJzLXJlc3QvbGliL2NsaWVudC9iYXNlLmpzIiwibm9kZV9tb2R1bGVzL2ZlYXRoZXJzLXJlc3QvbGliL2NsaWVudC9mZXRjaC5qcyIsIm5vZGVfbW9kdWxlcy9mZWF0aGVycy1yZXN0L2xpYi9jbGllbnQvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZmVhdGhlcnMtcmVzdC9saWIvY2xpZW50L2pxdWVyeS5qcyIsIm5vZGVfbW9kdWxlcy9mZWF0aGVycy1yZXN0L2xpYi9jbGllbnQvcmVxdWVzdC5qcyIsIm5vZGVfbW9kdWxlcy9mZWF0aGVycy1yZXN0L2xpYi9jbGllbnQvc3VwZXJhZ2VudC5qcyIsIm5vZGVfbW9kdWxlcy9mZWF0aGVycy1yZXN0L25vZGVfbW9kdWxlcy9xcy9saWIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZmVhdGhlcnMtcmVzdC9ub2RlX21vZHVsZXMvcXMvbGliL3BhcnNlLmpzIiwibm9kZV9tb2R1bGVzL2ZlYXRoZXJzLXJlc3Qvbm9kZV9tb2R1bGVzL3FzL2xpYi9zdHJpbmdpZnkuanMiLCJub2RlX21vZHVsZXMvZmVhdGhlcnMtcmVzdC9ub2RlX21vZHVsZXMvcXMvbGliL3V0aWxzLmpzIiwibm9kZV9tb2R1bGVzL2ZlYXRoZXJzL2xpYi9hcHBsaWNhdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9mZWF0aGVycy9saWIvY2xpZW50L2V4cHJlc3MuanMiLCJub2RlX21vZHVsZXMvZmVhdGhlcnMvbGliL2NsaWVudC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9mZWF0aGVycy9saWIvZmVhdGhlcnMuanMiLCJub2RlX21vZHVsZXMvZmVhdGhlcnMvbGliL21peGlucy9ldmVudC5qcyIsIm5vZGVfbW9kdWxlcy9mZWF0aGVycy9saWIvbWl4aW5zL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2ZlYXRoZXJzL2xpYi9taXhpbnMvbm9ybWFsaXplci5qcyIsIm5vZGVfbW9kdWxlcy9mZWF0aGVycy9saWIvbWl4aW5zL3Byb21pc2UuanMiLCJub2RlX21vZHVsZXMvZ2V0LWluL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2dsb2JhbC9kb2N1bWVudC5qcyIsIm5vZGVfbW9kdWxlcy9nbG9iYWwvd2luZG93LmpzIiwibm9kZV9tb2R1bGVzL2h5cGVyc2NyaXB0LWF0dHJpYnV0ZS10by1wcm9wZXJ0eS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9oeXBlcngvaW5kZXguanMiLCJub2RlX21vZHVsZXMvaW51LW11bHRpL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2ludS9kZWZhdWx0cy5qcyIsIm5vZGVfbW9kdWxlcy9pbnUvaHRtbC5qcyIsIm5vZGVfbW9kdWxlcy9pbnUvaW5kZXguanMiLCJub2RlX21vZHVsZXMvaW51L3B1bGwuanMiLCJub2RlX21vZHVsZXMvaW51L3N0YXJ0LmpzIiwibm9kZV9tb2R1bGVzL2ludXgvYWN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2ludXgvYXBwLmpzIiwibm9kZV9tb2R1bGVzL2ludXgvY29tYmluZS5qcyIsIm5vZGVfbW9kdWxlcy9pbnV4L2RvbWFpbi5qcyIsIm5vZGVfbW9kdWxlcy9pbnV4L2VmZmVjdC5qcyIsIm5vZGVfbW9kdWxlcy9pbnV4L2V2ZW50LmpzIiwibm9kZV9tb2R1bGVzL2ludXgvaGFuZGxlQWN0aW9ucy5qcyIsIm5vZGVfbW9kdWxlcy9pbnV4L2hhbmRsZUVmZmVjdHMuanMiLCJub2RlX21vZHVsZXMvaW51eC9ocmVmLmpzIiwibm9kZV9tb2R1bGVzL2ludXgvaW5kZXguanMiLCJub2RlX21vZHVsZXMvaW51eC9uYXZpZ2F0ZS5qcyIsIm5vZGVfbW9kdWxlcy9pbnV4L3JlZHVjZVVwZGF0ZXMuanMiLCJub2RlX21vZHVsZXMvaW51eC9yb3V0ZS5qcyIsIm5vZGVfbW9kdWxlcy9pbnV4L3JvdXRlci5qcyIsIm5vZGVfbW9kdWxlcy9pbnV4L3J1bi5qcyIsIm5vZGVfbW9kdWxlcy9pbnV4L3J1bk1hbnkuanMiLCJub2RlX21vZHVsZXMvaW51eC9zY29wZVVwZGF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9tb3JwaGRvbS9saWIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbXMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvb24tbG9hZC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9vd24tZW51bWVyYWJsZS1rZXlzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3BhdGgtYnJvd3NlcmlmeS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wYXRobmFtZS1tYXRjaC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvcHVsbC1hc3luYy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLWNhdC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLW1hbnkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHVsbC1ub3RpZnkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHVsbC1wdXNoYWJsZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9wdWxsLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL2NvbGxlY3QuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc2lua3MvY29uY2F0LmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL2RyYWluLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL2ZpbmQuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc2lua3MvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc2lua3MvbG9nLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NpbmtzL29uLWVuZC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zaW5rcy9yZWR1Y2UuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc291cmNlcy9jb3VudC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zb3VyY2VzL2VtcHR5LmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NvdXJjZXMvZXJyb3IuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc291cmNlcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zb3VyY2VzL2luZmluaXRlLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3NvdXJjZXMva2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS9zb3VyY2VzL29uY2UuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vc291cmNlcy92YWx1ZXMuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvYXN5bmMtbWFwLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL2ZpbHRlci1ub3QuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvZmlsdGVyLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL2ZsYXR0ZW4uanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvbWFwLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL25vbi11bmlxdWUuanMiLCJub2RlX21vZHVsZXMvcHVsbC1zdHJlYW0vdGhyb3VnaHMvdGFrZS5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS90aHJvdWdocy90aHJvdWdoLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3Rocm91Z2hzL3VuaXF1ZS5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS91dGlsL2Fib3J0LWNiLmpzIiwibm9kZV9tb2R1bGVzL3B1bGwtc3RyZWFtL3V0aWwvcHJvcC5qcyIsIm5vZGVfbW9kdWxlcy9wdWxsLXN0cmVhbS91dGlsL3Rlc3Rlci5qcyIsIm5vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qcyIsIm5vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZGVjb2RlLmpzIiwibm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9lbmNvZGUuanMiLCJub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3J1YmJlcmR1Y2svbGliL3J1YmJlcmR1Y2suanMiLCJub2RlX21vZHVsZXMvcnViYmVyZHVjay9saWIvdXRpbHMuanMiLCJub2RlX21vZHVsZXMvc2hlZXQtcm91dGVyL2hpc3RvcnkuanMiLCJub2RlX21vZHVsZXMvc2hlZXQtcm91dGVyL2hyZWYuanMiLCJub2RlX21vZHVsZXMvc2hlZXQtcm91dGVyL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N1cGVyYWdlbnQvbGliL2NsaWVudC5qcyIsIm5vZGVfbW9kdWxlcy9zdXBlcmFnZW50L2xpYi9pcy1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvc3VwZXJhZ2VudC9saWIvcmVxdWVzdC1iYXNlLmpzIiwibm9kZV9tb2R1bGVzL3N1cGVyYWdlbnQvbGliL3JlcXVlc3QuanMiLCJub2RlX21vZHVsZXMvdWJlcnByb3RvL2xpYi9wcm90by5qcyIsIm5vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwibm9kZV9tb2R1bGVzL3VybC91dGlsLmpzIiwibm9kZV9tb2R1bGVzL3V0aWwvbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvdXRpbC9zdXBwb3J0L2lzQnVmZmVyQnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy91dGlsL3V0aWwuanMiLCJub2RlX21vZHVsZXMvd2F5ZmFyZXIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvd2F5ZmFyZXIvdHJpZS5qcyIsIm5vZGVfbW9kdWxlcy94dGVuZC9pbW11dGFibGUuanMiLCJub2RlX21vZHVsZXMveHRlbmQvbXV0YWJsZS5qcyIsIm5vZGVfbW9kdWxlcy95by15by9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy95by15by91cGRhdGUtZXZlbnRzLmpzIiwidXNlcnMvYWN0aW9ucy5qcyIsInVzZXJzL2FwcC5qcyIsInVzZXJzL2VmZmVjdHMuanMiLCJ1c2Vycy92aWV3cy9wcm9maWxlLmpzIiwidXNlcnMvdmlld3Mvc3VtbWFyeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtZQ0FBLElBQUksVUFBVyxRQUFRLG1CQUNuQixNQUFRLFFBQVEsa0JBQ2hCLEtBQU8sUUFBUSxrQ0FDZixLQUFPLFFBQVEsd0JBQ2YsV0FBYSxRQUFRLGFBR3pCLFFBQU8sUUFBVSxTQUFjLEdBQzdCLE1BQU8sWUFDSixVQUFVLEtBQUssR0FBTSxXQUFXLGFBQ2hDLFVBQVUsU0FDVixVQUFVOzs7MGZDWGYsS0FBQSxRQUFBLE9BQ0EsTUFBQSxRQUFBLFFBRUEsS0FBQSxRQUFBLGtEQUNBLFNBQUEsUUFBQSxvRUFDQSxTQUFBLFFBQUEsb0VBR00sS0FBTyxTQUFDLEVBQU8sR0FFbkIsTUFEQSxTQUFRLElBQUksSUFDWixFQUFBLEtBQUEsTUFBQSxnQkFLRSxFQUFNLEtBQUssSUFBSSxTQUFTLEdBQ3pCLE9BQU8sRUFBQSxVQUFBLFNBQVEsRUFBTSxLQUdNLFdBQUEsTUFBTSxJQUFTLEVBQUEsTUFBQSxVQUFTLGFBSWhELE1BQU8sRUFBQSxNQUFBLFNBQ1gsS0FBTSxPQUNOLEtBQU0sV0FBQSxPQUNKLFdBRUYsVUFDQSxTQUVHLElBQUssU0FBQyxFQUFRLEVBQU8sR0FBaEIsTUFBNkIsTUFBSyxFQUFPLE1BQzlDLGNBQUQsVUFBQSxXQUlKLFFBQU8sUUFBVSxTQUFtQixFQUFNLEdBQ3hDLEdBQU0sSUFBTSxFQUFBLE1BQUEsTUFDVixNQUVBLEVBQUEsTUFBQSxVQUFRLElBQUEsTUFFSixHQUFVLEVBQUEsS0FBQSxPQUFNLElBRXRCLEVBQUEsS0FBQSxNQUNFLEVBQVEs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QixFQUFNLDBxQkFqQi9DLFFBQVEsT0FBakIsY0FBQSxlQUNhLFFBQVEsUUFBckIsbUJBQUEsUUFFUixRQUFPLFFBQVUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIGZlYXRoZXJzID0gcmVxdWlyZSgnZmVhdGhlcnMvY2xpZW50JylcbnZhciBob29rcyA9IHJlcXVpcmUoJ2ZlYXRoZXJzLWhvb2tzJylcbnZhciBhdXRoID0gcmVxdWlyZSgnZmVhdGhlcnMtYXV0aGVudGljYXRpb24vY2xpZW50JylcbnZhciByZXN0ID0gcmVxdWlyZSgnZmVhdGhlcnMtcmVzdC9jbGllbnQnKVxudmFyIHN1cGVyYWdlbnQgPSByZXF1aXJlKCdzdXBlcmFnZW50JylcblxuLy8gdmFyIHNlcnZlciA9IGFwcC5saXN0ZW4ocG9ydClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gQXBpIChob3N0KSB7XG4gIHJldHVybiBmZWF0aGVycygpXG4gICAgLmNvbmZpZ3VyZShyZXN0KGhvc3QpLnN1cGVyYWdlbnQoc3VwZXJhZ2VudCkpXG4gICAgLmNvbmZpZ3VyZShob29rcygpKVxuICAgIC5jb25maWd1cmUoYXV0aCgpKVxufVxuIiwiaW1wb3J0IHsgc3RhcnQsIGh0bWwsIHB1bGwgfSBmcm9tICdpbnUnXG5pbXBvcnQgeyBBcHAsIERvbWFpbiwgQWN0aW9uLCBuYXZpZ2F0ZSB9IGZyb20gJ2ludXgnXG4vLyBpbXBvcnQgQWNjb3VudCBmcm9tICcuL2FjY291bnRzL2FwcCdcbmltcG9ydCBVc2VycyBmcm9tICcuL3VzZXJzL2FwcCdcbmltcG9ydCBzdW1tYXJ5IGZyb20gJy4vdXNlcnMvdmlld3Mvc3VtbWFyeSdcbmltcG9ydCBwcm9maWxlIGZyb20gJy4vdXNlcnMvdmlld3MvcHJvZmlsZSdcbi8vIGltcG9ydCBsb2dpbiBmcm9tICcuL3VzZXJzL3ZpZXdzL2xvZ2luJ1xuXG5jb25zdCB2aWV3ID0gKG1vZGVsLCBkaXNwYXRjaCkgPT4ge1xuICBjb25zb2xlLmxvZyhtb2RlbClcbiAgcmV0dXJuIGh0bWxgIFxuXG48bWFpbj5cblx0PGgxPkhlbGxvIHdvcmxkPC9oMT5cdFxuXHQ8dWw+XG5cdFx0JHttb2RlbC51c2VyLm1hcChmdW5jdGlvbihncmFkKSB7XG5cdFx0XHRyZXR1cm4gc3VtbWFyeShncmFkLCBkaXNwYXRjaCkgXG5cdFx0fSl9XG5cdDwvdWw+XG5cdDxidXR0b24gaWQ9XCJsb2dpblwiIG9uY2xpY2s9JHsoKSA9PiBkaXNwYXRjaChuYXZpZ2F0ZSgnbG9naW4nKSl9PlNpZ24gaW48L2J1dHRvbj5cbjwvbWFpbj5cbmB9XG5cbmNvbnN0IGhvbWUgPSBEb21haW4oe1xuICBuYW1lOiAnaG9tZScsXG4gIGluaXQ6ICgpID0+ICh7XG4gICAgbW9kZWw6IHt9XG4gIH0pLFxuICB1cGRhdGU6IHt9LFxuICByb3V0ZXM6IFtcbiAgICAvLyBbJy9sb2dpbicsIChfLCBtb2RlbCwgZGlzcGF0Y2gpID0+IGxvZ2luKG1vZGVsLCBkaXNwYXRjaCldLFxuICAgIFsnLycsIChwYXJhbXMsIG1vZGVsLCBkaXNwYXRjaCkgPT4gdmlldyhtb2RlbCwgZGlzcGF0Y2gpXSxcbiAgICBbJy8jdXNlcnMvOmlkJywgcHJvZmlsZV1cbiAgXVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzdGFydEFwcCAoZWxlbSwgYXBpKSB7XG4gIGNvbnN0IGFwcCA9IEFwcChbXG4gICAgaG9tZSxcbiAgICAvLyBBY2NvdW50KHsgYXBpfSksXG4gICAgVXNlcnMoeyBhcGl9KVxuICBdKVxuICBjb25zdCBzb3VyY2VzID0gc3RhcnQoYXBwKVxuXG4gIHB1bGwoXG4gICAgc291cmNlcy52aWV3cygpLFxuICAgIHB1bGwuZHJhaW4oZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgIGh0bWwudXBkYXRlKGVsZW0sIHZpZXcpXG4gICAgfSlcbiAgKVxufVxuIiwiY29uc3QgeyBqb2luIH0gPSByZXF1aXJlKCdwYXRoJylcblxuY29uc3QgY29uZmlnID0ge1xuICBwb3J0OiA1MDAwLFxuICBob3N0OiAnaHR0cDovL2xvY2FsaG9zdDozMDMwJyxcbiAgdXJsOiAnLy9sb2NhbGhvc3Q6NTAwMCcsXG4gIGVudHJ5OiBqb2luKF9fZGlybmFtZSwgJ2Jyb3dzZXIuanMnKSxcbiAgc3RhdGljUGF0aDogam9pbihfX2Rpcm5hbWUsICcuJylcbn1cblxuaWYgKFwicHJvZHVjdGlvblwiID09PSAncHJvZHVjdGlvbicpIHtcbiAgY29uZmlnLnBvcnQgPSBwcm9jZXNzLmVudi5QT1JUXG4gIGNvbmZpZy5ob3N0ID0gJ2h0dHBzOi8vZ3JhZC1hcHAtc2VydmVyLWRldi5hcC1zb3V0aGVhc3QtMi5lbGFzdGljYmVhbnN0YWxrLmNvbS8nLFxuICBjb25maWcudXJsID0gJy8vc3RhZ2luZy5ob2xvZGV4LmlzJyxcbiAgY29uZmlnLmxldHNlbmNyeXB0ID0ge1xuICAgIHBhdGg6IGpvaW4oX19kaXJuYW1lLCAnbGV0c2VuY3J5cHQnKSxcbiAgICBob3N0OiAnc3RhZ2luZy5ob2xvZGV4LmlzJyxcbiAgICBlbWFpbDogJ21pY2hhZWwud2lsbGlhbXNAZW5zcGlyYWwuY29tJyxcbiAgICBhZ3JlZVRvczogdHJ1ZVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29uZmlnXG4iLCJ2YXIgZG9tcmVhZHkgPSByZXF1aXJlKCdkb21yZWFkeScpXG52YXIgc3RhcnQgPSByZXF1aXJlKCcuL2FwcCcpXG5cbnZhciBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpXG52YXIgQXBpID0gcmVxdWlyZSgnLi9hcGknKVxuXG52YXIgYXBpID0gQXBpKGNvbmZpZy5ob3N0KVxuXG5kb21yZWFkeShmdW5jdGlvbiAoKSB7XG4gIHN0YXJ0KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKSwgYXBpKVxufSlcbiIsIi8vIGh0dHA6Ly93aWtpLmNvbW1vbmpzLm9yZy93aWtpL1VuaXRfVGVzdGluZy8xLjBcbi8vXG4vLyBUSElTIElTIE5PVCBURVNURUQgTk9SIExJS0VMWSBUTyBXT1JLIE9VVFNJREUgVjghXG4vL1xuLy8gT3JpZ2luYWxseSBmcm9tIG5hcndoYWwuanMgKGh0dHA6Ly9uYXJ3aGFsanMub3JnKVxuLy8gQ29weXJpZ2h0IChjKSAyMDA5IFRob21hcyBSb2JpbnNvbiA8Mjgwbm9ydGguY29tPlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICdTb2Z0d2FyZScpLCB0b1xuLy8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGVcbi8vIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vclxuLy8gc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAnQVMgSVMnLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4vLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuLy8gQVVUSE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU5cbi8vIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT05cbi8vIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyB3aGVuIHVzZWQgaW4gbm9kZSwgdGhpcyB3aWxsIGFjdHVhbGx5IGxvYWQgdGhlIHV0aWwgbW9kdWxlIHdlIGRlcGVuZCBvblxuLy8gdmVyc3VzIGxvYWRpbmcgdGhlIGJ1aWx0aW4gdXRpbCBtb2R1bGUgYXMgaGFwcGVucyBvdGhlcndpc2Vcbi8vIHRoaXMgaXMgYSBidWcgaW4gbm9kZSBtb2R1bGUgbG9hZGluZyBhcyBmYXIgYXMgSSBhbSBjb25jZXJuZWRcbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbC8nKTtcblxudmFyIHBTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4vLyAxLiBUaGUgYXNzZXJ0IG1vZHVsZSBwcm92aWRlcyBmdW5jdGlvbnMgdGhhdCB0aHJvd1xuLy8gQXNzZXJ0aW9uRXJyb3IncyB3aGVuIHBhcnRpY3VsYXIgY29uZGl0aW9ucyBhcmUgbm90IG1ldC4gVGhlXG4vLyBhc3NlcnQgbW9kdWxlIG11c3QgY29uZm9ybSB0byB0aGUgZm9sbG93aW5nIGludGVyZmFjZS5cblxudmFyIGFzc2VydCA9IG1vZHVsZS5leHBvcnRzID0gb2s7XG5cbi8vIDIuIFRoZSBBc3NlcnRpb25FcnJvciBpcyBkZWZpbmVkIGluIGFzc2VydC5cbi8vIG5ldyBhc3NlcnQuQXNzZXJ0aW9uRXJyb3IoeyBtZXNzYWdlOiBtZXNzYWdlLFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbDogYWN0dWFsLFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCB9KVxuXG5hc3NlcnQuQXNzZXJ0aW9uRXJyb3IgPSBmdW5jdGlvbiBBc3NlcnRpb25FcnJvcihvcHRpb25zKSB7XG4gIHRoaXMubmFtZSA9ICdBc3NlcnRpb25FcnJvcic7XG4gIHRoaXMuYWN0dWFsID0gb3B0aW9ucy5hY3R1YWw7XG4gIHRoaXMuZXhwZWN0ZWQgPSBvcHRpb25zLmV4cGVjdGVkO1xuICB0aGlzLm9wZXJhdG9yID0gb3B0aW9ucy5vcGVyYXRvcjtcbiAgaWYgKG9wdGlvbnMubWVzc2FnZSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZTtcbiAgICB0aGlzLmdlbmVyYXRlZE1lc3NhZ2UgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBnZXRNZXNzYWdlKHRoaXMpO1xuICAgIHRoaXMuZ2VuZXJhdGVkTWVzc2FnZSA9IHRydWU7XG4gIH1cbiAgdmFyIHN0YWNrU3RhcnRGdW5jdGlvbiA9IG9wdGlvbnMuc3RhY2tTdGFydEZ1bmN0aW9uIHx8IGZhaWw7XG5cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgc3RhY2tTdGFydEZ1bmN0aW9uKTtcbiAgfVxuICBlbHNlIHtcbiAgICAvLyBub24gdjggYnJvd3NlcnMgc28gd2UgY2FuIGhhdmUgYSBzdGFja3RyYWNlXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcigpO1xuICAgIGlmIChlcnIuc3RhY2spIHtcbiAgICAgIHZhciBvdXQgPSBlcnIuc3RhY2s7XG5cbiAgICAgIC8vIHRyeSB0byBzdHJpcCB1c2VsZXNzIGZyYW1lc1xuICAgICAgdmFyIGZuX25hbWUgPSBzdGFja1N0YXJ0RnVuY3Rpb24ubmFtZTtcbiAgICAgIHZhciBpZHggPSBvdXQuaW5kZXhPZignXFxuJyArIGZuX25hbWUpO1xuICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgIC8vIG9uY2Ugd2UgaGF2ZSBsb2NhdGVkIHRoZSBmdW5jdGlvbiBmcmFtZVxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHN0cmlwIG91dCBldmVyeXRoaW5nIGJlZm9yZSBpdCAoYW5kIGl0cyBsaW5lKVxuICAgICAgICB2YXIgbmV4dF9saW5lID0gb3V0LmluZGV4T2YoJ1xcbicsIGlkeCArIDEpO1xuICAgICAgICBvdXQgPSBvdXQuc3Vic3RyaW5nKG5leHRfbGluZSArIDEpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YWNrID0gb3V0O1xuICAgIH1cbiAgfVxufTtcblxuLy8gYXNzZXJ0LkFzc2VydGlvbkVycm9yIGluc3RhbmNlb2YgRXJyb3JcbnV0aWwuaW5oZXJpdHMoYXNzZXJ0LkFzc2VydGlvbkVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIHJlcGxhY2VyKGtleSwgdmFsdWUpIHtcbiAgaWYgKHV0aWwuaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuICcnICsgdmFsdWU7XG4gIH1cbiAgaWYgKHV0aWwuaXNOdW1iZXIodmFsdWUpICYmICFpc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgfVxuICBpZiAodXRpbC5pc0Z1bmN0aW9uKHZhbHVlKSB8fCB1dGlsLmlzUmVnRXhwKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gdHJ1bmNhdGUocywgbikge1xuICBpZiAodXRpbC5pc1N0cmluZyhzKSkge1xuICAgIHJldHVybiBzLmxlbmd0aCA8IG4gPyBzIDogcy5zbGljZSgwLCBuKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcztcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRNZXNzYWdlKHNlbGYpIHtcbiAgcmV0dXJuIHRydW5jYXRlKEpTT04uc3RyaW5naWZ5KHNlbGYuYWN0dWFsLCByZXBsYWNlciksIDEyOCkgKyAnICcgK1xuICAgICAgICAgc2VsZi5vcGVyYXRvciArICcgJyArXG4gICAgICAgICB0cnVuY2F0ZShKU09OLnN0cmluZ2lmeShzZWxmLmV4cGVjdGVkLCByZXBsYWNlciksIDEyOCk7XG59XG5cbi8vIEF0IHByZXNlbnQgb25seSB0aGUgdGhyZWUga2V5cyBtZW50aW9uZWQgYWJvdmUgYXJlIHVzZWQgYW5kXG4vLyB1bmRlcnN0b29kIGJ5IHRoZSBzcGVjLiBJbXBsZW1lbnRhdGlvbnMgb3Igc3ViIG1vZHVsZXMgY2FuIHBhc3Ncbi8vIG90aGVyIGtleXMgdG8gdGhlIEFzc2VydGlvbkVycm9yJ3MgY29uc3RydWN0b3IgLSB0aGV5IHdpbGwgYmVcbi8vIGlnbm9yZWQuXG5cbi8vIDMuIEFsbCBvZiB0aGUgZm9sbG93aW5nIGZ1bmN0aW9ucyBtdXN0IHRocm93IGFuIEFzc2VydGlvbkVycm9yXG4vLyB3aGVuIGEgY29ycmVzcG9uZGluZyBjb25kaXRpb24gaXMgbm90IG1ldCwgd2l0aCBhIG1lc3NhZ2UgdGhhdFxuLy8gbWF5IGJlIHVuZGVmaW5lZCBpZiBub3QgcHJvdmlkZWQuICBBbGwgYXNzZXJ0aW9uIG1ldGhvZHMgcHJvdmlkZVxuLy8gYm90aCB0aGUgYWN0dWFsIGFuZCBleHBlY3RlZCB2YWx1ZXMgdG8gdGhlIGFzc2VydGlvbiBlcnJvciBmb3Jcbi8vIGRpc3BsYXkgcHVycG9zZXMuXG5cbmZ1bmN0aW9uIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgb3BlcmF0b3IsIHN0YWNrU3RhcnRGdW5jdGlvbikge1xuICB0aHJvdyBuZXcgYXNzZXJ0LkFzc2VydGlvbkVycm9yKHtcbiAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgIGFjdHVhbDogYWN0dWFsLFxuICAgIGV4cGVjdGVkOiBleHBlY3RlZCxcbiAgICBvcGVyYXRvcjogb3BlcmF0b3IsXG4gICAgc3RhY2tTdGFydEZ1bmN0aW9uOiBzdGFja1N0YXJ0RnVuY3Rpb25cbiAgfSk7XG59XG5cbi8vIEVYVEVOU0lPTiEgYWxsb3dzIGZvciB3ZWxsIGJlaGF2ZWQgZXJyb3JzIGRlZmluZWQgZWxzZXdoZXJlLlxuYXNzZXJ0LmZhaWwgPSBmYWlsO1xuXG4vLyA0LiBQdXJlIGFzc2VydGlvbiB0ZXN0cyB3aGV0aGVyIGEgdmFsdWUgaXMgdHJ1dGh5LCBhcyBkZXRlcm1pbmVkXG4vLyBieSAhIWd1YXJkLlxuLy8gYXNzZXJ0Lm9rKGd1YXJkLCBtZXNzYWdlX29wdCk7XG4vLyBUaGlzIHN0YXRlbWVudCBpcyBlcXVpdmFsZW50IHRvIGFzc2VydC5lcXVhbCh0cnVlLCAhIWd1YXJkLFxuLy8gbWVzc2FnZV9vcHQpOy4gVG8gdGVzdCBzdHJpY3RseSBmb3IgdGhlIHZhbHVlIHRydWUsIHVzZVxuLy8gYXNzZXJ0LnN0cmljdEVxdWFsKHRydWUsIGd1YXJkLCBtZXNzYWdlX29wdCk7LlxuXG5mdW5jdGlvbiBvayh2YWx1ZSwgbWVzc2FnZSkge1xuICBpZiAoIXZhbHVlKSBmYWlsKHZhbHVlLCB0cnVlLCBtZXNzYWdlLCAnPT0nLCBhc3NlcnQub2spO1xufVxuYXNzZXJ0Lm9rID0gb2s7XG5cbi8vIDUuIFRoZSBlcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgc2hhbGxvdywgY29lcmNpdmUgZXF1YWxpdHkgd2l0aFxuLy8gPT0uXG4vLyBhc3NlcnQuZXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQuZXF1YWwgPSBmdW5jdGlvbiBlcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChhY3R1YWwgIT0gZXhwZWN0ZWQpIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJz09JywgYXNzZXJ0LmVxdWFsKTtcbn07XG5cbi8vIDYuIFRoZSBub24tZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIGZvciB3aGV0aGVyIHR3byBvYmplY3RzIGFyZSBub3QgZXF1YWxcbi8vIHdpdGggIT0gYXNzZXJ0Lm5vdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0Lm5vdEVxdWFsID0gZnVuY3Rpb24gbm90RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYWN0dWFsID09IGV4cGVjdGVkKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnIT0nLCBhc3NlcnQubm90RXF1YWwpO1xuICB9XG59O1xuXG4vLyA3LiBUaGUgZXF1aXZhbGVuY2UgYXNzZXJ0aW9uIHRlc3RzIGEgZGVlcCBlcXVhbGl0eSByZWxhdGlvbi5cbi8vIGFzc2VydC5kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQuZGVlcEVxdWFsID0gZnVuY3Rpb24gZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKCFfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQpKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnZGVlcEVxdWFsJywgYXNzZXJ0LmRlZXBFcXVhbCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIF9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCkge1xuICAvLyA3LjEuIEFsbCBpZGVudGljYWwgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBhcyBkZXRlcm1pbmVkIGJ5ID09PS5cbiAgaWYgKGFjdHVhbCA9PT0gZXhwZWN0ZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcblxuICB9IGVsc2UgaWYgKHV0aWwuaXNCdWZmZXIoYWN0dWFsKSAmJiB1dGlsLmlzQnVmZmVyKGV4cGVjdGVkKSkge1xuICAgIGlmIChhY3R1YWwubGVuZ3RoICE9IGV4cGVjdGVkLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY3R1YWwubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhY3R1YWxbaV0gIT09IGV4cGVjdGVkW2ldKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG5cbiAgLy8gNy4yLiBJZiB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMgYSBEYXRlIG9iamVjdCwgdGhlIGFjdHVhbCB2YWx1ZSBpc1xuICAvLyBlcXVpdmFsZW50IGlmIGl0IGlzIGFsc28gYSBEYXRlIG9iamVjdCB0aGF0IHJlZmVycyB0byB0aGUgc2FtZSB0aW1lLlxuICB9IGVsc2UgaWYgKHV0aWwuaXNEYXRlKGFjdHVhbCkgJiYgdXRpbC5pc0RhdGUoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGFjdHVhbC5nZXRUaW1lKCkgPT09IGV4cGVjdGVkLmdldFRpbWUoKTtcblxuICAvLyA3LjMgSWYgdGhlIGV4cGVjdGVkIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdCwgdGhlIGFjdHVhbCB2YWx1ZSBpc1xuICAvLyBlcXVpdmFsZW50IGlmIGl0IGlzIGFsc28gYSBSZWdFeHAgb2JqZWN0IHdpdGggdGhlIHNhbWUgc291cmNlIGFuZFxuICAvLyBwcm9wZXJ0aWVzIChgZ2xvYmFsYCwgYG11bHRpbGluZWAsIGBsYXN0SW5kZXhgLCBgaWdub3JlQ2FzZWApLlxuICB9IGVsc2UgaWYgKHV0aWwuaXNSZWdFeHAoYWN0dWFsKSAmJiB1dGlsLmlzUmVnRXhwKGV4cGVjdGVkKSkge1xuICAgIHJldHVybiBhY3R1YWwuc291cmNlID09PSBleHBlY3RlZC5zb3VyY2UgJiZcbiAgICAgICAgICAgYWN0dWFsLmdsb2JhbCA9PT0gZXhwZWN0ZWQuZ2xvYmFsICYmXG4gICAgICAgICAgIGFjdHVhbC5tdWx0aWxpbmUgPT09IGV4cGVjdGVkLm11bHRpbGluZSAmJlxuICAgICAgICAgICBhY3R1YWwubGFzdEluZGV4ID09PSBleHBlY3RlZC5sYXN0SW5kZXggJiZcbiAgICAgICAgICAgYWN0dWFsLmlnbm9yZUNhc2UgPT09IGV4cGVjdGVkLmlnbm9yZUNhc2U7XG5cbiAgLy8gNy40LiBPdGhlciBwYWlycyB0aGF0IGRvIG5vdCBib3RoIHBhc3MgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnLFxuICAvLyBlcXVpdmFsZW5jZSBpcyBkZXRlcm1pbmVkIGJ5ID09LlxuICB9IGVsc2UgaWYgKCF1dGlsLmlzT2JqZWN0KGFjdHVhbCkgJiYgIXV0aWwuaXNPYmplY3QoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGFjdHVhbCA9PSBleHBlY3RlZDtcblxuICAvLyA3LjUgRm9yIGFsbCBvdGhlciBPYmplY3QgcGFpcnMsIGluY2x1ZGluZyBBcnJheSBvYmplY3RzLCBlcXVpdmFsZW5jZSBpc1xuICAvLyBkZXRlcm1pbmVkIGJ5IGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoYXMgdmVyaWZpZWRcbiAgLy8gd2l0aCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwpLCB0aGUgc2FtZSBzZXQgb2Yga2V5c1xuICAvLyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSwgZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5XG4gIC8vIGNvcnJlc3BvbmRpbmcga2V5LCBhbmQgYW4gaWRlbnRpY2FsICdwcm90b3R5cGUnIHByb3BlcnR5LiBOb3RlOiB0aGlzXG4gIC8vIGFjY291bnRzIGZvciBib3RoIG5hbWVkIGFuZCBpbmRleGVkIHByb3BlcnRpZXMgb24gQXJyYXlzLlxuICB9IGVsc2Uge1xuICAgIHJldHVybiBvYmpFcXVpdihhY3R1YWwsIGV4cGVjdGVkKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0FyZ3VtZW50cyhvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xufVxuXG5mdW5jdGlvbiBvYmpFcXVpdihhLCBiKSB7XG4gIGlmICh1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKGEpIHx8IHV0aWwuaXNOdWxsT3JVbmRlZmluZWQoYikpXG4gICAgcmV0dXJuIGZhbHNlO1xuICAvLyBhbiBpZGVudGljYWwgJ3Byb3RvdHlwZScgcHJvcGVydHkuXG4gIGlmIChhLnByb3RvdHlwZSAhPT0gYi5wcm90b3R5cGUpIHJldHVybiBmYWxzZTtcbiAgLy8gaWYgb25lIGlzIGEgcHJpbWl0aXZlLCB0aGUgb3RoZXIgbXVzdCBiZSBzYW1lXG4gIGlmICh1dGlsLmlzUHJpbWl0aXZlKGEpIHx8IHV0aWwuaXNQcmltaXRpdmUoYikpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfVxuICB2YXIgYUlzQXJncyA9IGlzQXJndW1lbnRzKGEpLFxuICAgICAgYklzQXJncyA9IGlzQXJndW1lbnRzKGIpO1xuICBpZiAoKGFJc0FyZ3MgJiYgIWJJc0FyZ3MpIHx8ICghYUlzQXJncyAmJiBiSXNBcmdzKSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmIChhSXNBcmdzKSB7XG4gICAgYSA9IHBTbGljZS5jYWxsKGEpO1xuICAgIGIgPSBwU2xpY2UuY2FsbChiKTtcbiAgICByZXR1cm4gX2RlZXBFcXVhbChhLCBiKTtcbiAgfVxuICB2YXIga2EgPSBvYmplY3RLZXlzKGEpLFxuICAgICAga2IgPSBvYmplY3RLZXlzKGIpLFxuICAgICAga2V5LCBpO1xuICAvLyBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGtleXMgaW5jb3Jwb3JhdGVzXG4gIC8vIGhhc093blByb3BlcnR5KVxuICBpZiAoa2EubGVuZ3RoICE9IGtiLmxlbmd0aClcbiAgICByZXR1cm4gZmFsc2U7XG4gIC8vdGhlIHNhbWUgc2V0IG9mIGtleXMgKGFsdGhvdWdoIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBvcmRlciksXG4gIGthLnNvcnQoKTtcbiAga2Iuc29ydCgpO1xuICAvL35+fmNoZWFwIGtleSB0ZXN0XG4gIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKGthW2ldICE9IGtiW2ldKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5IGNvcnJlc3BvbmRpbmcga2V5LCBhbmRcbiAgLy9+fn5wb3NzaWJseSBleHBlbnNpdmUgZGVlcCB0ZXN0XG4gIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAga2V5ID0ga2FbaV07XG4gICAgaWYgKCFfZGVlcEVxdWFsKGFba2V5XSwgYltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyA4LiBUaGUgbm9uLWVxdWl2YWxlbmNlIGFzc2VydGlvbiB0ZXN0cyBmb3IgYW55IGRlZXAgaW5lcXVhbGl0eS5cbi8vIGFzc2VydC5ub3REZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQubm90RGVlcEVxdWFsID0gZnVuY3Rpb24gbm90RGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKF9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCkpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICdub3REZWVwRXF1YWwnLCBhc3NlcnQubm90RGVlcEVxdWFsKTtcbiAgfVxufTtcblxuLy8gOS4gVGhlIHN0cmljdCBlcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgc3RyaWN0IGVxdWFsaXR5LCBhcyBkZXRlcm1pbmVkIGJ5ID09PS5cbi8vIGFzc2VydC5zdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5zdHJpY3RFcXVhbCA9IGZ1bmN0aW9uIHN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCAhPT0gZXhwZWN0ZWQpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICc9PT0nLCBhc3NlcnQuc3RyaWN0RXF1YWwpO1xuICB9XG59O1xuXG4vLyAxMC4gVGhlIHN0cmljdCBub24tZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIGZvciBzdHJpY3QgaW5lcXVhbGl0eSwgYXNcbi8vIGRldGVybWluZWQgYnkgIT09LiAgYXNzZXJ0Lm5vdFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0Lm5vdFN0cmljdEVxdWFsID0gZnVuY3Rpb24gbm90U3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYWN0dWFsID09PSBleHBlY3RlZCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJyE9PScsIGFzc2VydC5ub3RTdHJpY3RFcXVhbCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpIHtcbiAgaWYgKCFhY3R1YWwgfHwgIWV4cGVjdGVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChleHBlY3RlZCkgPT0gJ1tvYmplY3QgUmVnRXhwXScpIHtcbiAgICByZXR1cm4gZXhwZWN0ZWQudGVzdChhY3R1YWwpO1xuICB9IGVsc2UgaWYgKGFjdHVhbCBpbnN0YW5jZW9mIGV4cGVjdGVkKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWQuY2FsbCh7fSwgYWN0dWFsKSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBfdGhyb3dzKHNob3VsZFRocm93LCBibG9jaywgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgdmFyIGFjdHVhbDtcblxuICBpZiAodXRpbC5pc1N0cmluZyhleHBlY3RlZCkpIHtcbiAgICBtZXNzYWdlID0gZXhwZWN0ZWQ7XG4gICAgZXhwZWN0ZWQgPSBudWxsO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBibG9jaygpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgYWN0dWFsID0gZTtcbiAgfVxuXG4gIG1lc3NhZ2UgPSAoZXhwZWN0ZWQgJiYgZXhwZWN0ZWQubmFtZSA/ICcgKCcgKyBleHBlY3RlZC5uYW1lICsgJykuJyA6ICcuJykgK1xuICAgICAgICAgICAgKG1lc3NhZ2UgPyAnICcgKyBtZXNzYWdlIDogJy4nKTtcblxuICBpZiAoc2hvdWxkVGhyb3cgJiYgIWFjdHVhbCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgJ01pc3NpbmcgZXhwZWN0ZWQgZXhjZXB0aW9uJyArIG1lc3NhZ2UpO1xuICB9XG5cbiAgaWYgKCFzaG91bGRUaHJvdyAmJiBleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsIGV4cGVjdGVkKSkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgJ0dvdCB1bndhbnRlZCBleGNlcHRpb24nICsgbWVzc2FnZSk7XG4gIH1cblxuICBpZiAoKHNob3VsZFRocm93ICYmIGFjdHVhbCAmJiBleHBlY3RlZCAmJlxuICAgICAgIWV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpKSB8fCAoIXNob3VsZFRocm93ICYmIGFjdHVhbCkpIHtcbiAgICB0aHJvdyBhY3R1YWw7XG4gIH1cbn1cblxuLy8gMTEuIEV4cGVjdGVkIHRvIHRocm93IGFuIGVycm9yOlxuLy8gYXNzZXJ0LnRocm93cyhibG9jaywgRXJyb3Jfb3B0LCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC50aHJvd3MgPSBmdW5jdGlvbihibG9jaywgLypvcHRpb25hbCovZXJyb3IsIC8qb3B0aW9uYWwqL21lc3NhZ2UpIHtcbiAgX3Rocm93cy5hcHBseSh0aGlzLCBbdHJ1ZV0uY29uY2F0KHBTbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbn07XG5cbi8vIEVYVEVOU0lPTiEgVGhpcyBpcyBhbm5veWluZyB0byB3cml0ZSBvdXRzaWRlIHRoaXMgbW9kdWxlLlxuYXNzZXJ0LmRvZXNOb3RUaHJvdyA9IGZ1bmN0aW9uKGJsb2NrLCAvKm9wdGlvbmFsKi9tZXNzYWdlKSB7XG4gIF90aHJvd3MuYXBwbHkodGhpcywgW2ZhbHNlXS5jb25jYXQocFNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xufTtcblxuYXNzZXJ0LmlmRXJyb3IgPSBmdW5jdGlvbihlcnIpIHsgaWYgKGVycikge3Rocm93IGVycjt9fTtcblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoaGFzT3duLmNhbGwob2JqLCBrZXkpKSBrZXlzLnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4ga2V5cztcbn07XG4iLCJ2YXIgZG9jdW1lbnQgPSByZXF1aXJlKCdnbG9iYWwvZG9jdW1lbnQnKVxudmFyIGh5cGVyeCA9IHJlcXVpcmUoJ2h5cGVyeCcpXG52YXIgb25sb2FkID0gcmVxdWlyZSgnb24tbG9hZCcpXG5cbnZhciBTVkdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZydcbnZhciBCT09MX1BST1BTID0ge1xuICBhdXRvZm9jdXM6IDEsXG4gIGNoZWNrZWQ6IDEsXG4gIGRlZmF1bHRjaGVja2VkOiAxLFxuICBkaXNhYmxlZDogMSxcbiAgZm9ybW5vdmFsaWRhdGU6IDEsXG4gIGluZGV0ZXJtaW5hdGU6IDEsXG4gIHJlYWRvbmx5OiAxLFxuICByZXF1aXJlZDogMSxcbiAgc2VsZWN0ZWQ6IDEsXG4gIHdpbGx2YWxpZGF0ZTogMVxufVxudmFyIFNWR19UQUdTID0gW1xuICAnc3ZnJyxcbiAgJ2FsdEdseXBoJywgJ2FsdEdseXBoRGVmJywgJ2FsdEdseXBoSXRlbScsICdhbmltYXRlJywgJ2FuaW1hdGVDb2xvcicsXG4gICdhbmltYXRlTW90aW9uJywgJ2FuaW1hdGVUcmFuc2Zvcm0nLCAnY2lyY2xlJywgJ2NsaXBQYXRoJywgJ2NvbG9yLXByb2ZpbGUnLFxuICAnY3Vyc29yJywgJ2RlZnMnLCAnZGVzYycsICdlbGxpcHNlJywgJ2ZlQmxlbmQnLCAnZmVDb2xvck1hdHJpeCcsXG4gICdmZUNvbXBvbmVudFRyYW5zZmVyJywgJ2ZlQ29tcG9zaXRlJywgJ2ZlQ29udm9sdmVNYXRyaXgnLCAnZmVEaWZmdXNlTGlnaHRpbmcnLFxuICAnZmVEaXNwbGFjZW1lbnRNYXAnLCAnZmVEaXN0YW50TGlnaHQnLCAnZmVGbG9vZCcsICdmZUZ1bmNBJywgJ2ZlRnVuY0InLFxuICAnZmVGdW5jRycsICdmZUZ1bmNSJywgJ2ZlR2F1c3NpYW5CbHVyJywgJ2ZlSW1hZ2UnLCAnZmVNZXJnZScsICdmZU1lcmdlTm9kZScsXG4gICdmZU1vcnBob2xvZ3knLCAnZmVPZmZzZXQnLCAnZmVQb2ludExpZ2h0JywgJ2ZlU3BlY3VsYXJMaWdodGluZycsXG4gICdmZVNwb3RMaWdodCcsICdmZVRpbGUnLCAnZmVUdXJidWxlbmNlJywgJ2ZpbHRlcicsICdmb250JywgJ2ZvbnQtZmFjZScsXG4gICdmb250LWZhY2UtZm9ybWF0JywgJ2ZvbnQtZmFjZS1uYW1lJywgJ2ZvbnQtZmFjZS1zcmMnLCAnZm9udC1mYWNlLXVyaScsXG4gICdmb3JlaWduT2JqZWN0JywgJ2cnLCAnZ2x5cGgnLCAnZ2x5cGhSZWYnLCAnaGtlcm4nLCAnaW1hZ2UnLCAnbGluZScsXG4gICdsaW5lYXJHcmFkaWVudCcsICdtYXJrZXInLCAnbWFzaycsICdtZXRhZGF0YScsICdtaXNzaW5nLWdseXBoJywgJ21wYXRoJyxcbiAgJ3BhdGgnLCAncGF0dGVybicsICdwb2x5Z29uJywgJ3BvbHlsaW5lJywgJ3JhZGlhbEdyYWRpZW50JywgJ3JlY3QnLFxuICAnc2V0JywgJ3N0b3AnLCAnc3dpdGNoJywgJ3N5bWJvbCcsICd0ZXh0JywgJ3RleHRQYXRoJywgJ3RpdGxlJywgJ3RyZWYnLFxuICAndHNwYW4nLCAndXNlJywgJ3ZpZXcnLCAndmtlcm4nXG5dXG5cbmZ1bmN0aW9uIGJlbENyZWF0ZUVsZW1lbnQgKHRhZywgcHJvcHMsIGNoaWxkcmVuKSB7XG4gIHZhciBlbFxuXG4gIC8vIElmIGFuIHN2ZyB0YWcsIGl0IG5lZWRzIGEgbmFtZXNwYWNlXG4gIGlmIChTVkdfVEFHUy5pbmRleE9mKHRhZykgIT09IC0xKSB7XG4gICAgcHJvcHMubmFtZXNwYWNlID0gU1ZHTlNcbiAgfVxuXG4gIC8vIElmIHdlIGFyZSB1c2luZyBhIG5hbWVzcGFjZVxuICB2YXIgbnMgPSBmYWxzZVxuICBpZiAocHJvcHMubmFtZXNwYWNlKSB7XG4gICAgbnMgPSBwcm9wcy5uYW1lc3BhY2VcbiAgICBkZWxldGUgcHJvcHMubmFtZXNwYWNlXG4gIH1cblxuICAvLyBDcmVhdGUgdGhlIGVsZW1lbnRcbiAgaWYgKG5zKSB7XG4gICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIHRhZylcbiAgfSBlbHNlIHtcbiAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKVxuICB9XG5cbiAgLy8gSWYgYWRkaW5nIG9ubG9hZCBldmVudHNcbiAgaWYgKHByb3BzLm9ubG9hZCB8fCBwcm9wcy5vbnVubG9hZCkge1xuICAgIHZhciBsb2FkID0gcHJvcHMub25sb2FkIHx8IGZ1bmN0aW9uICgpIHt9XG4gICAgdmFyIHVubG9hZCA9IHByb3BzLm9udW5sb2FkIHx8IGZ1bmN0aW9uICgpIHt9XG4gICAgb25sb2FkKGVsLCBmdW5jdGlvbiBiZWxfb25sb2FkICgpIHtcbiAgICAgIGxvYWQoZWwpXG4gICAgfSwgZnVuY3Rpb24gYmVsX29udW5sb2FkICgpIHtcbiAgICAgIHVubG9hZChlbClcbiAgICB9LFxuICAgIC8vIFdlIGhhdmUgdG8gdXNlIG5vbi1zdGFuZGFyZCBgY2FsbGVyYCB0byBmaW5kIHdobyBpbnZva2VzIGBiZWxDcmVhdGVFbGVtZW50YFxuICAgIGJlbENyZWF0ZUVsZW1lbnQuY2FsbGVyLmNhbGxlci5jYWxsZXIpXG4gICAgZGVsZXRlIHByb3BzLm9ubG9hZFxuICAgIGRlbGV0ZSBwcm9wcy5vbnVubG9hZFxuICB9XG5cbiAgLy8gQ3JlYXRlIHRoZSBwcm9wZXJ0aWVzXG4gIGZvciAodmFyIHAgaW4gcHJvcHMpIHtcbiAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgIHZhciBrZXkgPSBwLnRvTG93ZXJDYXNlKClcbiAgICAgIHZhciB2YWwgPSBwcm9wc1twXVxuICAgICAgLy8gTm9ybWFsaXplIGNsYXNzTmFtZVxuICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzbmFtZScpIHtcbiAgICAgICAga2V5ID0gJ2NsYXNzJ1xuICAgICAgICBwID0gJ2NsYXNzJ1xuICAgICAgfVxuICAgICAgLy8gVGhlIGZvciBhdHRyaWJ1dGUgZ2V0cyB0cmFuc2Zvcm1lZCB0byBodG1sRm9yLCBidXQgd2UganVzdCBzZXQgYXMgZm9yXG4gICAgICBpZiAocCA9PT0gJ2h0bWxGb3InKSB7XG4gICAgICAgIHAgPSAnZm9yJ1xuICAgICAgfVxuICAgICAgLy8gSWYgYSBwcm9wZXJ0eSBpcyBib29sZWFuLCBzZXQgaXRzZWxmIHRvIHRoZSBrZXlcbiAgICAgIGlmIChCT09MX1BST1BTW2tleV0pIHtcbiAgICAgICAgaWYgKHZhbCA9PT0gJ3RydWUnKSB2YWwgPSBrZXlcbiAgICAgICAgZWxzZSBpZiAodmFsID09PSAnZmFsc2UnKSBjb250aW51ZVxuICAgICAgfVxuICAgICAgLy8gSWYgYSBwcm9wZXJ0eSBwcmVmZXJzIGJlaW5nIHNldCBkaXJlY3RseSB2cyBzZXRBdHRyaWJ1dGVcbiAgICAgIGlmIChrZXkuc2xpY2UoMCwgMikgPT09ICdvbicpIHtcbiAgICAgICAgZWxbcF0gPSB2YWxcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChucykge1xuICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKG51bGwsIHAsIHZhbClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUocCwgdmFsKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXBwZW5kQ2hpbGQgKGNoaWxkcykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjaGlsZHMpKSByZXR1cm5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG5vZGUgPSBjaGlsZHNbaV1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgICAgIGFwcGVuZENoaWxkKG5vZGUpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygbm9kZSA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgdHlwZW9mIG5vZGUgPT09ICdib29sZWFuJyB8fFxuICAgICAgICBub2RlIGluc3RhbmNlb2YgRGF0ZSB8fFxuICAgICAgICBub2RlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnRvU3RyaW5nKClcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBub2RlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoZWwubGFzdENoaWxkICYmIGVsLmxhc3RDaGlsZC5ub2RlTmFtZSA9PT0gJyN0ZXh0Jykge1xuICAgICAgICAgIGVsLmxhc3RDaGlsZC5ub2RlVmFsdWUgKz0gbm9kZVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vZGUpXG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlICYmIG5vZGUubm9kZVR5cGUpIHtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQobm9kZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYXBwZW5kQ2hpbGQoY2hpbGRyZW4pXG5cbiAgcmV0dXJuIGVsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gaHlwZXJ4KGJlbENyZWF0ZUVsZW1lbnQpXG5tb2R1bGUuZXhwb3J0cy5jcmVhdGVFbGVtZW50ID0gYmVsQ3JlYXRlRWxlbWVudFxuIiwiXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbVZ0Y0hSNUxtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSWlMQ0ptYVd4bElqb2liM1YwTG1wekxtMWhjQ0lzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSWlKZGZRPT0iLCJcclxuLyoqXHJcbiAqIEV4cG9zZSBgRW1pdHRlcmAuXHJcbiAqL1xyXG5cclxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgbW9kdWxlLmV4cG9ydHMgPSBFbWl0dGVyO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZSBhIG5ldyBgRW1pdHRlcmAuXHJcbiAqXHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gRW1pdHRlcihvYmopIHtcclxuICBpZiAob2JqKSByZXR1cm4gbWl4aW4ob2JqKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBNaXhpbiB0aGUgZW1pdHRlciBwcm9wZXJ0aWVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICogQGFwaSBwcml2YXRlXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gbWl4aW4ob2JqKSB7XHJcbiAgZm9yICh2YXIga2V5IGluIEVtaXR0ZXIucHJvdG90eXBlKSB7XHJcbiAgICBvYmpba2V5XSA9IEVtaXR0ZXIucHJvdG90eXBlW2tleV07XHJcbiAgfVxyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMaXN0ZW4gb24gdGhlIGdpdmVuIGBldmVudGAgd2l0aCBgZm5gLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5vbiA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuICAodGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW10pXHJcbiAgICAucHVzaChmbik7XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogQWRkcyBhbiBgZXZlbnRgIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBpbnZva2VkIGEgc2luZ2xlXHJcbiAqIHRpbWUgdGhlbiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbihldmVudCwgZm4pe1xyXG4gIGZ1bmN0aW9uIG9uKCkge1xyXG4gICAgdGhpcy5vZmYoZXZlbnQsIG9uKTtcclxuICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgfVxyXG5cclxuICBvbi5mbiA9IGZuO1xyXG4gIHRoaXMub24oZXZlbnQsIG9uKTtcclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZW1vdmUgdGhlIGdpdmVuIGNhbGxiYWNrIGZvciBgZXZlbnRgIG9yIGFsbFxyXG4gKiByZWdpc3RlcmVkIGNhbGxiYWNrcy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUub2ZmID1cclxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcblxyXG4gIC8vIGFsbFxyXG4gIGlmICgwID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvLyBzcGVjaWZpYyBldmVudFxyXG4gIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG4gIGlmICghY2FsbGJhY2tzKSByZXR1cm4gdGhpcztcclxuXHJcbiAgLy8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xyXG4gIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvLyByZW1vdmUgc3BlY2lmaWMgaGFuZGxlclxyXG4gIHZhciBjYjtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgY2IgPSBjYWxsYmFja3NbaV07XHJcbiAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xyXG4gICAgICBjYWxsYmFja3Muc3BsaWNlKGksIDEpO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogRW1pdCBgZXZlbnRgIHdpdGggdGhlIGdpdmVuIGFyZ3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge01peGVkfSAuLi5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24oZXZlbnQpe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKVxyXG4gICAgLCBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG5cclxuICBpZiAoY2FsbGJhY2tzKSB7XHJcbiAgICBjYWxsYmFja3MgPSBjYWxsYmFja3Muc2xpY2UoMCk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XHJcbiAgICAgIGNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybiBhcnJheSBvZiBjYWxsYmFja3MgZm9yIGBldmVudGAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG4gIHJldHVybiB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIHRoaXMgZW1pdHRlciBoYXMgYGV2ZW50YCBoYW5kbGVycy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpe1xyXG4gIHJldHVybiAhISB0aGlzLmxpc3RlbmVycyhldmVudCkubGVuZ3RoO1xyXG59O1xyXG4iLCJcbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2RlYnVnJyk7XG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZVxuICAgICAgICAgICAgICAgJiYgJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZS5zdG9yYWdlXG4gICAgICAgICAgICAgICAgICA/IGNocm9tZS5zdG9yYWdlLmxvY2FsXG4gICAgICAgICAgICAgICAgICA6IGxvY2Fsc3RvcmFnZSgpO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcbiAgJ2xpZ2h0c2VhZ3JlZW4nLFxuICAnZm9yZXN0Z3JlZW4nLFxuICAnZ29sZGVucm9kJyxcbiAgJ2RvZGdlcmJsdWUnLFxuICAnZGFya29yY2hpZCcsXG4gICdjcmltc29uJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG4gIC8vIGlzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG4gIHJldHVybiAoJ1dlYmtpdEFwcGVhcmFuY2UnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSkgfHxcbiAgICAvLyBpcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG4gICAgKHdpbmRvdy5jb25zb2xlICYmIChjb25zb2xlLmZpcmVidWcgfHwgKGNvbnNvbGUuZXhjZXB0aW9uICYmIGNvbnNvbGUudGFibGUpKSkgfHxcbiAgICAvLyBpcyBmaXJlZm94ID49IHYzMT9cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcbiAgICAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEpO1xufVxuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xufTtcblxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoKSB7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgdXNlQ29sb3JzID0gdGhpcy51c2VDb2xvcnM7XG5cbiAgYXJnc1swXSA9ICh1c2VDb2xvcnMgPyAnJWMnIDogJycpXG4gICAgKyB0aGlzLm5hbWVzcGFjZVxuICAgICsgKHVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKVxuICAgICsgYXJnc1swXVxuICAgICsgKHVzZUNvbG9ycyA/ICclYyAnIDogJyAnKVxuICAgICsgJysnICsgZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG4gIGlmICghdXNlQ29sb3JzKSByZXR1cm4gYXJncztcblxuICB2YXIgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG4gIGFyZ3MgPSBbYXJnc1swXSwgYywgJ2NvbG9yOiBpbmhlcml0J10uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MsIDEpKTtcblxuICAvLyB0aGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuICAvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG4gIC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGFzdEMgPSAwO1xuICBhcmdzWzBdLnJlcGxhY2UoLyVbYS16JV0vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICBpZiAoJyUlJyA9PT0gbWF0Y2gpIHJldHVybjtcbiAgICBpbmRleCsrO1xuICAgIGlmICgnJWMnID09PSBtYXRjaCkge1xuICAgICAgLy8gd2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG4gICAgICAvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuICAgICAgbGFzdEMgPSBpbmRleDtcbiAgICB9XG4gIH0pO1xuXG4gIGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbiAgcmV0dXJuIGFyZ3M7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5sb2coKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmxvZ2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbG9nKCkge1xuICAvLyB0aGlzIGhhY2tlcnkgaXMgcmVxdWlyZWQgZm9yIElFOC85LCB3aGVyZVxuICAvLyB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgJ2FwcGx5J1xuICByZXR1cm4gJ29iamVjdCcgPT09IHR5cGVvZiBjb25zb2xlXG4gICAgJiYgY29uc29sZS5sb2dcbiAgICAmJiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZywgY29uc29sZSwgYXJndW1lbnRzKTtcbn1cblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gIHRyeSB7XG4gICAgaWYgKG51bGwgPT0gbmFtZXNwYWNlcykge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZyA9IG5hbWVzcGFjZXM7XG4gICAgfVxuICB9IGNhdGNoKGUpIHt9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9hZCgpIHtcbiAgdmFyIHI7XG4gIHRyeSB7XG4gICAgciA9IGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZztcbiAgfSBjYXRjaChlKSB7fVxuICByZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBFbmFibGUgbmFtZXNwYWNlcyBsaXN0ZWQgaW4gYGxvY2FsU3RvcmFnZS5kZWJ1Z2AgaW5pdGlhbGx5LlxuICovXG5cbmV4cG9ydHMuZW5hYmxlKGxvYWQoKSk7XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG4iLCJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZGVidWc7XG5leHBvcnRzLmNvZXJjZSA9IGNvZXJjZTtcbmV4cG9ydHMuZGlzYWJsZSA9IGRpc2FibGU7XG5leHBvcnRzLmVuYWJsZSA9IGVuYWJsZTtcbmV4cG9ydHMuZW5hYmxlZCA9IGVuYWJsZWQ7XG5leHBvcnRzLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblxuLyoqXG4gKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cbiAqL1xuXG5leHBvcnRzLm5hbWVzID0gW107XG5leHBvcnRzLnNraXBzID0gW107XG5cbi8qKlxuICogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuICpcbiAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyY2FzZWQgbGV0dGVyLCBpLmUuIFwiblwiLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0dGVycyA9IHt9O1xuXG4vKipcbiAqIFByZXZpb3VzbHkgYXNzaWduZWQgY29sb3IuXG4gKi9cblxudmFyIHByZXZDb2xvciA9IDA7XG5cbi8qKlxuICogUHJldmlvdXMgbG9nIHRpbWVzdGFtcC5cbiAqL1xuXG52YXIgcHJldlRpbWU7XG5cbi8qKlxuICogU2VsZWN0IGEgY29sb3IuXG4gKlxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2VsZWN0Q29sb3IoKSB7XG4gIHJldHVybiBleHBvcnRzLmNvbG9yc1twcmV2Q29sb3IrKyAlIGV4cG9ydHMuY29sb3JzLmxlbmd0aF07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRlYnVnKG5hbWVzcGFjZSkge1xuXG4gIC8vIGRlZmluZSB0aGUgYGRpc2FibGVkYCB2ZXJzaW9uXG4gIGZ1bmN0aW9uIGRpc2FibGVkKCkge1xuICB9XG4gIGRpc2FibGVkLmVuYWJsZWQgPSBmYWxzZTtcblxuICAvLyBkZWZpbmUgdGhlIGBlbmFibGVkYCB2ZXJzaW9uXG4gIGZ1bmN0aW9uIGVuYWJsZWQoKSB7XG5cbiAgICB2YXIgc2VsZiA9IGVuYWJsZWQ7XG5cbiAgICAvLyBzZXQgYGRpZmZgIHRpbWVzdGFtcFxuICAgIHZhciBjdXJyID0gK25ldyBEYXRlKCk7XG4gICAgdmFyIG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcbiAgICBzZWxmLmRpZmYgPSBtcztcbiAgICBzZWxmLnByZXYgPSBwcmV2VGltZTtcbiAgICBzZWxmLmN1cnIgPSBjdXJyO1xuICAgIHByZXZUaW1lID0gY3VycjtcblxuICAgIC8vIGFkZCB0aGUgYGNvbG9yYCBpZiBub3Qgc2V0XG4gICAgaWYgKG51bGwgPT0gc2VsZi51c2VDb2xvcnMpIHNlbGYudXNlQ29sb3JzID0gZXhwb3J0cy51c2VDb2xvcnMoKTtcbiAgICBpZiAobnVsbCA9PSBzZWxmLmNvbG9yICYmIHNlbGYudXNlQ29sb3JzKSBzZWxmLmNvbG9yID0gc2VsZWN0Q29sb3IoKTtcblxuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblxuICAgIGFyZ3NbMF0gPSBleHBvcnRzLmNvZXJjZShhcmdzWzBdKTtcblxuICAgIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIGFyZ3NbMF0pIHtcbiAgICAgIC8vIGFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVvXG4gICAgICBhcmdzID0gWyclbyddLmNvbmNhdChhcmdzKTtcbiAgICB9XG5cbiAgICAvLyBhcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgYXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16JV0pL2csIGZ1bmN0aW9uKG1hdGNoLCBmb3JtYXQpIHtcbiAgICAgIC8vIGlmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcbiAgICAgIGlmIChtYXRjaCA9PT0gJyUlJykgcmV0dXJuIG1hdGNoO1xuICAgICAgaW5kZXgrKztcbiAgICAgIHZhciBmb3JtYXR0ZXIgPSBleHBvcnRzLmZvcm1hdHRlcnNbZm9ybWF0XTtcbiAgICAgIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgZm9ybWF0dGVyKSB7XG4gICAgICAgIHZhciB2YWwgPSBhcmdzW2luZGV4XTtcbiAgICAgICAgbWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG4gICAgICAgIC8vIG5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcbiAgICAgICAgYXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBpbmRleC0tO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuXG4gICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBleHBvcnRzLmZvcm1hdEFyZ3MpIHtcbiAgICAgIGFyZ3MgPSBleHBvcnRzLmZvcm1hdEFyZ3MuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgfVxuICAgIHZhciBsb2dGbiA9IGVuYWJsZWQubG9nIHx8IGV4cG9ydHMubG9nIHx8IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7XG4gICAgbG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gIH1cbiAgZW5hYmxlZC5lbmFibGVkID0gdHJ1ZTtcblxuICB2YXIgZm4gPSBleHBvcnRzLmVuYWJsZWQobmFtZXNwYWNlKSA/IGVuYWJsZWQgOiBkaXNhYmxlZDtcblxuICBmbi5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG5cbiAgcmV0dXJuIGZuO1xufVxuXG4vKipcbiAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgZXhwb3J0cy5zYXZlKG5hbWVzcGFjZXMpO1xuXG4gIHZhciBzcGxpdCA9IChuYW1lc3BhY2VzIHx8ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuICB2YXIgbGVuID0gc3BsaXQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoIXNwbGl0W2ldKSBjb250aW51ZTsgLy8gaWdub3JlIGVtcHR5IHN0cmluZ3NcbiAgICBuYW1lc3BhY2VzID0gc3BsaXRbaV0ucmVwbGFjZSgvXFwqL2csICcuKj8nKTtcbiAgICBpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG4gICAgICBleHBvcnRzLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnN1YnN0cigxKSArICckJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzICsgJyQnKSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBkaXNhYmxlKCkge1xuICBleHBvcnRzLmVuYWJsZSgnJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcbiAgdmFyIGksIGxlbjtcbiAgZm9yIChpID0gMCwgbGVuID0gZXhwb3J0cy5za2lwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChleHBvcnRzLnNraXBzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZm9yIChpID0gMCwgbGVuID0gZXhwb3J0cy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChleHBvcnRzLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ29lcmNlIGB2YWxgLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuICogQHJldHVybiB7TWl4ZWR9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjb2VyY2UodmFsKSB7XG4gIGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcbiAgcmV0dXJuIHZhbDtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHNbaV0gIT09IHVuZGVmaW5lZCkgcmV0dXJuIGFyZ3VtZW50c1tpXTtcbiAgICB9XG59O1xuIiwiLyohXG4gICogZG9tcmVhZHkgKGMpIER1c3RpbiBEaWF6IDIwMTQgLSBMaWNlbnNlIE1JVFxuICAqL1xuIWZ1bmN0aW9uIChuYW1lLCBkZWZpbml0aW9uKSB7XG5cbiAgaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcpIG1vZHVsZS5leHBvcnRzID0gZGVmaW5pdGlvbigpXG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JykgZGVmaW5lKGRlZmluaXRpb24pXG4gIGVsc2UgdGhpc1tuYW1lXSA9IGRlZmluaXRpb24oKVxuXG59KCdkb21yZWFkeScsIGZ1bmN0aW9uICgpIHtcblxuICB2YXIgZm5zID0gW10sIGxpc3RlbmVyXG4gICAgLCBkb2MgPSBkb2N1bWVudFxuICAgICwgaGFjayA9IGRvYy5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGxcbiAgICAsIGRvbUNvbnRlbnRMb2FkZWQgPSAnRE9NQ29udGVudExvYWRlZCdcbiAgICAsIGxvYWRlZCA9IChoYWNrID8gL15sb2FkZWR8XmMvIDogL15sb2FkZWR8Xml8XmMvKS50ZXN0KGRvYy5yZWFkeVN0YXRlKVxuXG5cbiAgaWYgKCFsb2FkZWQpXG4gIGRvYy5hZGRFdmVudExpc3RlbmVyKGRvbUNvbnRlbnRMb2FkZWQsIGxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKGRvbUNvbnRlbnRMb2FkZWQsIGxpc3RlbmVyKVxuICAgIGxvYWRlZCA9IDFcbiAgICB3aGlsZSAobGlzdGVuZXIgPSBmbnMuc2hpZnQoKSkgbGlzdGVuZXIoKVxuICB9KVxuXG4gIHJldHVybiBmdW5jdGlvbiAoZm4pIHtcbiAgICBsb2FkZWQgPyBzZXRUaW1lb3V0KGZuLCAwKSA6IGZucy5wdXNoKGZuKVxuICB9XG5cbn0pO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG5FdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XG4gIGlmICghaXNOdW1iZXIobikgfHwgbiA8IDAgfHwgaXNOYU4obikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCduIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuICAgIGlmICghdGhpcy5fZXZlbnRzLmVycm9yIHx8XG4gICAgICAgIChpc09iamVjdCh0aGlzLl9ldmVudHMuZXJyb3IpICYmICF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSkge1xuICAgICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4gKCcgKyBlciArICcpJyk7XG4gICAgICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc1VuZGVmaW5lZChoYW5kbGVyKSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIC8vIGZhc3QgY2FzZXNcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIHNsb3dlclxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG07XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcilcbiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlXG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdO1xuXG4gIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pICYmICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG4gICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXG4gICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBpbiBJRSAxMFxuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblxuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLm9uKHR5cGUsIGcpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXR1cm4gdGhpcztcblxuICBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgcG9zaXRpb24gPSAtMTtcblxuICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcbiAgICAgIChpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpICYmIGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG5cbiAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkge1xuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgfSBlbHNlIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAvLyBMSUZPIG9yZGVyXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSBbXTtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xuICBlbHNlXG4gICAgcmV0ID0gdGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk7XG4gIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIGlmICh0aGlzLl9ldmVudHMpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGV2bGlzdGVuZXIpKVxuICAgICAgcmV0dXJuIDE7XG4gICAgZWxzZSBpZiAoZXZsaXN0ZW5lcilcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgfVxuICByZXR1cm4gMDtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xufTtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9jbGllbnQvaW5kZXgnKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMucG9wdWxhdGVQYXJhbXMgPSBwb3B1bGF0ZVBhcmFtcztcbmV4cG9ydHMucG9wdWxhdGVIZWFkZXIgPSBwb3B1bGF0ZUhlYWRlcjtcblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gcG9wdWxhdGVQYXJhbXMoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaG9vaykge1xuICAgIHZhciBhcHAgPSBob29rLmFwcDtcblxuICAgIE9iamVjdC5hc3NpZ24oaG9vay5wYXJhbXMsIHtcbiAgICAgIHVzZXI6IGFwcC5nZXQoJ3VzZXInKSxcbiAgICAgIHRva2VuOiBhcHAuZ2V0KCd0b2tlbicpXG4gICAgfSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHBvcHVsYXRlSGVhZGVyKCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoaG9vaykge1xuICAgIGlmIChob29rLnBhcmFtcy50b2tlbikge1xuICAgICAgaG9vay5wYXJhbXMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oe30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgb3B0aW9ucy5oZWFkZXIgfHwgJ2F1dGhvcml6YXRpb24nLCBob29rLnBhcmFtcy50b2tlbiksIGhvb2sucGFyYW1zLmhlYWRlcnMpO1xuICAgIH1cbiAgfTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuICB2YXIgY29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIG9wdHMpO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFwcCA9IHRoaXM7XG5cbiAgICBpZiAoIWFwcC5nZXQoJ3N0b3JhZ2UnKSkge1xuICAgICAgYXBwLnNldCgnc3RvcmFnZScsICgwLCBfdXRpbHMuZ2V0U3RvcmFnZSkoY29uZmlnLnN0b3JhZ2UpKTtcbiAgICB9XG5cbiAgICBhcHAuYXV0aGVudGljYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgdmFyIHN0b3JhZ2UgPSB0aGlzLmdldCgnc3RvcmFnZScpO1xuICAgICAgdmFyIGdldE9wdGlvbnMgPSBQcm9taXNlLnJlc29sdmUob3B0aW9ucyk7XG5cbiAgICAgIC8vIElmIG5vIHR5cGUgd2FzIGdpdmVuIGxldCdzIHRyeSB0byBhdXRoZW50aWNhdGUgd2l0aCBhIHN0b3JlZCBKV1RcbiAgICAgIGlmICghb3B0aW9ucy50eXBlKSB7XG4gICAgICAgIGdldE9wdGlvbnMgPSAoMCwgX3V0aWxzLmdldEpXVCkoY29uZmlnLnRva2VuS2V5LCBjb25maWcuY29va2llLCB0aGlzLmdldCgnc3RvcmFnZScpKS50aGVuKGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgX2ZlYXRoZXJzRXJyb3JzMi5kZWZhdWx0Lk5vdEF1dGhlbnRpY2F0ZWQoJ0NvdWxkIG5vdCBmaW5kIHN0b3JlZCBKV1QgYW5kIG5vIGF1dGhlbnRpY2F0aW9uIHR5cGUgd2FzIGdpdmVuJykpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7IHR5cGU6ICd0b2tlbicsIHRva2VuOiB0b2tlbiB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGhhbmRsZVJlc3BvbnNlID0gZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICAgICAgYXBwLnNldCgndG9rZW4nLCByZXNwb25zZS50b2tlbik7XG4gICAgICAgIGFwcC5zZXQoJ3VzZXInLCByZXNwb25zZS5kYXRhKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHN0b3JhZ2Uuc2V0SXRlbShjb25maWcudG9rZW5LZXksIHJlc3BvbnNlLnRva2VuKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBnZXRPcHRpb25zLnRoZW4oZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGVuZFBvaW50ID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmVuZHBvaW50KSB7XG4gICAgICAgICAgZW5kUG9pbnQgPSBvcHRpb25zLmVuZHBvaW50O1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudHlwZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgIGVuZFBvaW50ID0gY29uZmlnLmxvY2FsRW5kcG9pbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy50eXBlID09PSAndG9rZW4nKSB7XG4gICAgICAgICAgZW5kUG9pbnQgPSBjb25maWcudG9rZW5FbmRwb2ludDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGF1dGhlbnRpY2F0aW9uIFxcJ3R5cGVcXCc6ICcgKyBvcHRpb25zLnR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuY29ubmVjdGVkKShhcHApLnRoZW4oZnVuY3Rpb24gKHNvY2tldCkge1xuICAgICAgICAgIC8vIFRPRE8gKEVLKTogSGFuZGxlIE9BdXRoIGxvZ2luc1xuICAgICAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBhIFJFU1QgY2xpZW50XG4gICAgICAgICAgaWYgKGFwcC5yZXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwLnNlcnZpY2UoZW5kUG9pbnQpLmNyZWF0ZShvcHRpb25zKS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbWV0aG9kID0gYXBwLmlvID8gJ2VtaXQnIDogJ3NlbmQnO1xuXG4gICAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuYXV0aGVudGljYXRlU29ja2V0KShvcHRpb25zLCBzb2NrZXQsIG1ldGhvZCkudGhlbihoYW5kbGVSZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIFNldCBvdXIgbG9nb3V0IG1ldGhvZCB3aXRoIHRoZSBjb3JyZWN0IHNvY2tldCBjb250ZXh0XG4gICAgYXBwLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwcC5zZXQoJ3VzZXInLCBudWxsKTtcbiAgICAgIGFwcC5zZXQoJ3Rva2VuJywgbnVsbCk7XG5cbiAgICAgICgwLCBfdXRpbHMuY2xlYXJDb29raWUpKGNvbmZpZy5jb29raWUpO1xuXG4gICAgICAvLyByZW1vdmUgdGhlIHRva2VuIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGFwcC5nZXQoJ3N0b3JhZ2UnKS5yZW1vdmVJdGVtKGNvbmZpZy50b2tlbktleSkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBJZiB1c2luZyBzb2NrZXRzIGRlLWF1dGhlbnRpY2F0ZSB0aGUgc29ja2V0XG4gICAgICAgIGlmIChhcHAuaW8gfHwgYXBwLnByaW11cykge1xuICAgICAgICAgIHZhciBtZXRob2QgPSBhcHAuaW8gPyAnZW1pdCcgOiAnc2VuZCc7XG4gICAgICAgICAgdmFyIHNvY2tldCA9IGFwcC5pbyA/IGFwcC5pbyA6IGFwcC5wcmltdXM7XG5cbiAgICAgICAgICByZXR1cm4gKDAsIF91dGlscy5sb2dvdXRTb2NrZXQpKHNvY2tldCwgbWV0aG9kKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIFNldCB1cCBob29rIHRoYXQgYWRkcyB0b2tlbiBhbmQgdXNlciB0byBwYXJhbXMgc28gdGhhdFxuICAgIC8vIGl0IHRoZXkgY2FuIGJlIGFjY2Vzc2VkIGJ5IGNsaWVudCBzaWRlIGhvb2tzIGFuZCBzZXJ2aWNlc1xuICAgIGFwcC5taXhpbnMucHVzaChmdW5jdGlvbiAoc2VydmljZSkge1xuICAgICAgaWYgKHR5cGVvZiBzZXJ2aWNlLmJlZm9yZSAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2Ygc2VydmljZS5hZnRlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0IGxvb2tzIGxpa2UgZmVhdGhlcnMtaG9va3MgaXNuXFwndCBjb25maWd1cmVkLiBJdCBpcyByZXF1aXJlZCBiZWZvcmUgcnVubmluZyBmZWF0aGVycy1hdXRoZW50aWNhdGlvbi4nKTtcbiAgICAgIH1cblxuICAgICAgc2VydmljZS5iZWZvcmUoaG9va3MucG9wdWxhdGVQYXJhbXMoY29uZmlnKSk7XG4gICAgfSk7XG5cbiAgICAvLyBTZXQgdXAgaG9vayB0aGF0IGFkZHMgYXV0aG9yaXphdGlvbiBoZWFkZXIgZm9yIFJFU1QgcHJvdmlkZXJcbiAgICBpZiAoYXBwLnJlc3QpIHtcbiAgICAgIGFwcC5taXhpbnMucHVzaChmdW5jdGlvbiAoc2VydmljZSkge1xuICAgICAgICBzZXJ2aWNlLmJlZm9yZShob29rcy5wb3B1bGF0ZUhlYWRlcihjb25maWcpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBfZmVhdGhlcnNFcnJvcnMgPSByZXF1aXJlKCdmZWF0aGVycy1lcnJvcnMnKTtcblxudmFyIF9mZWF0aGVyc0Vycm9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mZWF0aGVyc0Vycm9ycyk7XG5cbnZhciBfaG9va3MgPSByZXF1aXJlKCcuL2hvb2tzJyk7XG5cbnZhciBob29rcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9ob29rcyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgY29va2llOiAnZmVhdGhlcnMtand0JyxcbiAgdG9rZW5LZXk6ICdmZWF0aGVycy1qd3QnLFxuICBsb2NhbEVuZHBvaW50OiAnL2F1dGgvbG9jYWwnLFxuICB0b2tlbkVuZHBvaW50OiAnL2F1dGgvdG9rZW4nXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmNvbm5lY3RlZCA9IGNvbm5lY3RlZDtcbmV4cG9ydHMuYXV0aGVudGljYXRlU29ja2V0ID0gYXV0aGVudGljYXRlU29ja2V0O1xuZXhwb3J0cy5sb2dvdXRTb2NrZXQgPSBsb2dvdXRTb2NrZXQ7XG5leHBvcnRzLmdldENvb2tpZSA9IGdldENvb2tpZTtcbmV4cG9ydHMuY2xlYXJDb29raWUgPSBjbGVhckNvb2tpZTtcbmV4cG9ydHMuZ2V0SldUID0gZ2V0SldUO1xuZXhwb3J0cy5nZXRTdG9yYWdlID0gZ2V0U3RvcmFnZTtcbi8vIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgc29ja2V0IGlzIGNvbm5lY3RlZFxuZnVuY3Rpb24gY29ubmVjdGVkKGFwcCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGlmIChhcHAucmVzdCkge1xuICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICB9XG5cbiAgICB2YXIgc29ja2V0ID0gYXBwLmlvIHx8IGFwcC5wcmltdXM7XG5cbiAgICBpZiAoIXNvY2tldCkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoJ0l0IGxvb2tzIGxpa2Ugbm8gY2xpZW50IGNvbm5lY3Rpb24gaGFzIGJlZW4gY29uZmlndXJlZC4nKSk7XG4gICAgfVxuXG4gICAgLy8gSWYgb25lIG9mIHRob3NlIGV2ZW50cyBoYXBwZW5zIGJlZm9yZSBgY29ubmVjdGAgdGhlIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZFxuICAgIC8vIElmIGl0IGhhcHBlbnMgYWZ0ZXIsIGl0IHdpbGwgZG8gbm90aGluZyAoc2luY2UgUHJvbWlzZXMgY2FuIG9ubHkgcmVzb2x2ZSBvbmNlKVxuICAgIHNvY2tldC5vbmNlKCdkaXNjb25uZWN0JywgcmVqZWN0KTtcbiAgICBzb2NrZXQub25jZSgnY2xvc2UnLCByZWplY3QpO1xuXG4gICAgLy8gSWYgdGhlIHNvY2tldCBpcyBub3QgY29ubmVjdGVkIHlldCB3ZSBoYXZlIHRvIHdhaXQgZm9yIHRoZSBgY29ubmVjdGAgZXZlbnRcbiAgICBpZiAoYXBwLmlvICYmICFzb2NrZXQuY29ubmVjdGVkIHx8IGFwcC5wcmltdXMgJiYgc29ja2V0LnJlYWR5U3RhdGUgIT09IDMpIHtcbiAgICAgIHZhciBjb25uZWN0RXZlbnQgPSBhcHAucHJpbXVzID8gJ29wZW4nIDogJ2Nvbm5lY3QnO1xuICAgICAgc29ja2V0Lm9uY2UoY29ubmVjdEV2ZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKHNvY2tldCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZShzb2NrZXQpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIFJldHVybnMgYSBwcm9taXNlIHRoYXQgYXV0aGVudGljYXRlcyBhIHNvY2tldFxuZnVuY3Rpb24gYXV0aGVudGljYXRlU29ja2V0KG9wdGlvbnMsIHNvY2tldCwgbWV0aG9kKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgc29ja2V0Lm9uY2UoJ3VuYXV0aG9yaXplZCcsIHJlamVjdCk7XG4gICAgc29ja2V0Lm9uY2UoJ2F1dGhlbnRpY2F0ZWQnLCByZXNvbHZlKTtcblxuICAgIHNvY2tldFttZXRob2RdKCdhdXRoZW50aWNhdGUnLCBvcHRpb25zKTtcbiAgfSk7XG59XG5cbi8vIFJldHVybnMgYSBwcm9taXNlIHRoYXQgZGUtYXV0aGVudGljYXRlcyBhIHNvY2tldFxuZnVuY3Rpb24gbG9nb3V0U29ja2V0KHNvY2tldCwgbWV0aG9kKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgc29ja2V0W21ldGhvZF0oJ2xvZ291dCcsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9XG5cbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8vIFJldHVybnMgdGhlIHZhbHVlIGZvciBhIGNvb2tpZVxuZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgdmFsdWUgPSAnOyAnICsgZG9jdW1lbnQuY29va2llO1xuICAgIHZhciBwYXJ0cyA9IHZhbHVlLnNwbGl0KCc7ICcgKyBuYW1lICsgJz0nKTtcblxuICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHJldHVybiBwYXJ0cy5wb3AoKS5zcGxpdCgnOycpLnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIFJldHVybnMgdGhlIHZhbHVlIGZvciBhIGNvb2tpZVxuZnVuY3Rpb24gY2xlYXJDb29raWUobmFtZSkge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAnPTtleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UOyc7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLy8gVHJpZXMgdGhlIEpXVCBmcm9tIHRoZSBnaXZlbiBrZXkgZWl0aGVyIGZyb20gYSBzdG9yYWdlIG9yIHRoZSBjb29raWVcbmZ1bmN0aW9uIGdldEpXVCh0b2tlbktleSwgY29va2llS2V5LCBzdG9yYWdlKSB7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoc3RvcmFnZS5nZXRJdGVtKHRva2VuS2V5KSkudGhlbihmdW5jdGlvbiAoand0KSB7XG4gICAgdmFyIGNvb2tpZVRva2VuID0gZ2V0Q29va2llKGNvb2tpZUtleSk7XG5cbiAgICBpZiAoY29va2llVG9rZW4pIHtcbiAgICAgIHJldHVybiBjb29raWVUb2tlbjtcbiAgICB9XG5cbiAgICByZXR1cm4gand0O1xuICB9KTtcbn1cblxuLy8gUmV0dXJucyBhIHN0b3JhZ2UgaW1wbGVtZW50YXRpb25cbmZ1bmN0aW9uIGdldFN0b3JhZ2Uoc3RvcmFnZSkge1xuICBpZiAoc3RvcmFnZSkge1xuICAgIHJldHVybiBzdG9yYWdlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdG9yZToge30sXG4gICAgZ2V0SXRlbTogZnVuY3Rpb24gZ2V0SXRlbShrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0b3JlW2tleV07XG4gICAgfSxcbiAgICBzZXRJdGVtOiBmdW5jdGlvbiBzZXRJdGVtKGtleSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0b3JlW2tleV0gPSB2YWx1ZTtcbiAgICB9LFxuICAgIHJlbW92ZUl0ZW06IGZ1bmN0aW9uIHJlbW92ZUl0ZW0oa2V5KSB7XG4gICAgICBkZWxldGUgdGhpcy5zdG9yZVtrZXldO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGdldEFyZ3VtZW50cztcbnZhciBub29wID0gZXhwb3J0cy5ub29wID0gZnVuY3Rpb24gbm9vcCgpIHt9O1xudmFyIGdldENhbGxiYWNrID0gZnVuY3Rpb24gZ2V0Q2FsbGJhY2soYXJncykge1xuICB2YXIgbGFzdCA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIHR5cGVvZiBsYXN0ID09PSAnZnVuY3Rpb24nID8gbGFzdCA6IG5vb3A7XG59O1xudmFyIGdldFBhcmFtcyA9IGZ1bmN0aW9uIGdldFBhcmFtcyhhcmdzLCBwb3NpdGlvbikge1xuICByZXR1cm4gX3R5cGVvZihhcmdzW3Bvc2l0aW9uXSkgPT09ICdvYmplY3QnID8gYXJnc1twb3NpdGlvbl0gOiB7fTtcbn07XG5cbnZhciB1cGRhdGVPclBhdGNoID0gZnVuY3Rpb24gdXBkYXRlT3JQYXRjaChuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoYXJncykge1xuICAgIHZhciBpZCA9IGFyZ3NbMF07XG4gICAgdmFyIGRhdGEgPSBhcmdzWzFdO1xuICAgIHZhciBjYWxsYmFjayA9IGdldENhbGxiYWNrKGFyZ3MpO1xuICAgIHZhciBwYXJhbXMgPSBnZXRQYXJhbXMoYXJncywgMik7XG5cbiAgICBpZiAodHlwZW9mIGlkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpcnN0IHBhcmFtZXRlciBmb3IgXFwnJyArIG5hbWUgKyAnXFwnIGNhbiBub3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIGlmICgodHlwZW9mIGRhdGEgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGRhdGEpKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZGF0YSBwcm92aWRlZCBmb3IgXFwnJyArIG5hbWUgKyAnXFwnJyk7XG4gICAgfVxuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gNCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb28gbWFueSBhcmd1bWVudHMgZm9yIFxcJycgKyBuYW1lICsgJ1xcJyBzZXJ2aWNlIG1ldGhvZCcpO1xuICAgIH1cblxuICAgIHJldHVybiBbaWQsIGRhdGEsIHBhcmFtcywgY2FsbGJhY2tdO1xuICB9O1xufTtcblxudmFyIGdldE9yUmVtb3ZlID0gZnVuY3Rpb24gZ2V0T3JSZW1vdmUobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICB2YXIgaWQgPSBhcmdzWzBdO1xuICAgIHZhciBwYXJhbXMgPSBnZXRQYXJhbXMoYXJncywgMSk7XG4gICAgdmFyIGNhbGxiYWNrID0gZ2V0Q2FsbGJhY2soYXJncyk7XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPiAzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RvbyBtYW55IGFyZ3VtZW50cyBmb3IgXFwnJyArIG5hbWUgKyAnXFwnIHNlcnZpY2UgbWV0aG9kJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGaXJzdCBwYXJhbWV0ZXIgZm9yIFxcJycgKyBuYW1lICsgJ1xcJyBjYW4gbm90IGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW2lkLCBwYXJhbXMsIGNhbGxiYWNrXTtcbiAgfTtcbn07XG5cbnZhciBjb252ZXJ0ZXJzID0gZXhwb3J0cy5jb252ZXJ0ZXJzID0ge1xuICBmaW5kOiBmdW5jdGlvbiBmaW5kKGFyZ3MpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBnZXRDYWxsYmFjayhhcmdzKTtcbiAgICB2YXIgcGFyYW1zID0gZ2V0UGFyYW1zKGFyZ3MsIDApO1xuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb28gbWFueSBhcmd1bWVudHMgZm9yIFxcJ2ZpbmRcXCcgc2VydmljZSBtZXRob2QnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW3BhcmFtcywgY2FsbGJhY2tdO1xuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShhcmdzKSB7XG4gICAgdmFyIGRhdGEgPSBhcmdzWzBdO1xuICAgIHZhciBwYXJhbXMgPSBnZXRQYXJhbXMoYXJncywgMSk7XG4gICAgdmFyIGNhbGxiYWNrID0gZ2V0Q2FsbGJhY2soYXJncyk7XG5cbiAgICBpZiAoKHR5cGVvZiBkYXRhID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihkYXRhKSkgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpcnN0IHBhcmFtZXRlciBmb3IgXFwnY3JlYXRlXFwnIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gICAgfVxuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gMykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb28gbWFueSBhcmd1bWVudHMgZm9yIFxcJ2NyZWF0ZVxcJyBzZXJ2aWNlIG1ldGhvZCcpO1xuICAgIH1cblxuICAgIHJldHVybiBbZGF0YSwgcGFyYW1zLCBjYWxsYmFja107XG4gIH0sXG5cblxuICB1cGRhdGU6IHVwZGF0ZU9yUGF0Y2goJ3VwZGF0ZScpLFxuXG4gIHBhdGNoOiB1cGRhdGVPclBhdGNoKCdwYXRjaCcpLFxuXG4gIGdldDogZ2V0T3JSZW1vdmUoJ2dldCcpLFxuXG4gIHJlbW92ZTogZ2V0T3JSZW1vdmUoJ3JlbW92ZScpXG59O1xuXG5mdW5jdGlvbiBnZXRBcmd1bWVudHMobWV0aG9kLCBhcmdzKSB7XG4gIHJldHVybiBjb252ZXJ0ZXJzW21ldGhvZF0oYXJncyk7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2FyZ3VtZW50cyA9IHJlcXVpcmUoJy4vYXJndW1lbnRzJyk7XG5cbnZhciBfYXJndW1lbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FyZ3VtZW50cyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciBfaG9va3MgPSByZXF1aXJlKCcuL2hvb2tzJyk7XG5cbnZhciBfaG9va3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaG9va3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gIGdldEFyZ3VtZW50czogX2FyZ3VtZW50czIuZGVmYXVsdCxcbiAgc3RyaXBTbGFzaGVzOiBfdXRpbHMuc3RyaXBTbGFzaGVzLFxuICBlYWNoOiBfdXRpbHMuZWFjaCxcbiAgaG9va3M6IF9ob29rczIuZGVmYXVsdCxcbiAgbWF0Y2hlcjogX3V0aWxzLm1hdGNoZXIsXG4gIHNvcnRlcjogX3V0aWxzLnNvcnRlclxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIGdldE9yUmVtb3ZlKGFyZ3MpIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogYXJnc1swXSxcbiAgICBwYXJhbXM6IGFyZ3NbMV0sXG4gICAgY2FsbGJhY2s6IGFyZ3NbMl1cbiAgfTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlT3JQYXRjaChhcmdzKSB7XG4gIHJldHVybiB7XG4gICAgaWQ6IGFyZ3NbMF0sXG4gICAgZGF0YTogYXJnc1sxXSxcbiAgICBwYXJhbXM6IGFyZ3NbMl0sXG4gICAgY2FsbGJhY2s6IGFyZ3NbM11cbiAgfTtcbn1cblxudmFyIGNvbnZlcnRlcnMgPSB7XG4gIGZpbmQ6IGZ1bmN0aW9uIGZpbmQoYXJncykge1xuICAgIHJldHVybiB7XG4gICAgICBwYXJhbXM6IGFyZ3NbMF0sXG4gICAgICBjYWxsYmFjazogYXJnc1sxXVxuICAgIH07XG4gIH0sXG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKGFyZ3MpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogYXJnc1swXSxcbiAgICAgIHBhcmFtczogYXJnc1sxXSxcbiAgICAgIGNhbGxiYWNrOiBhcmdzWzJdXG4gICAgfTtcbiAgfSxcbiAgZ2V0OiBnZXRPclJlbW92ZSxcbiAgcmVtb3ZlOiBnZXRPclJlbW92ZSxcbiAgdXBkYXRlOiB1cGRhdGVPclBhdGNoLFxuICBwYXRjaDogdXBkYXRlT3JQYXRjaFxufTtcblxuZnVuY3Rpb24gaG9va09iamVjdChtZXRob2QsIHR5cGUsIGFyZ3MpIHtcbiAgdmFyIGhvb2sgPSBjb252ZXJ0ZXJzW21ldGhvZF0oYXJncyk7XG5cbiAgaG9vay5tZXRob2QgPSBtZXRob2Q7XG4gIGhvb2sudHlwZSA9IHR5cGU7XG5cbiAgcmV0dXJuIGhvb2s7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRNYWtlQXJndW1lbnRzKGhvb2spIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAodHlwZW9mIGhvb2suaWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmVzdWx0LnB1c2goaG9vay5pZCk7XG4gIH1cblxuICBpZiAoaG9vay5kYXRhKSB7XG4gICAgcmVzdWx0LnB1c2goaG9vay5kYXRhKTtcbiAgfVxuXG4gIHJlc3VsdC5wdXNoKGhvb2sucGFyYW1zIHx8IHt9KTtcbiAgcmVzdWx0LnB1c2goaG9vay5jYWxsYmFjayk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbWFrZUFyZ3VtZW50cyhob29rKSB7XG4gIGlmIChob29rLm1ldGhvZCA9PT0gJ2ZpbmQnKSB7XG4gICAgcmV0dXJuIFtob29rLnBhcmFtcywgaG9vay5jYWxsYmFja107XG4gIH1cblxuICBpZiAoaG9vay5tZXRob2QgPT09ICdnZXQnIHx8IGhvb2subWV0aG9kID09PSAncmVtb3ZlJykge1xuICAgIHJldHVybiBbaG9vay5pZCwgaG9vay5wYXJhbXMsIGhvb2suY2FsbGJhY2tdO1xuICB9XG5cbiAgaWYgKGhvb2subWV0aG9kID09PSAndXBkYXRlJyB8fCBob29rLm1ldGhvZCA9PT0gJ3BhdGNoJykge1xuICAgIHJldHVybiBbaG9vay5pZCwgaG9vay5kYXRhLCBob29rLnBhcmFtcywgaG9vay5jYWxsYmFja107XG4gIH1cblxuICBpZiAoaG9vay5tZXRob2QgPT09ICdjcmVhdGUnKSB7XG4gICAgcmV0dXJuIFtob29rLmRhdGEsIGhvb2sucGFyYW1zLCBob29rLmNhbGxiYWNrXTtcbiAgfVxuXG4gIHJldHVybiBkZWZhdWx0TWFrZUFyZ3VtZW50cyhob29rKTtcbn1cblxuZnVuY3Rpb24gY29udmVydEhvb2tEYXRhKG9iaikge1xuICB2YXIgaG9vayA9IHt9O1xuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICBob29rID0geyBhbGw6IG9iaiB9O1xuICB9IGVsc2UgaWYgKCh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihvYmopKSAhPT0gJ29iamVjdCcpIHtcbiAgICBob29rID0geyBhbGw6IFtvYmpdIH07XG4gIH0gZWxzZSB7XG4gICAgKDAsIF91dGlscy5lYWNoKShvYmosIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICBob29rW2tleV0gPSAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBbdmFsdWVdIDogdmFsdWU7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gaG9vaztcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICBob29rT2JqZWN0OiBob29rT2JqZWN0LFxuICBob29rOiBob29rT2JqZWN0LFxuICBjb252ZXJ0ZXJzOiBjb252ZXJ0ZXJzLFxuICBkZWZhdWx0TWFrZUFyZ3VtZW50czogZGVmYXVsdE1ha2VBcmd1bWVudHMsXG4gIG1ha2VBcmd1bWVudHM6IG1ha2VBcmd1bWVudHMsXG4gIGNvbnZlcnRIb29rRGF0YTogY29udmVydEhvb2tEYXRhXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5zdHJpcFNsYXNoZXMgPSBzdHJpcFNsYXNoZXM7XG5leHBvcnRzLmVhY2ggPSBlYWNoO1xuZXhwb3J0cy5tYXRjaGVyID0gbWF0Y2hlcjtcbmV4cG9ydHMuc29ydGVyID0gc29ydGVyO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gc3RyaXBTbGFzaGVzKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUucmVwbGFjZSgvXihcXC8qKXwoXFwvKikkL2csICcnKTtcbn1cblxuZnVuY3Rpb24gZWFjaChvYmosIGNhbGxiYWNrKSB7XG4gIGlmIChvYmogJiYgdHlwZW9mIG9iai5mb3JFYWNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb2JqLmZvckVhY2goY2FsbGJhY2spO1xuICB9IGVsc2UgaWYgKCh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihvYmopKSA9PT0gJ29iamVjdCcpIHtcbiAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG9ialtrZXldLCBrZXkpO1xuICAgIH0pO1xuICB9XG59XG5cbnZhciBfID0gZXhwb3J0cy5fID0ge1xuICBzb21lOiBmdW5jdGlvbiBzb21lKHZhbHVlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh2YWx1ZSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBbdmFsdWVba2V5XSwga2V5XTtcbiAgICB9KS5zb21lKGZ1bmN0aW9uIChjdXJyZW50KSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBfdG9Db25zdW1hYmxlQXJyYXkoY3VycmVudCkpO1xuICAgIH0pO1xuICB9LFxuICBldmVyeTogZnVuY3Rpb24gZXZlcnkodmFsdWUsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHZhbHVlKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIFt2YWx1ZVtrZXldLCBrZXldO1xuICAgIH0pLmV2ZXJ5KGZ1bmN0aW9uIChjdXJyZW50KSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBfdG9Db25zdW1hYmxlQXJyYXkoY3VycmVudCkpO1xuICAgIH0pO1xuICB9LFxuICBpc01hdGNoOiBmdW5jdGlvbiBpc01hdGNoKG9iaiwgaXRlbSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhpdGVtKS5ldmVyeShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gb2JqW2tleV0gPT09IGl0ZW1ba2V5XTtcbiAgICB9KTtcbiAgfSxcbiAgb21pdDogZnVuY3Rpb24gb21pdChvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0gX2V4dGVuZHMoe30sIG9iaik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwga2V5cyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGtleXNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gZGVsZXRlIHJlc3VsdFtrZXldO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn07XG5cbnZhciBzcGVjaWFsRmlsdGVycyA9IGV4cG9ydHMuc3BlY2lhbEZpbHRlcnMgPSB7XG4gICRpbjogZnVuY3Rpb24gJGluKGtleSwgaW5zKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjdXJyZW50KSB7XG4gICAgICByZXR1cm4gaW5zLmluZGV4T2YoY3VycmVudFtrZXldKSAhPT0gLTE7XG4gICAgfTtcbiAgfSxcbiAgJG5pbjogZnVuY3Rpb24gJG5pbihrZXksIG5pbnMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGN1cnJlbnQpIHtcbiAgICAgIHJldHVybiBuaW5zLmluZGV4T2YoY3VycmVudFtrZXldKSA9PT0gLTE7XG4gICAgfTtcbiAgfSxcbiAgJGx0OiBmdW5jdGlvbiAkbHQoa2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoY3VycmVudCkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRba2V5XSA8IHZhbHVlO1xuICAgIH07XG4gIH0sXG4gICRsdGU6IGZ1bmN0aW9uICRsdGUoa2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoY3VycmVudCkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRba2V5XSA8PSB2YWx1ZTtcbiAgICB9O1xuICB9LFxuICAkZ3Q6IGZ1bmN0aW9uICRndChrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjdXJyZW50KSB7XG4gICAgICByZXR1cm4gY3VycmVudFtrZXldID4gdmFsdWU7XG4gICAgfTtcbiAgfSxcbiAgJGd0ZTogZnVuY3Rpb24gJGd0ZShrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjdXJyZW50KSB7XG4gICAgICByZXR1cm4gY3VycmVudFtrZXldID49IHZhbHVlO1xuICAgIH07XG4gIH0sXG4gICRuZTogZnVuY3Rpb24gJG5lKGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGN1cnJlbnQpIHtcbiAgICAgIHJldHVybiBjdXJyZW50W2tleV0gIT09IHZhbHVlO1xuICAgIH07XG4gIH1cbn07XG5cbmZ1bmN0aW9uIG1hdGNoZXIob3JpZ2luYWxRdWVyeSkge1xuICB2YXIgcXVlcnkgPSBfLm9taXQob3JpZ2luYWxRdWVyeSwgJyRsaW1pdCcsICckc2tpcCcsICckc29ydCcpO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGlmIChxdWVyeS4kb3IgJiYgXy5zb21lKHF1ZXJ5LiRvciwgZnVuY3Rpb24gKG9yKSB7XG4gICAgICByZXR1cm4gbWF0Y2hlcihvcikoaXRlbSk7XG4gICAgfSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBfLmV2ZXJ5KHF1ZXJ5LCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgaWYgKCh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHZhbHVlKSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBfLmV2ZXJ5KHZhbHVlLCBmdW5jdGlvbiAodGFyZ2V0LCBmaWx0ZXJUeXBlKSB7XG4gICAgICAgICAgaWYgKHNwZWNpYWxGaWx0ZXJzW2ZpbHRlclR5cGVdKSB7XG4gICAgICAgICAgICB2YXIgZmlsdGVyID0gc3BlY2lhbEZpbHRlcnNbZmlsdGVyVHlwZV0oa2V5LCB0YXJnZXQpO1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlcihpdGVtKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbVtrZXldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gaXRlbVtrZXldID09PSBxdWVyeVtrZXldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNvcnRlcigkc29ydCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHtcbiAgICB2YXIgY29tcGFyYXRvciA9IDA7XG4gICAgZWFjaCgkc29ydCwgZnVuY3Rpb24gKG1vZGlmaWVyLCBrZXkpIHtcbiAgICAgIG1vZGlmaWVyID0gcGFyc2VJbnQobW9kaWZpZXIsIDEwKTtcblxuICAgICAgaWYgKGZpcnN0W2tleV0gPCBzZWNvbmRba2V5XSkge1xuICAgICAgICBjb21wYXJhdG9yIC09IDEgKiBtb2RpZmllcjtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpcnN0W2tleV0gPiBzZWNvbmRba2V5XSkge1xuICAgICAgICBjb21wYXJhdG9yICs9IDEgKiBtb2RpZmllcjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY29tcGFyYXRvcjtcbiAgfTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRhYmxlQnVpbHRpbihjbHMpIHtcbiAgZnVuY3Rpb24gRXh0ZW5kYWJsZUJ1aWx0aW4oKSB7XG4gICAgdmFyIGluc3RhbmNlID0gUmVmbGVjdC5jb25zdHJ1Y3QoY2xzLCBBcnJheS5mcm9tKGFyZ3VtZW50cykpO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cblxuICBFeHRlbmRhYmxlQnVpbHRpbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGNscy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IGNscyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoRXh0ZW5kYWJsZUJ1aWx0aW4sIGNscyk7XG4gIH0gZWxzZSB7XG4gICAgRXh0ZW5kYWJsZUJ1aWx0aW4uX19wcm90b19fID0gY2xzO1xuICB9XG5cbiAgcmV0dXJuIEV4dGVuZGFibGVCdWlsdGluO1xufVxuXG52YXIgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdmZWF0aGVycy1lcnJvcnMnKTtcblxuLy8gTk9URSAoRUspOiBCYWJlbCBkb2Vzbid0IHByb3Blcmx5IHN1cHBvcnQgZXh0ZW5kaW5nXG4vLyBzb21lIGNsYXNzZXMgaW4gRVM2LiBUaGUgRXJyb3IgY2xhc3MgYmVpbmcgb25lIG9mIHRoZW0uXG4vLyBOb2RlIHY1LjArIGRvZXMgc3VwcG9ydCB0aGlzIGJ1dCB1bnRpbCB3ZSB3YW50IHRvIGRyb3Agc3VwcG9ydFxuLy8gZm9yIG9sZGVyIHZlcnNpb25zIHdlIG5lZWQgdGhpcyBoYWNrLlxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMzg3MDY4NC93aHktZG9lc250LWluc3RhbmNlb2Ytd29yay1vbi1pbnN0YW5jZXMtb2YtZXJyb3Itc3ViY2xhc3Nlcy11bmRlci1iYWJlbC1ub2RlXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbG9nYW5mc215dGgvYmFiZWwtcGx1Z2luLXRyYW5zZm9ybS1idWlsdGluLWV4dGVuZFxuXG52YXIgRmVhdGhlcnNFcnJvciA9IGZ1bmN0aW9uIChfZXh0ZW5kYWJsZUJ1aWx0aW4yKSB7XG4gIF9pbmhlcml0cyhGZWF0aGVyc0Vycm9yLCBfZXh0ZW5kYWJsZUJ1aWx0aW4yKTtcblxuICBmdW5jdGlvbiBGZWF0aGVyc0Vycm9yKG1zZywgbmFtZSwgY29kZSwgY2xhc3NOYW1lLCBkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZlYXRoZXJzRXJyb3IpO1xuXG4gICAgbXNnID0gbXNnIHx8ICdFcnJvcic7XG5cbiAgICB2YXIgZXJyb3JzID0gdW5kZWZpbmVkO1xuICAgIHZhciBtZXNzYWdlID0gdW5kZWZpbmVkO1xuICAgIHZhciBuZXdEYXRhID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKG1zZyBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBtZXNzYWdlID0gbXNnLm1lc3NhZ2UgfHwgJ0Vycm9yJztcblxuICAgICAgLy8gTk9URSAoRUspOiBUaGlzIGlzIHR5cGljYWxseSB0byBoYW5kbGUgdmFsaWRhdGlvbiBlcnJvcnNcbiAgICAgIGlmIChtc2cuZXJyb3JzKSB7XG4gICAgICAgIGVycm9ycyA9IG1zZy5lcnJvcnM7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFN1cHBvcnQgcGxhaW4gb2xkIG9iamVjdHNcbiAgICBlbHNlIGlmICgodHlwZW9mIG1zZyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YobXNnKSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBtc2cubWVzc2FnZSB8fCAnRXJyb3InO1xuICAgICAgICBkYXRhID0gbXNnO1xuICAgICAgfVxuICAgICAgLy8gbWVzc2FnZSBpcyBqdXN0IGEgc3RyaW5nXG4gICAgICBlbHNlIHtcbiAgICAgICAgICBtZXNzYWdlID0gbXNnO1xuICAgICAgICB9XG5cbiAgICBpZiAoZGF0YSkge1xuICAgICAgLy8gTk9URShFSyk6IFRvIG1ha2Ugc3VyZSB0aGF0IHdlIGFyZSBub3QgbWVzc2luZ1xuICAgICAgLy8gd2l0aCBpbW11dGFibGUgZGF0YSwganVzdCBtYWtlIGEgY29weS5cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mZWF0aGVyc2pzL2ZlYXRoZXJzLWVycm9ycy9pc3N1ZXMvMTlcbiAgICAgIG5ld0RhdGEgPSBfZXh0ZW5kcyh7fSwgZGF0YSk7XG5cbiAgICAgIGlmIChuZXdEYXRhLmVycm9ycykge1xuICAgICAgICBlcnJvcnMgPSBuZXdEYXRhLmVycm9ycztcbiAgICAgICAgZGVsZXRlIG5ld0RhdGEuZXJyb3JzO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5PVEUgKEVLKTogQmFiZWwgZG9lc24ndCBzdXBwb3J0IHRoaXMgc29cbiAgICAvLyB3ZSBoYXZlIHRvIHBhc3MgaW4gdGhlIGNsYXNzIG5hbWUgbWFudWFsbHkuXG4gICAgLy8gdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKEZlYXRoZXJzRXJyb3IpLmNhbGwodGhpcywgbWVzc2FnZSkpO1xuXG4gICAgX3RoaXMudHlwZSA9ICdGZWF0aGVyc0Vycm9yJztcbiAgICBfdGhpcy5uYW1lID0gbmFtZTtcbiAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICBfdGhpcy5jb2RlID0gY29kZTtcbiAgICBfdGhpcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgX3RoaXMuZGF0YSA9IG5ld0RhdGE7XG4gICAgX3RoaXMuZXJyb3JzID0gZXJyb3JzIHx8IHt9O1xuXG4gICAgZGVidWcoX3RoaXMubmFtZSArICcoJyArIF90aGlzLmNvZGUgKyAnKTogJyArIF90aGlzLm1lc3NhZ2UpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8vIE5PVEUgKEVLKTogQSBsaXR0bGUgaGFjayB0byBnZXQgYXJvdW5kIGBtZXNzYWdlYCBub3RcbiAgLy8gYmVpbmcgaW5jbHVkZWQgaW4gdGhlIGRlZmF1bHQgdG9KU09OIGNhbGwuXG5cblxuICBfY3JlYXRlQ2xhc3MoRmVhdGhlcnNFcnJvciwgW3tcbiAgICBrZXk6ICd0b0pTT04nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgY29kZTogdGhpcy5jb2RlLFxuICAgICAgICBjbGFzc05hbWU6IHRoaXMuY2xhc3NOYW1lLFxuICAgICAgICBkYXRhOiB0aGlzLmRhdGEsXG4gICAgICAgIGVycm9yczogdGhpcy5lcnJvcnNcbiAgICAgIH07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZlYXRoZXJzRXJyb3I7XG59KF9leHRlbmRhYmxlQnVpbHRpbihFcnJvcikpO1xuXG52YXIgQmFkUmVxdWVzdCA9IGZ1bmN0aW9uIChfRmVhdGhlcnNFcnJvcikge1xuICBfaW5oZXJpdHMoQmFkUmVxdWVzdCwgX0ZlYXRoZXJzRXJyb3IpO1xuXG4gIGZ1bmN0aW9uIEJhZFJlcXVlc3QobWVzc2FnZSwgZGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYWRSZXF1ZXN0KTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmFkUmVxdWVzdCkuY2FsbCh0aGlzLCBtZXNzYWdlLCAnQmFkUmVxdWVzdCcsIDQwMCwgJ2JhZC1yZXF1ZXN0JywgZGF0YSkpO1xuICB9XG5cbiAgcmV0dXJuIEJhZFJlcXVlc3Q7XG59KEZlYXRoZXJzRXJyb3IpO1xuXG52YXIgTm90QXV0aGVudGljYXRlZCA9IGZ1bmN0aW9uIChfRmVhdGhlcnNFcnJvcjIpIHtcbiAgX2luaGVyaXRzKE5vdEF1dGhlbnRpY2F0ZWQsIF9GZWF0aGVyc0Vycm9yMik7XG5cbiAgZnVuY3Rpb24gTm90QXV0aGVudGljYXRlZChtZXNzYWdlLCBkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vdEF1dGhlbnRpY2F0ZWQpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihOb3RBdXRoZW50aWNhdGVkKS5jYWxsKHRoaXMsIG1lc3NhZ2UsICdOb3RBdXRoZW50aWNhdGVkJywgNDAxLCAnbm90LWF1dGhlbnRpY2F0ZWQnLCBkYXRhKSk7XG4gIH1cblxuICByZXR1cm4gTm90QXV0aGVudGljYXRlZDtcbn0oRmVhdGhlcnNFcnJvcik7XG5cbnZhciBQYXltZW50RXJyb3IgPSBmdW5jdGlvbiAoX0ZlYXRoZXJzRXJyb3IzKSB7XG4gIF9pbmhlcml0cyhQYXltZW50RXJyb3IsIF9GZWF0aGVyc0Vycm9yMyk7XG5cbiAgZnVuY3Rpb24gUGF5bWVudEVycm9yKG1lc3NhZ2UsIGRhdGEpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGF5bWVudEVycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUGF5bWVudEVycm9yKS5jYWxsKHRoaXMsIG1lc3NhZ2UsICdQYXltZW50RXJyb3InLCA0MDIsICdwYXltZW50LWVycm9yJywgZGF0YSkpO1xuICB9XG5cbiAgcmV0dXJuIFBheW1lbnRFcnJvcjtcbn0oRmVhdGhlcnNFcnJvcik7XG5cbnZhciBGb3JiaWRkZW4gPSBmdW5jdGlvbiAoX0ZlYXRoZXJzRXJyb3I0KSB7XG4gIF9pbmhlcml0cyhGb3JiaWRkZW4sIF9GZWF0aGVyc0Vycm9yNCk7XG5cbiAgZnVuY3Rpb24gRm9yYmlkZGVuKG1lc3NhZ2UsIGRhdGEpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9yYmlkZGVuKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRm9yYmlkZGVuKS5jYWxsKHRoaXMsIG1lc3NhZ2UsICdGb3JiaWRkZW4nLCA0MDMsICdmb3JiaWRkZW4nLCBkYXRhKSk7XG4gIH1cblxuICByZXR1cm4gRm9yYmlkZGVuO1xufShGZWF0aGVyc0Vycm9yKTtcblxudmFyIE5vdEZvdW5kID0gZnVuY3Rpb24gKF9GZWF0aGVyc0Vycm9yNSkge1xuICBfaW5oZXJpdHMoTm90Rm91bmQsIF9GZWF0aGVyc0Vycm9yNSk7XG5cbiAgZnVuY3Rpb24gTm90Rm91bmQobWVzc2FnZSwgZGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb3RGb3VuZCk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKE5vdEZvdW5kKS5jYWxsKHRoaXMsIG1lc3NhZ2UsICdOb3RGb3VuZCcsIDQwNCwgJ25vdC1mb3VuZCcsIGRhdGEpKTtcbiAgfVxuXG4gIHJldHVybiBOb3RGb3VuZDtcbn0oRmVhdGhlcnNFcnJvcik7XG5cbnZhciBNZXRob2ROb3RBbGxvd2VkID0gZnVuY3Rpb24gKF9GZWF0aGVyc0Vycm9yNikge1xuICBfaW5oZXJpdHMoTWV0aG9kTm90QWxsb3dlZCwgX0ZlYXRoZXJzRXJyb3I2KTtcblxuICBmdW5jdGlvbiBNZXRob2ROb3RBbGxvd2VkKG1lc3NhZ2UsIGRhdGEpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWV0aG9kTm90QWxsb3dlZCk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1ldGhvZE5vdEFsbG93ZWQpLmNhbGwodGhpcywgbWVzc2FnZSwgJ01ldGhvZE5vdEFsbG93ZWQnLCA0MDUsICdtZXRob2Qtbm90LWFsbG93ZWQnLCBkYXRhKSk7XG4gIH1cblxuICByZXR1cm4gTWV0aG9kTm90QWxsb3dlZDtcbn0oRmVhdGhlcnNFcnJvcik7XG5cbnZhciBOb3RBY2NlcHRhYmxlID0gZnVuY3Rpb24gKF9GZWF0aGVyc0Vycm9yNykge1xuICBfaW5oZXJpdHMoTm90QWNjZXB0YWJsZSwgX0ZlYXRoZXJzRXJyb3I3KTtcblxuICBmdW5jdGlvbiBOb3RBY2NlcHRhYmxlKG1lc3NhZ2UsIGRhdGEpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm90QWNjZXB0YWJsZSk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKE5vdEFjY2VwdGFibGUpLmNhbGwodGhpcywgbWVzc2FnZSwgJ05vdEFjY2VwdGFibGUnLCA0MDYsICdub3QtYWNjZXB0YWJsZScsIGRhdGEpKTtcbiAgfVxuXG4gIHJldHVybiBOb3RBY2NlcHRhYmxlO1xufShGZWF0aGVyc0Vycm9yKTtcblxudmFyIFRpbWVvdXQgPSBmdW5jdGlvbiAoX0ZlYXRoZXJzRXJyb3I4KSB7XG4gIF9pbmhlcml0cyhUaW1lb3V0LCBfRmVhdGhlcnNFcnJvcjgpO1xuXG4gIGZ1bmN0aW9uIFRpbWVvdXQobWVzc2FnZSwgZGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaW1lb3V0KTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGltZW91dCkuY2FsbCh0aGlzLCBtZXNzYWdlLCAnVGltZW91dCcsIDQwOCwgJ3RpbWVvdXQnLCBkYXRhKSk7XG4gIH1cblxuICByZXR1cm4gVGltZW91dDtcbn0oRmVhdGhlcnNFcnJvcik7XG5cbnZhciBDb25mbGljdCA9IGZ1bmN0aW9uIChfRmVhdGhlcnNFcnJvcjkpIHtcbiAgX2luaGVyaXRzKENvbmZsaWN0LCBfRmVhdGhlcnNFcnJvcjkpO1xuXG4gIGZ1bmN0aW9uIENvbmZsaWN0KG1lc3NhZ2UsIGRhdGEpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29uZmxpY3QpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihDb25mbGljdCkuY2FsbCh0aGlzLCBtZXNzYWdlLCAnQ29uZmxpY3QnLCA0MDksICdjb25mbGljdCcsIGRhdGEpKTtcbiAgfVxuXG4gIHJldHVybiBDb25mbGljdDtcbn0oRmVhdGhlcnNFcnJvcik7XG5cbnZhciBVbnByb2Nlc3NhYmxlID0gZnVuY3Rpb24gKF9GZWF0aGVyc0Vycm9yMTApIHtcbiAgX2luaGVyaXRzKFVucHJvY2Vzc2FibGUsIF9GZWF0aGVyc0Vycm9yMTApO1xuXG4gIGZ1bmN0aW9uIFVucHJvY2Vzc2FibGUobWVzc2FnZSwgZGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVbnByb2Nlc3NhYmxlKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVW5wcm9jZXNzYWJsZSkuY2FsbCh0aGlzLCBtZXNzYWdlLCAnVW5wcm9jZXNzYWJsZScsIDQyMiwgJ3VucHJvY2Vzc2FibGUnLCBkYXRhKSk7XG4gIH1cblxuICByZXR1cm4gVW5wcm9jZXNzYWJsZTtcbn0oRmVhdGhlcnNFcnJvcik7XG5cbnZhciBHZW5lcmFsRXJyb3IgPSBmdW5jdGlvbiAoX0ZlYXRoZXJzRXJyb3IxMSkge1xuICBfaW5oZXJpdHMoR2VuZXJhbEVycm9yLCBfRmVhdGhlcnNFcnJvcjExKTtcblxuICBmdW5jdGlvbiBHZW5lcmFsRXJyb3IobWVzc2FnZSwgZGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHZW5lcmFsRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihHZW5lcmFsRXJyb3IpLmNhbGwodGhpcywgbWVzc2FnZSwgJ0dlbmVyYWxFcnJvcicsIDUwMCwgJ2dlbmVyYWwtZXJyb3InLCBkYXRhKSk7XG4gIH1cblxuICByZXR1cm4gR2VuZXJhbEVycm9yO1xufShGZWF0aGVyc0Vycm9yKTtcblxudmFyIE5vdEltcGxlbWVudGVkID0gZnVuY3Rpb24gKF9GZWF0aGVyc0Vycm9yMTIpIHtcbiAgX2luaGVyaXRzKE5vdEltcGxlbWVudGVkLCBfRmVhdGhlcnNFcnJvcjEyKTtcblxuICBmdW5jdGlvbiBOb3RJbXBsZW1lbnRlZChtZXNzYWdlLCBkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vdEltcGxlbWVudGVkKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTm90SW1wbGVtZW50ZWQpLmNhbGwodGhpcywgbWVzc2FnZSwgJ05vdEltcGxlbWVudGVkJywgNTAxLCAnbm90LWltcGxlbWVudGVkJywgZGF0YSkpO1xuICB9XG5cbiAgcmV0dXJuIE5vdEltcGxlbWVudGVkO1xufShGZWF0aGVyc0Vycm9yKTtcblxudmFyIFVuYXZhaWxhYmxlID0gZnVuY3Rpb24gKF9GZWF0aGVyc0Vycm9yMTMpIHtcbiAgX2luaGVyaXRzKFVuYXZhaWxhYmxlLCBfRmVhdGhlcnNFcnJvcjEzKTtcblxuICBmdW5jdGlvbiBVbmF2YWlsYWJsZShtZXNzYWdlLCBkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFVuYXZhaWxhYmxlKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVW5hdmFpbGFibGUpLmNhbGwodGhpcywgbWVzc2FnZSwgJ1VuYXZhaWxhYmxlJywgNTAzLCAndW5hdmFpbGFibGUnLCBkYXRhKSk7XG4gIH1cblxuICByZXR1cm4gVW5hdmFpbGFibGU7XG59KEZlYXRoZXJzRXJyb3IpO1xuXG52YXIgZXJyb3JzID0ge1xuICBGZWF0aGVyc0Vycm9yOiBGZWF0aGVyc0Vycm9yLFxuICBCYWRSZXF1ZXN0OiBCYWRSZXF1ZXN0LFxuICBOb3RBdXRoZW50aWNhdGVkOiBOb3RBdXRoZW50aWNhdGVkLFxuICBQYXltZW50RXJyb3I6IFBheW1lbnRFcnJvcixcbiAgRm9yYmlkZGVuOiBGb3JiaWRkZW4sXG4gIE5vdEZvdW5kOiBOb3RGb3VuZCxcbiAgTWV0aG9kTm90QWxsb3dlZDogTWV0aG9kTm90QWxsb3dlZCxcbiAgTm90QWNjZXB0YWJsZTogTm90QWNjZXB0YWJsZSxcbiAgVGltZW91dDogVGltZW91dCxcbiAgQ29uZmxpY3Q6IENvbmZsaWN0LFxuICBVbnByb2Nlc3NhYmxlOiBVbnByb2Nlc3NhYmxlLFxuICBHZW5lcmFsRXJyb3I6IEdlbmVyYWxFcnJvcixcbiAgTm90SW1wbGVtZW50ZWQ6IE5vdEltcGxlbWVudGVkLFxuICBVbmF2YWlsYWJsZTogVW5hdmFpbGFibGUsXG4gIDQwMDogQmFkUmVxdWVzdCxcbiAgNDAxOiBOb3RBdXRoZW50aWNhdGVkLFxuICA0MDI6IFBheW1lbnRFcnJvcixcbiAgNDAzOiBGb3JiaWRkZW4sXG4gIDQwNDogTm90Rm91bmQsXG4gIDQwNTogTWV0aG9kTm90QWxsb3dlZCxcbiAgNDA2OiBOb3RBY2NlcHRhYmxlLFxuICA0MDg6IFRpbWVvdXQsXG4gIDQwOTogQ29uZmxpY3QsXG4gIDQyMjogVW5wcm9jZXNzYWJsZSxcbiAgNTAwOiBHZW5lcmFsRXJyb3IsXG4gIDUwMTogTm90SW1wbGVtZW50ZWQsXG4gIDUwMzogVW5hdmFpbGFibGVcbn07XG5cbmZ1bmN0aW9uIGNvbnZlcnQoZXJyb3IpIHtcbiAgaWYgKCFlcnJvcikge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIHZhciBGZWF0aGVyc0Vycm9yID0gZXJyb3JzW2Vycm9yLm5hbWVdO1xuICB2YXIgcmVzdWx0ID0gRmVhdGhlcnNFcnJvciA/IG5ldyBGZWF0aGVyc0Vycm9yKGVycm9yLm1lc3NhZ2UsIGVycm9yLmRhdGEpIDogbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UgfHwgZXJyb3IpO1xuXG4gIGlmICgodHlwZW9mIGVycm9yID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihlcnJvcikpID09PSAnb2JqZWN0Jykge1xuICAgIF9leHRlbmRzKHJlc3VsdCwgZXJyb3IpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gX2V4dGVuZHMoe1xuICBjb252ZXJ0OiBjb252ZXJ0LFxuICB0eXBlczogZXJyb3JzLFxuICBlcnJvcnM6IGVycm9yc1xufSwgZXJyb3JzKTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHMubG93ZXJDYXNlID0gbG93ZXJDYXNlO1xuZXhwb3J0cy5yZW1vdmVRdWVyeSA9IHJlbW92ZVF1ZXJ5O1xuZXhwb3J0cy5wbHVja1F1ZXJ5ID0gcGx1Y2tRdWVyeTtcbmV4cG9ydHMucmVtb3ZlID0gcmVtb3ZlO1xuZXhwb3J0cy5wbHVjayA9IHBsdWNrO1xuZXhwb3J0cy5kaXNhYmxlID0gZGlzYWJsZTtcbmV4cG9ydHMucG9wdWxhdGUgPSBwb3B1bGF0ZTtcbnZhciBlcnJvcnMgPSByZXF1aXJlKCdmZWF0aGVycy1lcnJvcnMnKS5lcnJvcnM7XG5cbmZ1bmN0aW9uIGxvd2VyQ2FzZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZpZWxkcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGZpZWxkc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciBsb3dlckNhc2VGaWVsZHMgPSBmdW5jdGlvbiBsb3dlckNhc2VGaWVsZHMoZGF0YSkge1xuICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZmllbGRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICB2YXIgZmllbGQgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICBpZiAoZGF0YVtmaWVsZF0pIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbZmllbGRdICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9ycy5CYWRSZXF1ZXN0KCdFeHBlY3RlZCBzdHJpbmcnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0YVtmaWVsZF0gPSBkYXRhW2ZpZWxkXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgY2FsbGJhY2sgPSB0eXBlb2YgZmllbGRzW2ZpZWxkcy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJyA/IGZpZWxkcy5wb3AoKSA6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24gKGhvb2spIHtcbiAgICB2YXIgcmVzdWx0ID0gaG9vay50eXBlID09PSAnYmVmb3JlJyA/IGhvb2suZGF0YSA6IGhvb2sucmVzdWx0O1xuICAgIHZhciBuZXh0ID0gZnVuY3Rpb24gbmV4dChjb25kaXRpb24pIHtcbiAgICAgIGlmIChyZXN1bHQgJiYgY29uZGl0aW9uKSB7XG4gICAgICAgIGlmIChob29rLm1ldGhvZCA9PT0gJ2ZpbmQnIHx8IEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xuICAgICAgICAgIC8vIGRhdGEuZGF0YSBpZiB0aGUgZmluZCBtZXRob2QgaXMgcGFnaW5hdGVkXG4gICAgICAgICAgKHJlc3VsdC5kYXRhIHx8IHJlc3VsdCkuZm9yRWFjaChsb3dlckNhc2VGaWVsZHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvd2VyQ2FzZUZpZWxkcyhyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaG9vaztcbiAgICB9O1xuXG4gICAgdmFyIGNoZWNrID0gY2FsbGJhY2soaG9vayk7XG5cbiAgICByZXR1cm4gY2hlY2sgJiYgdHlwZW9mIGNoZWNrLnRoZW4gPT09ICdmdW5jdGlvbicgPyBjaGVjay50aGVuKG5leHQpIDogbmV4dChjaGVjayk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVF1ZXJ5KCkge1xuICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZpZWxkcyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgZmllbGRzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gIH1cblxuICB2YXIgcmVtb3ZlUXVlcmllcyA9IGZ1bmN0aW9uIHJlbW92ZVF1ZXJpZXMoZGF0YSkge1xuICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IGZpZWxkc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICB2YXIgZmllbGQgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgZGF0YVtmaWVsZF0gPSB1bmRlZmluZWQ7XG4gICAgICAgIGRlbGV0ZSBkYXRhW2ZpZWxkXTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBjYWxsYmFjayA9IHR5cGVvZiBmaWVsZHNbZmllbGRzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nID8gZmllbGRzLnBvcCgpIDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIHJldHVybiBmdW5jdGlvbiAoaG9vaykge1xuICAgIGlmIChob29rLnR5cGUgPT09ICdhZnRlcicpIHtcbiAgICAgIHRocm93IG5ldyBlcnJvcnMuR2VuZXJhbEVycm9yKCdQcm92aWRlciBcXCcnICsgaG9vay5wYXJhbXMucHJvdmlkZXIgKyAnXFwnIGNhbiBub3QgcmVtb3ZlIHF1ZXJ5IHBhcmFtcyBvbiBhZnRlciBob29rLicpO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gaG9vay5wYXJhbXMucXVlcnk7XG4gICAgdmFyIG5leHQgPSBmdW5jdGlvbiBuZXh0KGNvbmRpdGlvbikge1xuICAgICAgaWYgKHJlc3VsdCAmJiBjb25kaXRpb24pIHtcbiAgICAgICAgcmVtb3ZlUXVlcmllcyhyZXN1bHQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhvb2s7XG4gICAgfTtcblxuICAgIHZhciBjaGVjayA9IGNhbGxiYWNrKGhvb2spO1xuXG4gICAgcmV0dXJuIGNoZWNrICYmIHR5cGVvZiBjaGVjay50aGVuID09PSAnZnVuY3Rpb24nID8gY2hlY2sudGhlbihuZXh0KSA6IG5leHQoY2hlY2spO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwbHVja1F1ZXJ5KCkge1xuICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGZpZWxkcyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgZmllbGRzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gIH1cblxuICB2YXIgcGx1Y2tRdWVyaWVzID0gZnVuY3Rpb24gcGx1Y2tRdWVyaWVzKGRhdGEpIHtcbiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSBPYmplY3Qua2V5cyhkYXRhKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuICAgICAgICB2YXIga2V5ID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgIGlmIChmaWVsZHMuaW5kZXhPZihrZXkpID09PSAtMSkge1xuICAgICAgICAgIGRhdGFba2V5XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBkZWxldGUgZGF0YVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgY2FsbGJhY2sgPSB0eXBlb2YgZmllbGRzW2ZpZWxkcy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJyA/IGZpZWxkcy5wb3AoKSA6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24gKGhvb2spIHtcbiAgICBpZiAoaG9vay50eXBlID09PSAnYWZ0ZXInKSB7XG4gICAgICB0aHJvdyBuZXcgZXJyb3JzLkdlbmVyYWxFcnJvcignUHJvdmlkZXIgXFwnJyArIGhvb2sucGFyYW1zLnByb3ZpZGVyICsgJ1xcJyBjYW4gbm90IHBsdWNrIHF1ZXJ5IHBhcmFtcyBvbiBhZnRlciBob29rLicpO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gaG9vay5wYXJhbXMucXVlcnk7XG4gICAgdmFyIG5leHQgPSBmdW5jdGlvbiBuZXh0KGNvbmRpdGlvbikge1xuICAgICAgaWYgKHJlc3VsdCAmJiBjb25kaXRpb24pIHtcbiAgICAgICAgcGx1Y2tRdWVyaWVzKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaG9vaztcbiAgICB9O1xuXG4gICAgdmFyIGNoZWNrID0gY2FsbGJhY2soaG9vayk7XG5cbiAgICByZXR1cm4gY2hlY2sgJiYgdHlwZW9mIGNoZWNrLnRoZW4gPT09ICdmdW5jdGlvbicgPyBjaGVjay50aGVuKG5leHQpIDogbmV4dChjaGVjayk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUZpZWxkKG9iaiwgZmllbGQpIHtcbiAgdmFyIG5lc3RlZEZpZWxkcyA9IGZpZWxkLnNwbGl0KCcuJyk7XG4gIHZhciBsYXN0RmllbGQgPSBuZXN0ZWRGaWVsZHNbbmVzdGVkRmllbGRzLmxlbmd0aCAtIDFdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBvYmogJiYgaSA8IG5lc3RlZEZpZWxkcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBvYmogPSBvYmpbbmVzdGVkRmllbGRzW2ldXTtcbiAgfVxuICBpZiAob2JqKSB7XG4gICAgb2JqW2xhc3RGaWVsZF0gPSB1bmRlZmluZWQ7XG4gICAgZGVsZXRlIG9ialtsYXN0RmllbGRdO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBmaWVsZHMgPSBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgIGZpZWxkc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICB9XG5cbiAgdmFyIHJlbW92ZUZpZWxkcyA9IGZ1bmN0aW9uIHJlbW92ZUZpZWxkcyhkYXRhKSB7XG4gICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTtcbiAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gZmFsc2U7XG4gICAgdmFyIF9pdGVyYXRvckVycm9yNCA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gZmllbGRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA0OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gKF9zdGVwNCA9IF9pdGVyYXRvcjQubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlKSB7XG4gICAgICAgIHZhciBmaWVsZCA9IF9zdGVwNC52YWx1ZTtcblxuICAgICAgICByZW1vdmVGaWVsZChkYXRhLCBmaWVsZCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuICAgICAgX2l0ZXJhdG9yRXJyb3I0ID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ICYmIF9pdGVyYXRvcjQucmV0dXJuKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yNC5yZXR1cm4oKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xuICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgY2FsbGJhY2sgPSB0eXBlb2YgZmllbGRzW2ZpZWxkcy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJyA/IGZpZWxkcy5wb3AoKSA6IGZ1bmN0aW9uIChob29rKSB7XG4gICAgcmV0dXJuICEhaG9vay5wYXJhbXMucHJvdmlkZXI7XG4gIH07XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChob29rKSB7XG4gICAgdmFyIHJlc3VsdCA9IGhvb2sudHlwZSA9PT0gJ2JlZm9yZScgPyBob29rLmRhdGEgOiBob29rLnJlc3VsdDtcblxuICAgIC8vIENvbnZlcnQgTW9uZ29vc2Ugb3IgU2VxdWVsaXplIG9iamVjdCBpbnRvIHBsYWluIEphdmFTY3JpcHQgb2JqZWN0XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xuICAgICAgcmVzdWx0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4LCByZXN1bHQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50LnRvT2JqZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGVsZW1lbnQudG9PYmplY3QoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZWxlbWVudC50b0pTT04gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXN1bHRbaW5kZXhdID0gZWxlbWVudC50b0pTT04oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgcmVzdWx0LnRvT2JqZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC50b09iamVjdCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmVzdWx0LnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudG9KU09OKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG5leHQgPSBmdW5jdGlvbiBuZXh0KGNvbmRpdGlvbikge1xuICAgICAgaWYgKHJlc3VsdCAmJiBjb25kaXRpb24pIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xuICAgICAgICAgIHJlc3VsdC5mb3JFYWNoKHJlbW92ZUZpZWxkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVtb3ZlRmllbGRzKHJlc3VsdCk7XG5cbiAgICAgICAgICBpZiAocmVzdWx0LmRhdGEpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdC5kYXRhKSkge1xuICAgICAgICAgICAgICByZXN1bHQuZGF0YS5mb3JFYWNoKHJlbW92ZUZpZWxkcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZW1vdmVGaWVsZHMocmVzdWx0LmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaG9vay50eXBlID09PSAnYmVmb3JlJykge1xuICAgICAgICBob29rLmRhdGEgPSByZXN1bHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBob29rLnJlc3VsdCA9IHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhvb2s7XG4gICAgfTtcblxuICAgIHZhciBjaGVjayA9IGNhbGxiYWNrKGhvb2spO1xuXG4gICAgcmV0dXJuIGNoZWNrICYmIHR5cGVvZiBjaGVjay50aGVuID09PSAnZnVuY3Rpb24nID8gY2hlY2sudGhlbihuZXh0KSA6IG5leHQoY2hlY2spO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwbHVjaygpIHtcbiAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBmaWVsZHMgPSBBcnJheShfbGVuNSksIF9rZXk1ID0gMDsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykge1xuICAgIGZpZWxkc1tfa2V5NV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICB9XG5cbiAgdmFyIHBsdWNrRmllbGRzID0gZnVuY3Rpb24gcGx1Y2tGaWVsZHMoZGF0YSkge1xuICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWU7XG4gICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNSA9IGZhbHNlO1xuICAgIHZhciBfaXRlcmF0b3JFcnJvcjUgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNSA9IE9iamVjdC5rZXlzKGRhdGEpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA1OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gKF9zdGVwNSA9IF9pdGVyYXRvcjUubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlKSB7XG4gICAgICAgIHZhciBrZXkgPSBfc3RlcDUudmFsdWU7XG5cbiAgICAgICAgaWYgKGZpZWxkcy5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICAgICAgZGF0YVtrZXldID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGRlbGV0ZSBkYXRhW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kaWRJdGVyYXRvckVycm9yNSA9IHRydWU7XG4gICAgICBfaXRlcmF0b3JFcnJvcjUgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgJiYgX2l0ZXJhdG9yNS5yZXR1cm4pIHtcbiAgICAgICAgICBfaXRlcmF0b3I1LnJldHVybigpO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I1KSB7XG4gICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I1O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBjYWxsYmFjayA9IHR5cGVvZiBmaWVsZHNbZmllbGRzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nID8gZmllbGRzLnBvcCgpIDogZnVuY3Rpb24gKGhvb2spIHtcbiAgICByZXR1cm4gISFob29rLnBhcmFtcy5wcm92aWRlcjtcbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24gKGhvb2spIHtcbiAgICB2YXIgcmVzdWx0ID0gaG9vay50eXBlID09PSAnYmVmb3JlJyA/IGhvb2suZGF0YSA6IGhvb2sucmVzdWx0O1xuICAgIHZhciBuZXh0ID0gZnVuY3Rpb24gbmV4dChjb25kaXRpb24pIHtcbiAgICAgIGlmIChyZXN1bHQgJiYgY29uZGl0aW9uKSB7XG4gICAgICAgIGlmIChob29rLm1ldGhvZCA9PT0gJ2ZpbmQnIHx8IEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xuICAgICAgICAgIC8vIGRhdGEuZGF0YSBpZiB0aGUgZmluZCBtZXRob2QgaXMgcGFnaW5hdGVkXG4gICAgICAgICAgKHJlc3VsdC5kYXRhIHx8IHJlc3VsdCkuZm9yRWFjaChwbHVja0ZpZWxkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGx1Y2tGaWVsZHMocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGhvb2s7XG4gICAgfTtcblxuICAgIHZhciBjaGVjayA9IGNhbGxiYWNrKGhvb2spO1xuXG4gICAgcmV0dXJuIGNoZWNrICYmIHR5cGVvZiBjaGVjay50aGVuID09PSAnZnVuY3Rpb24nID8gY2hlY2sudGhlbihuZXh0KSA6IG5leHQoY2hlY2spO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkaXNhYmxlKHJlYWxtKSB7XG4gIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzO1xuXG4gIGlmICghcmVhbG0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGhvb2spIHtcbiAgICAgIHRocm93IG5ldyBlcnJvcnMuTWV0aG9kTm90QWxsb3dlZCgnQ2FsbGluZyBcXCcnICsgaG9vay5tZXRob2QgKyAnXFwnIG5vdCBhbGxvd2VkLicpO1xuICAgIH07XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJlYWxtID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChob29rKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gcmVhbG0oaG9vayk7XG4gICAgICB2YXIgbmV4dCA9IGZ1bmN0aW9uIG5leHQoY2hlY2spIHtcbiAgICAgICAgaWYgKCFjaGVjaykge1xuICAgICAgICAgIHRocm93IG5ldyBlcnJvcnMuTWV0aG9kTm90QWxsb3dlZCgnQ2FsbGluZyBcXCcnICsgaG9vay5tZXRob2QgKyAnXFwnIG5vdCBhbGxvd2VkLicpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4obmV4dCk7XG4gICAgICB9XG5cbiAgICAgIG5leHQocmVzdWx0KTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHZhciBfbGVuNiwgYXJncywgX2tleTY7XG5cbiAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAoX2xlbjYgPSBfYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW42ID4gMSA/IF9sZW42IC0gMSA6IDApLCBfa2V5NiA9IDE7IF9rZXk2IDwgX2xlbjY7IF9rZXk2KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NiAtIDFdID0gX2FyZ3VtZW50c1tfa2V5Nl07XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm92aWRlcnMgPSBbcmVhbG1dLmNvbmNhdChhcmdzKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdjogZnVuY3Rpb24gdihob29rKSB7XG4gICAgICAgICAgdmFyIHByb3ZpZGVyID0gaG9vay5wYXJhbXMucHJvdmlkZXI7XG5cbiAgICAgICAgICBpZiAocmVhbG0gPT09ICdleHRlcm5hbCcgJiYgcHJvdmlkZXIgfHwgcHJvdmlkZXJzLmluZGV4T2YocHJvdmlkZXIpICE9PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9ycy5NZXRob2ROb3RBbGxvd2VkKCdQcm92aWRlciBcXCcnICsgaG9vay5wYXJhbXMucHJvdmlkZXIgKyAnXFwnIGNhbiBub3QgY2FsbCBcXCcnICsgaG9vay5tZXRob2QgKyAnXFwnJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0oKTtcblxuICAgIGlmICgodHlwZW9mIF9yZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKF9yZXQpKSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb3B1bGF0ZSh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuXG4gIGlmICghb3B0aW9ucy5zZXJ2aWNlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbmVlZCB0byBwcm92aWRlIGEgc2VydmljZScpO1xuICB9XG5cbiAgdmFyIGZpZWxkID0gb3B0aW9ucy5maWVsZCB8fCB0YXJnZXQ7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChob29rKSB7XG4gICAgZnVuY3Rpb24gcG9wdWxhdGUoaXRlbSkge1xuICAgICAgaWYgKCFpdGVtW2ZpZWxkXSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGl0ZW0pO1xuICAgICAgfVxuXG4gICAgICAvLyBGaW5kIGJ5IHRoZSBmaWVsZCB2YWx1ZSBieSBkZWZhdWx0IG9yIGEgY3VzdG9tIHF1ZXJ5XG4gICAgICB2YXIgaWQgPSBpdGVtW2ZpZWxkXTtcblxuICAgICAgLy8gSWYgaXQncyBhIG1vbmdvb3NlIG1vZGVsIHRoZW5cbiAgICAgIGlmICh0eXBlb2YgaXRlbS50b09iamVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpdGVtID0gaXRlbS50b09iamVjdChvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIC8vIElmIGl0J3MgYSBTZXF1ZWxpemUgbW9kZWxcbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBpdGVtLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGl0ZW0gPSBpdGVtLnRvSlNPTihvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgLy8gUmVtb3ZlIGFueSBxdWVyeSBmcm9tIHBhcmFtcyBhcyBpdCdzIG5vdCByZWxhdGVkXG4gICAgICB2YXIgcGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyYW1zLCB7IHF1ZXJ5OiB1bmRlZmluZWQgfSk7XG4gICAgICAvLyBJZiB0aGUgcmVsYXRpb25zaGlwIGlzIGFuIGFycmF5IG9mIGlkcywgZmV0Y2ggYW5kIHJlc29sdmUgYW4gb2JqZWN0IGZvciBlYWNoLCBvdGhlcndpc2UganVzdCBmZXRjaCB0aGUgb2JqZWN0LlxuICAgICAgdmFyIHByb21pc2UgPSBBcnJheS5pc0FycmF5KGlkKSA/IFByb21pc2UuYWxsKGlkLm1hcChmdW5jdGlvbiAob2JqZWN0SUQpIHtcbiAgICAgICAgcmV0dXJuIGhvb2suYXBwLnNlcnZpY2Uob3B0aW9ucy5zZXJ2aWNlKS5nZXQob2JqZWN0SUQsIHBhcmFtcyk7XG4gICAgICB9KSkgOiBob29rLmFwcC5zZXJ2aWNlKG9wdGlvbnMuc2VydmljZSkuZ2V0KGlkLCBwYXJhbXMpO1xuICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVsYXRlZEl0ZW0pIHtcbiAgICAgICAgaWYgKHJlbGF0ZWRJdGVtKSB7XG4gICAgICAgICAgaXRlbVt0YXJnZXRdID0gcmVsYXRlZEl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoaG9vay50eXBlID09PSAnYWZ0ZXInKSB7XG4gICAgICB2YXIgX3JldDIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpc1BhZ2luYXRlZCA9IGhvb2subWV0aG9kID09PSAnZmluZCcgJiYgaG9vay5yZXN1bHQuZGF0YTtcbiAgICAgICAgdmFyIGRhdGEgPSBpc1BhZ2luYXRlZCA/IGhvb2sucmVzdWx0LmRhdGEgOiBob29rLnJlc3VsdDtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2OiBQcm9taXNlLmFsbChkYXRhLm1hcChwb3B1bGF0ZSkpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgaWYgKGlzUGFnaW5hdGVkKSB7XG4gICAgICAgICAgICAgICAgaG9vay5yZXN1bHQuZGF0YSA9IHJlc3VsdHM7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9vay5yZXN1bHQgPSByZXN1bHRzO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIGhvb2s7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgc2luZ2xlIG9iamVjdHMuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdjogcG9wdWxhdGUoaG9vay5yZXN1bHQpLnRoZW4oZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGhvb2sucmVzdWx0ID0gaXRlbTtcbiAgICAgICAgICAgIHJldHVybiBob29rO1xuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9KCk7XG5cbiAgICAgIGlmICgodHlwZW9mIF9yZXQyID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihfcmV0MikpID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldDIudjtcbiAgICB9XG4gIH07XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5pc0hvb2tPYmplY3QgPSBpc0hvb2tPYmplY3Q7XG5leHBvcnRzLnByb2Nlc3NIb29rcyA9IHByb2Nlc3NIb29rcztcbmV4cG9ydHMuYWRkSG9va01ldGhvZCA9IGFkZEhvb2tNZXRob2Q7XG5cbnZhciBfZmVhdGhlcnNDb21tb25zID0gcmVxdWlyZSgnZmVhdGhlcnMtY29tbW9ucycpO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBpc0hvb2tPYmplY3QoaG9va09iamVjdCkge1xuICByZXR1cm4gKHR5cGVvZiBob29rT2JqZWN0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihob29rT2JqZWN0KSkgPT09ICdvYmplY3QnICYmIHR5cGVvZiBob29rT2JqZWN0Lm1ldGhvZCA9PT0gJ3N0cmluZycgJiYgKGhvb2tPYmplY3QudHlwZSA9PT0gJ2JlZm9yZScgfHwgaG9va09iamVjdC50eXBlID09PSAnYWZ0ZXInKTtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0hvb2tzKGhvb2tzLCBpbml0aWFsSG9va09iamVjdCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciBob29rT2JqZWN0ID0gaW5pdGlhbEhvb2tPYmplY3Q7XG4gIHZhciB1cGRhdGVDdXJyZW50SG9vayA9IGZ1bmN0aW9uIHVwZGF0ZUN1cnJlbnRIb29rKGN1cnJlbnQpIHtcbiAgICBpZiAoY3VycmVudCkge1xuICAgICAgaWYgKCFpc0hvb2tPYmplY3QoY3VycmVudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGhvb2tPYmplY3QudHlwZSArICcgaG9vayBmb3IgXFwnJyArIGhvb2tPYmplY3QubWV0aG9kICsgJ1xcJyBtZXRob2QgcmV0dXJuZWQgaW52YWxpZCBob29rIG9iamVjdCcpO1xuICAgICAgfVxuXG4gICAgICBob29rT2JqZWN0ID0gY3VycmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gaG9va09iamVjdDtcbiAgfTtcbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoaG9va09iamVjdCk7XG5cbiAgLy8gR28gdGhyb3VnaCBhbGwgaG9va3MgYW5kIGNoYWluIHRoZW0gaW50byBvdXIgcHJvbWlzZVxuICBob29rcy5mb3JFYWNoKGZ1bmN0aW9uIChmbikge1xuICAgIHZhciBob29rID0gZm4uYmluZChfdGhpcyk7XG5cbiAgICBpZiAoaG9vay5sZW5ndGggPT09IDIpIHtcbiAgICAgIC8vIGZ1bmN0aW9uKGhvb2ssIG5leHQpXG4gICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChob29rT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgaG9vayhob29rT2JqZWN0LCBmdW5jdGlvbiAoZXJyb3IsIHJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yID8gcmVqZWN0KGVycm9yKSA6IHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZnVuY3Rpb24oaG9vaylcbiAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oaG9vayk7XG4gICAgfVxuXG4gICAgLy8gVXNlIHRoZSByZXR1cm5lZCBob29rIG9iamVjdCBvciB0aGUgb2xkIG9uZVxuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4odXBkYXRlQ3VycmVudEhvb2spO1xuICB9KTtcblxuICByZXR1cm4gcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAvLyBBZGQgdGhlIGhvb2sgaW5mb3JtYXRpb24gdG8gYW55IGVycm9yc1xuICAgIGVycm9yLmhvb2sgPSBob29rT2JqZWN0O1xuICAgIHRocm93IGVycm9yO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkSG9va01ldGhvZChzZXJ2aWNlLCB0eXBlLCBtZXRob2RzKSB7XG4gIHZhciBwcm9wID0gJ19fJyArIHR5cGUgKyAnSG9va3MnO1xuXG4gIC8vIEluaXRpYWxpemUgcHJvcGVydGllcyB3aGVyZSBob29rIGZ1bmN0aW9ucyBhcmUgc3RvcmVkXG4gIHNlcnZpY2VbcHJvcF0gPSB7fTtcbiAgbWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICBpZiAodHlwZW9mIHNlcnZpY2VbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgc2VydmljZVtwcm9wXVttZXRob2RdID0gW107XG4gICAgfVxuICB9KTtcblxuICAvLyBtaXhpbiB0aGUgbWV0aG9kICguYmVmb3JlIG9yIC5hZnRlcilcbiAgc2VydmljZS5taXhpbihfZGVmaW5lUHJvcGVydHkoe30sIHR5cGUsIGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBob29rcyA9IF9mZWF0aGVyc0NvbW1vbnMuaG9va3MuY29udmVydEhvb2tEYXRhKG9iaik7XG5cbiAgICBtZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgaWYgKHR5cGVvZiBfdGhpczJbbWV0aG9kXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBteUhvb2tzID0gX3RoaXMyW3Byb3BdW21ldGhvZF07XG5cbiAgICAgIGlmIChob29rcy5hbGwpIHtcbiAgICAgICAgbXlIb29rcy5wdXNoLmFwcGx5KG15SG9va3MsIGhvb2tzLmFsbCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChob29rc1ttZXRob2RdKSB7XG4gICAgICAgIG15SG9va3MucHVzaC5hcHBseShteUhvb2tzLCBob29rc1ttZXRob2RdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9KSk7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2ZlYXRoZXJzQ29tbW9ucyA9IHJlcXVpcmUoJ2ZlYXRoZXJzLWNvbW1vbnMnKTtcblxudmFyIF9idW5kbGVkID0gcmVxdWlyZSgnLi9idW5kbGVkJyk7XG5cbnZhciBob29rcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9idW5kbGVkKTtcblxudmFyIF9jb21tb25zID0gcmVxdWlyZSgnLi9jb21tb25zJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBpc1Byb21pc2UocmVzdWx0KSB7XG4gIHJldHVybiB0eXBlb2YgcmVzdWx0ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcmVzdWx0LnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGhvb2tNaXhpbihzZXJ2aWNlKSB7XG4gIGlmICh0eXBlb2Ygc2VydmljZS5taXhpbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBhcHAgPSB0aGlzO1xuICB2YXIgbWV0aG9kcyA9IGFwcC5tZXRob2RzO1xuICB2YXIgb2xkQmVmb3JlID0gc2VydmljZS5iZWZvcmU7XG4gIHZhciBvbGRBZnRlciA9IHNlcnZpY2UuYWZ0ZXI7XG4gIHZhciBtaXhpbiA9IHt9O1xuXG4gICgwLCBfY29tbW9ucy5hZGRIb29rTWV0aG9kKShzZXJ2aWNlLCAnYmVmb3JlJywgbWV0aG9kcyk7XG4gICgwLCBfY29tbW9ucy5hZGRIb29rTWV0aG9kKShzZXJ2aWNlLCAnYWZ0ZXInLCBtZXRob2RzKTtcblxuICBtZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgIGlmICh0eXBlb2Ygc2VydmljZVttZXRob2RdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWl4aW5bbWV0aG9kXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIEEgcmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBtZXRob2RcbiAgICAgIHZhciBfc3VwZXIgPSB0aGlzLl9zdXBlci5iaW5kKHRoaXMpO1xuICAgICAgLy8gQ3JlYXRlIHRoZSBob29rIG9iamVjdCB0aGF0IGdldHMgcGFzc2VkIHRocm91Z2hcbiAgICAgIHZhciBob29rT2JqZWN0ID0gX2ZlYXRoZXJzQ29tbW9ucy5ob29rcy5ob29rT2JqZWN0KG1ldGhvZCwgJ2JlZm9yZScsIGFyZ3VtZW50cyk7XG5cbiAgICAgIGhvb2tPYmplY3QuYXBwID0gYXBwO1xuXG4gICAgICAvLyBQcm9jZXNzIGFsbCBiZWZvcmUgaG9va3NcbiAgICAgIHJldHVybiBfY29tbW9ucy5wcm9jZXNzSG9va3MuY2FsbCh0aGlzLCB0aGlzLl9fYmVmb3JlSG9va3NbbWV0aG9kXSwgaG9va09iamVjdClcbiAgICAgIC8vIFVzZSB0aGUgaG9vayBvYmplY3QgdG8gY2FsbCB0aGUgb3JpZ2luYWwgbWV0aG9kXG4gICAgICAudGhlbihmdW5jdGlvbiAoaG9va09iamVjdCkge1xuICAgICAgICBpZiAodHlwZW9mIGhvb2tPYmplY3QucmVzdWx0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaG9va09iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIHZhciBhcmdzID0gX2ZlYXRoZXJzQ29tbW9ucy5ob29rcy5tYWtlQXJndW1lbnRzKGhvb2tPYmplY3QpO1xuICAgICAgICAgIC8vIFRoZSBtZXRob2QgbWF5IG5vdCBiZSBub3JtYWxpemVkIHlldCBzbyB3ZSBoYXZlIHRvIGhhbmRsZSBib3RoXG4gICAgICAgICAgLy8gd2F5cywgZWl0aGVyIGJ5IGNhbGxiYWNrIG9yIGJ5IFByb21pc2VcbiAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiBjYWxsYmFjayhlcnJvciwgcmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGhvb2tPYmplY3QucmVzdWx0ID0gcmVzdWx0O1xuICAgICAgICAgICAgICByZXNvbHZlKGhvb2tPYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBXZSByZXBsYWNlIHRoZSBjYWxsYmFjayB3aXRoIHJlc29sdmluZyB0aGUgcHJvbWlzZVxuICAgICAgICAgIGFyZ3Muc3BsaWNlKGFyZ3MubGVuZ3RoIC0gMSwgMSwgY2FsbGJhY2spO1xuXG4gICAgICAgICAgdmFyIHJlc3VsdCA9IF9zdXBlci5hcHBseSh1bmRlZmluZWQsIF90b0NvbnN1bWFibGVBcnJheShhcmdzKSk7XG5cbiAgICAgICAgICBpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBkYXRhKTtcbiAgICAgICAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC8vIE1ha2UgYSBjb3B5IG9mIGhvb2tPYmplY3QgZnJvbSBgYmVmb3JlYCBob29rcyBhbmQgdXBkYXRlIHR5cGVcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChob29rT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBob29rT2JqZWN0LCB7IHR5cGU6ICdhZnRlcicgfSk7XG4gICAgICB9KVxuICAgICAgLy8gUnVuIHRocm91Z2ggYWxsIGBhZnRlcmAgaG9va3NcbiAgICAgIC50aGVuKF9jb21tb25zLnByb2Nlc3NIb29rcy5iaW5kKHRoaXMsIHRoaXMuX19hZnRlckhvb2tzW21ldGhvZF0pKVxuICAgICAgLy8gRmluYWxseSwgcmV0dXJuIHRoZSByZXN1bHRcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChob29rT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBob29rT2JqZWN0LnJlc3VsdDtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuXG4gIHNlcnZpY2UubWl4aW4obWl4aW4pO1xuXG4gIC8vIEJlZm9yZSBob29rcyB0aGF0IHdlcmUgcmVnaXN0ZXJlZCBpbiB0aGUgc2VydmljZVxuICBpZiAob2xkQmVmb3JlKSB7XG4gICAgc2VydmljZS5iZWZvcmUob2xkQmVmb3JlKTtcbiAgfVxuXG4gIC8vIEFmdGVyIGhvb2tzIHRoYXQgd2VyZSByZWdpc3RlcmVkIGluIHRoZSBzZXJ2aWNlXG4gIGlmIChvbGRBZnRlcikge1xuICAgIHNlcnZpY2UuYWZ0ZXIob2xkQWZ0ZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ3VyZSgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm1peGlucy51bnNoaWZ0KGhvb2tNaXhpbik7XG4gIH07XG59XG5cbmNvbmZpZ3VyZS5yZW1vdmVRdWVyeSA9IGhvb2tzLnJlbW92ZVF1ZXJ5O1xuY29uZmlndXJlLnBsdWNrUXVlcnkgPSBob29rcy5wbHVja1F1ZXJ5O1xuY29uZmlndXJlLmxvd2VyQ2FzZSA9IGhvb2tzLmxvd2VyQ2FzZTtcbmNvbmZpZ3VyZS5yZW1vdmUgPSBob29rcy5yZW1vdmU7XG5jb25maWd1cmUucGx1Y2sgPSBob29rcy5wbHVjaztcbmNvbmZpZ3VyZS5kaXNhYmxlID0gaG9va3MuZGlzYWJsZTtcbmNvbmZpZ3VyZS5wb3B1bGF0ZSA9IGhvb2tzLnBvcHVsYXRlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjb25maWd1cmU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcXMgPSByZXF1aXJlKCdxcycpO1xuXG52YXIgX3FzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3FzKTtcblxudmFyIF9mZWF0aGVyc0NvbW1vbnMgPSByZXF1aXJlKCdmZWF0aGVycy1jb21tb25zJyk7XG5cbnZhciBfZmVhdGhlcnNFcnJvcnMgPSByZXF1aXJlKCdmZWF0aGVycy1lcnJvcnMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gdG9FcnJvcihlcnJvcikge1xuICB0aHJvdyAoMCwgX2ZlYXRoZXJzRXJyb3JzLmNvbnZlcnQpKGVycm9yKTtcbn1cblxudmFyIEJhc2UgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEJhc2Uoc2V0dGluZ3MpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFzZSk7XG5cbiAgICB0aGlzLm5hbWUgPSAoMCwgX2ZlYXRoZXJzQ29tbW9ucy5zdHJpcFNsYXNoZXMpKHNldHRpbmdzLm5hbWUpO1xuICAgIHRoaXMub3B0aW9ucyA9IHNldHRpbmdzLm9wdGlvbnM7XG4gICAgdGhpcy5jb25uZWN0aW9uID0gc2V0dGluZ3MuY29ubmVjdGlvbjtcbiAgICB0aGlzLmJhc2UgPSBzZXR0aW5ncy5iYXNlICsgJy8nICsgdGhpcy5uYW1lO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEJhc2UsIFt7XG4gICAga2V5OiAnbWFrZVVybCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VVcmwocGFyYW1zLCBpZCkge1xuICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuICAgICAgdmFyIHVybCA9IHRoaXMuYmFzZTtcblxuICAgICAgaWYgKHR5cGVvZiBpZCAhPT0gJ3VuZGVmaW5lZCcgJiYgaWQgIT09IG51bGwpIHtcbiAgICAgICAgdXJsICs9ICcvJyArIGlkO1xuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMocGFyYW1zKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gX3FzMi5kZWZhdWx0LnN0cmluZ2lmeShwYXJhbXMpO1xuXG4gICAgICAgIHVybCArPSAnPycgKyBxdWVyeVN0cmluZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdmaW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZCgpIHtcbiAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7XG4gICAgICAgIHVybDogdGhpcy5tYWtlVXJsKHBhcmFtcy5xdWVyeSksXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IF9leHRlbmRzKHt9LCBwYXJhbXMuaGVhZGVycylcbiAgICAgIH0pLmNhdGNoKHRvRXJyb3IpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldChpZCkge1xuICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzFdO1xuXG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgdXJsOiB0aGlzLm1ha2VVcmwocGFyYW1zLnF1ZXJ5LCBpZCksXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IF9leHRlbmRzKHt9LCBwYXJhbXMuaGVhZGVycylcbiAgICAgIH0pLmNhdGNoKHRvRXJyb3IpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NyZWF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShib2R5KSB7XG4gICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICB1cmw6IHRoaXMubWFrZVVybChwYXJhbXMucXVlcnkpLFxuICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogX2V4dGVuZHMoeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sIHBhcmFtcy5oZWFkZXJzKVxuICAgICAgfSkuY2F0Y2godG9FcnJvcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKGlkLCBib2R5KSB7XG4gICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMl07XG5cbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICB1cmw6IHRoaXMubWFrZVVybChwYXJhbXMucXVlcnksIGlkKSxcbiAgICAgICAgYm9keTogYm9keSxcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczogX2V4dGVuZHMoeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sIHBhcmFtcy5oZWFkZXJzKVxuICAgICAgfSkuY2F0Y2godG9FcnJvcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncGF0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXRjaChpZCwgYm9keSkge1xuICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzJdO1xuXG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgdXJsOiB0aGlzLm1ha2VVcmwocGFyYW1zLnF1ZXJ5LCBpZCksXG4gICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgaGVhZGVyczogX2V4dGVuZHMoeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sIHBhcmFtcy5oZWFkZXJzKVxuICAgICAgfSkuY2F0Y2godG9FcnJvcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVtb3ZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKGlkKSB7XG4gICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICB1cmw6IHRoaXMubWFrZVVybChwYXJhbXMucXVlcnksIGlkKSxcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgaGVhZGVyczogX2V4dGVuZHMoe30sIHBhcmFtcy5oZWFkZXJzKVxuICAgICAgfSkuY2F0Y2godG9FcnJvcik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEJhc2U7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJhc2U7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfYmFzZSA9IHJlcXVpcmUoJy4vYmFzZScpO1xuXG52YXIgX2Jhc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmFzZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFNlcnZpY2UgPSBmdW5jdGlvbiAoX0Jhc2UpIHtcbiAgX2luaGVyaXRzKFNlcnZpY2UsIF9CYXNlKTtcblxuICBmdW5jdGlvbiBTZXJ2aWNlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZXJ2aWNlKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2VydmljZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNlcnZpY2UpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTZXJ2aWNlLCBbe1xuICAgIGtleTogJ3JlcXVlc3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0KG9wdGlvbnMpIHtcbiAgICAgIHZhciBmZXRjaE9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgb3B0aW9ucyk7XG5cbiAgICAgIGZldGNoT3B0aW9ucy5oZWFkZXJzID0gX2V4dGVuZHMoe1xuICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgfSwgdGhpcy5vcHRpb25zLmhlYWRlcnMsIGZldGNoT3B0aW9ucy5oZWFkZXJzKTtcblxuICAgICAgaWYgKG9wdGlvbnMuYm9keSkge1xuICAgICAgICBmZXRjaE9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuYm9keSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBmZXRjaCA9IHRoaXMuY29ubmVjdGlvbjtcblxuICAgICAgcmV0dXJuIGZldGNoKG9wdGlvbnMudXJsLCBmZXRjaE9wdGlvbnMpLnRoZW4odGhpcy5jaGVja1N0YXR1cykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NoZWNrU3RhdHVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tTdGF0dXMocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2VydmljZTtcbn0oX2Jhc2UyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTZXJ2aWNlO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBiYXNlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMF07XG5cbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIE9iamVjdC5rZXlzKHRyYW5zcG9ydHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBTZXJ2aWNlID0gdHJhbnNwb3J0c1trZXldO1xuXG4gICAgcmVzdWx0W2tleV0gPSBmdW5jdGlvbiAoY29ubmVjdGlvbikge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKCFjb25uZWN0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihrZXkgKyAnIGhhcyB0byBiZSBwcm92aWRlZCB0byBmZWF0aGVycy1yZXN0Jyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWZhdWx0U2VydmljZSA9IGZ1bmN0aW9uIGRlZmF1bHRTZXJ2aWNlKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXJ2aWNlKHsgYmFzZTogYmFzZSwgbmFtZTogbmFtZSwgY29ubmVjdGlvbjogY29ubmVjdGlvbiwgb3B0aW9uczogb3B0aW9ucyB9KTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBpbml0aWFsaXplID0gZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRlZmF1bHRTZXJ2aWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IG9uZSBkZWZhdWx0IGNsaWVudCBwcm92aWRlciBjYW4gYmUgY29uZmlndXJlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXN0ID0gY29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5kZWZhdWx0U2VydmljZSA9IGRlZmF1bHRTZXJ2aWNlO1xuICAgICAgfTtcblxuICAgICAgaW5pdGlhbGl6ZS5TZXJ2aWNlID0gU2VydmljZTtcbiAgICAgIGluaXRpYWxpemUuc2VydmljZSA9IGRlZmF1bHRTZXJ2aWNlO1xuXG4gICAgICByZXR1cm4gaW5pdGlhbGl6ZTtcbiAgICB9O1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIF9qcXVlcnkgPSByZXF1aXJlKCcuL2pxdWVyeScpO1xuXG52YXIgX2pxdWVyeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qcXVlcnkpO1xuXG52YXIgX3N1cGVyYWdlbnQgPSByZXF1aXJlKCcuL3N1cGVyYWdlbnQnKTtcblxudmFyIF9zdXBlcmFnZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N1cGVyYWdlbnQpO1xuXG52YXIgX3JlcXVlc3QgPSByZXF1aXJlKCcuL3JlcXVlc3QnKTtcblxudmFyIF9yZXF1ZXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlcXVlc3QpO1xuXG52YXIgX2ZldGNoID0gcmVxdWlyZSgnLi9mZXRjaCcpO1xuXG52YXIgX2ZldGNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZldGNoKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHRyYW5zcG9ydHMgPSB7XG4gIGpxdWVyeTogX2pxdWVyeTIuZGVmYXVsdCxcbiAgc3VwZXJhZ2VudDogX3N1cGVyYWdlbnQyLmRlZmF1bHQsXG4gIHJlcXVlc3Q6IF9yZXF1ZXN0Mi5kZWZhdWx0LFxuICBmZXRjaDogX2ZldGNoMi5kZWZhdWx0XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfYmFzZSA9IHJlcXVpcmUoJy4vYmFzZScpO1xuXG52YXIgX2Jhc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmFzZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFNlcnZpY2UgPSBmdW5jdGlvbiAoX0Jhc2UpIHtcbiAgX2luaGVyaXRzKFNlcnZpY2UsIF9CYXNlKTtcblxuICBmdW5jdGlvbiBTZXJ2aWNlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZXJ2aWNlKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2VydmljZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNlcnZpY2UpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTZXJ2aWNlLCBbe1xuICAgIGtleTogJ3JlcXVlc3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0KG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgb3B0cyA9IF9leHRlbmRzKHtcbiAgICAgICAgZGF0YVR5cGU6IG9wdGlvbnMudHlwZSB8fCAnanNvbidcbiAgICAgIH0sIHtcbiAgICAgICAgaGVhZGVyczogdGhpcy5vcHRpb25zLmhlYWRlcnMgfHwge31cbiAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICBpZiAob3B0aW9ucy5ib2R5KSB7XG4gICAgICAgIG9wdHMuZGF0YSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuYm9keSk7XG4gICAgICAgIG9wdHMuY29udGVudFR5cGUgPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBvcHRzLnR5cGU7XG4gICAgICBkZWxldGUgb3B0cy5ib2R5O1xuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBfdGhpczIuY29ubmVjdGlvbi5hamF4KG9wdHMpLnRoZW4ocmVzb2x2ZSwgZnVuY3Rpb24gKHhocikge1xuICAgICAgICAgIHZhciBlcnJvciA9IHhoci5yZXNwb25zZVRleHQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZXJyb3IgPSBKU09OLnBhcnNlKGVycm9yKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcih4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlcnJvci54aHIgPSBlcnJvci5yZXNwb25zZSA9IHhocjtcblxuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNlcnZpY2U7XG59KF9iYXNlMi5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU2VydmljZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9iYXNlID0gcmVxdWlyZSgnLi9iYXNlJyk7XG5cbnZhciBfYmFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXNlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgU2VydmljZSA9IGZ1bmN0aW9uIChfQmFzZSkge1xuICBfaW5oZXJpdHMoU2VydmljZSwgX0Jhc2UpO1xuXG4gIGZ1bmN0aW9uIFNlcnZpY2UoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlcnZpY2UpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTZXJ2aWNlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2VydmljZSkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNlcnZpY2UsIFt7XG4gICAga2V5OiAncmVxdWVzdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlcXVlc3Qob3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIF90aGlzMi5jb25uZWN0aW9uKF9leHRlbmRzKHtcbiAgICAgICAgICBqc29uOiB0cnVlXG4gICAgICAgIH0sIG9wdGlvbnMpLCBmdW5jdGlvbiAoZXJyb3IsIHJlcywgZGF0YSkge1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFlcnJvciAmJiByZXMuc3RhdHVzQ29kZSA+PSA0MDApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoZGF0YSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhLnJlc3BvbnNlID0gcmVzO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KF9leHRlbmRzKG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UpLCBkYXRhKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2VydmljZTtcbn0oX2Jhc2UyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTZXJ2aWNlO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2Jhc2UgPSByZXF1aXJlKCcuL2Jhc2UnKTtcblxudmFyIF9iYXNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Jhc2UpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBTZXJ2aWNlID0gZnVuY3Rpb24gKF9CYXNlKSB7XG4gIF9pbmhlcml0cyhTZXJ2aWNlLCBfQmFzZSk7XG5cbiAgZnVuY3Rpb24gU2VydmljZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VydmljZSk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFNlcnZpY2UuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTZXJ2aWNlKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2VydmljZSwgW3tcbiAgICBrZXk6ICdyZXF1ZXN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWVzdChvcHRpb25zKSB7XG4gICAgICB2YXIgc3VwZXJhZ2VudCA9IHRoaXMuY29ubmVjdGlvbihvcHRpb25zLm1ldGhvZCwgb3B0aW9ucy51cmwpLnNldCh0aGlzLm9wdGlvbnMuaGVhZGVycyB8fCB7fSkuc2V0KCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpLnNldChvcHRpb25zLmhlYWRlcnMgfHwge30pLnR5cGUob3B0aW9ucy50eXBlIHx8ICdqc29uJyk7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHN1cGVyYWdlbnQuc2V0KG9wdGlvbnMuaGVhZGVycyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYm9keSkge1xuICAgICAgICAgIHN1cGVyYWdlbnQuc2VuZChvcHRpb25zLmJvZHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXJhZ2VudC5lbmQoZnVuY3Rpb24gKGVycm9yLCByZXMpIHtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IGVycm9yLnJlc3BvbnNlO1xuICAgICAgICAgICAgICBlcnJvciA9IEpTT04ucGFyc2UoZXJyb3IucmVzcG9uc2UudGV4dCk7XG4gICAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXNvbHZlKHJlcyAmJiByZXMuYm9keSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNlcnZpY2U7XG59KF9iYXNlMi5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU2VydmljZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIFN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vc3RyaW5naWZ5Jyk7XG52YXIgUGFyc2UgPSByZXF1aXJlKCcuL3BhcnNlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHN0cmluZ2lmeTogU3RyaW5naWZ5LFxuICAgIHBhcnNlOiBQYXJzZVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGRlZmF1bHRzID0ge1xuICAgIGRlbGltaXRlcjogJyYnLFxuICAgIGRlcHRoOiA1LFxuICAgIGFycmF5TGltaXQ6IDIwLFxuICAgIHBhcmFtZXRlckxpbWl0OiAxMDAwLFxuICAgIHN0cmljdE51bGxIYW5kbGluZzogZmFsc2UsXG4gICAgcGxhaW5PYmplY3RzOiBmYWxzZSxcbiAgICBhbGxvd1Byb3RvdHlwZXM6IGZhbHNlLFxuICAgIGFsbG93RG90czogZmFsc2UsXG4gICAgZGVjb2RlcjogVXRpbHMuZGVjb2RlXG59O1xuXG52YXIgcGFyc2VWYWx1ZXMgPSBmdW5jdGlvbiBwYXJzZVZhbHVlcyhzdHIsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0ge307XG4gICAgdmFyIHBhcnRzID0gc3RyLnNwbGl0KG9wdGlvbnMuZGVsaW1pdGVyLCBvcHRpb25zLnBhcmFtZXRlckxpbWl0ID09PSBJbmZpbml0eSA/IHVuZGVmaW5lZCA6IG9wdGlvbnMucGFyYW1ldGVyTGltaXQpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgcGFydCA9IHBhcnRzW2ldO1xuICAgICAgICB2YXIgcG9zID0gcGFydC5pbmRleE9mKCddPScpID09PSAtMSA/IHBhcnQuaW5kZXhPZignPScpIDogcGFydC5pbmRleE9mKCddPScpICsgMTtcblxuICAgICAgICB2YXIga2V5LCB2YWw7XG4gICAgICAgIGlmIChwb3MgPT09IC0xKSB7XG4gICAgICAgICAgICBrZXkgPSBvcHRpb25zLmRlY29kZXIocGFydCk7XG4gICAgICAgICAgICB2YWwgPSBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyA/IG51bGwgOiAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGtleSA9IG9wdGlvbnMuZGVjb2RlcihwYXJ0LnNsaWNlKDAsIHBvcykpO1xuICAgICAgICAgICAgdmFsID0gb3B0aW9ucy5kZWNvZGVyKHBhcnQuc2xpY2UocG9zICsgMSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXMuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gW10uY29uY2F0KG9ialtrZXldKS5jb25jYXQodmFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gdmFsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBwYXJzZU9iamVjdCA9IGZ1bmN0aW9uIHBhcnNlT2JqZWN0KGNoYWluLCB2YWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWNoYWluLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cblxuICAgIHZhciByb290ID0gY2hhaW4uc2hpZnQoKTtcblxuICAgIHZhciBvYmo7XG4gICAgaWYgKHJvb3QgPT09ICdbXScpIHtcbiAgICAgICAgb2JqID0gW107XG4gICAgICAgIG9iaiA9IG9iai5jb25jYXQocGFyc2VPYmplY3QoY2hhaW4sIHZhbCwgb3B0aW9ucykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG9iaiA9IG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgICB2YXIgY2xlYW5Sb290ID0gcm9vdFswXSA9PT0gJ1snICYmIHJvb3Rbcm9vdC5sZW5ndGggLSAxXSA9PT0gJ10nID8gcm9vdC5zbGljZSgxLCByb290Lmxlbmd0aCAtIDEpIDogcm9vdDtcbiAgICAgICAgdmFyIGluZGV4ID0gcGFyc2VJbnQoY2xlYW5Sb290LCAxMCk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFpc05hTihpbmRleCkgJiZcbiAgICAgICAgICAgIHJvb3QgIT09IGNsZWFuUm9vdCAmJlxuICAgICAgICAgICAgU3RyaW5nKGluZGV4KSA9PT0gY2xlYW5Sb290ICYmXG4gICAgICAgICAgICBpbmRleCA+PSAwICYmXG4gICAgICAgICAgICAob3B0aW9ucy5wYXJzZUFycmF5cyAmJiBpbmRleCA8PSBvcHRpb25zLmFycmF5TGltaXQpXG4gICAgICAgICkge1xuICAgICAgICAgICAgb2JqID0gW107XG4gICAgICAgICAgICBvYmpbaW5kZXhdID0gcGFyc2VPYmplY3QoY2hhaW4sIHZhbCwgb3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmpbY2xlYW5Sb290XSA9IHBhcnNlT2JqZWN0KGNoYWluLCB2YWwsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBwYXJzZUtleXMgPSBmdW5jdGlvbiBwYXJzZUtleXMoZ2l2ZW5LZXksIHZhbCwgb3B0aW9ucykge1xuICAgIGlmICghZ2l2ZW5LZXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRyYW5zZm9ybSBkb3Qgbm90YXRpb24gdG8gYnJhY2tldCBub3RhdGlvblxuICAgIHZhciBrZXkgPSBvcHRpb25zLmFsbG93RG90cyA/IGdpdmVuS2V5LnJlcGxhY2UoL1xcLihbXlxcLlxcW10rKS9nLCAnWyQxXScpIDogZ2l2ZW5LZXk7XG5cbiAgICAvLyBUaGUgcmVnZXggY2h1bmtzXG5cbiAgICB2YXIgcGFyZW50ID0gL14oW15cXFtcXF1dKikvO1xuICAgIHZhciBjaGlsZCA9IC8oXFxbW15cXFtcXF1dKlxcXSkvZztcblxuICAgIC8vIEdldCB0aGUgcGFyZW50XG5cbiAgICB2YXIgc2VnbWVudCA9IHBhcmVudC5leGVjKGtleSk7XG5cbiAgICAvLyBTdGFzaCB0aGUgcGFyZW50IGlmIGl0IGV4aXN0c1xuXG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBpZiAoc2VnbWVudFsxXSkge1xuICAgICAgICAvLyBJZiB3ZSBhcmVuJ3QgdXNpbmcgcGxhaW4gb2JqZWN0cywgb3B0aW9uYWxseSBwcmVmaXgga2V5c1xuICAgICAgICAvLyB0aGF0IHdvdWxkIG92ZXJ3cml0ZSBvYmplY3QgcHJvdG90eXBlIHByb3BlcnRpZXNcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBzZWdtZW50WzFdKSkge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmFsbG93UHJvdG90eXBlcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGtleXMucHVzaChzZWdtZW50WzFdKTtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggY2hpbGRyZW4gYXBwZW5kaW5nIHRvIHRoZSBhcnJheSB1bnRpbCB3ZSBoaXQgZGVwdGhcblxuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoKHNlZ21lbnQgPSBjaGlsZC5leGVjKGtleSkpICE9PSBudWxsICYmIGkgPCBvcHRpb25zLmRlcHRoKSB7XG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBzZWdtZW50WzFdLnJlcGxhY2UoL1xcW3xcXF0vZywgJycpKSkge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmFsbG93UHJvdG90eXBlcykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGtleXMucHVzaChzZWdtZW50WzFdKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSdzIGEgcmVtYWluZGVyLCBqdXN0IGFkZCB3aGF0ZXZlciBpcyBsZWZ0XG5cbiAgICBpZiAoc2VnbWVudCkge1xuICAgICAgICBrZXlzLnB1c2goJ1snICsga2V5LnNsaWNlKHNlZ21lbnQuaW5kZXgpICsgJ10nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VPYmplY3Qoa2V5cywgdmFsLCBvcHRpb25zKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0ciwgb3B0cykge1xuICAgIHZhciBvcHRpb25zID0gb3B0cyB8fCB7fTtcblxuICAgIGlmIChvcHRpb25zLmRlY29kZXIgIT09IG51bGwgJiYgb3B0aW9ucy5kZWNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdGlvbnMuZGVjb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdEZWNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIG9wdGlvbnMuZGVsaW1pdGVyID0gdHlwZW9mIG9wdGlvbnMuZGVsaW1pdGVyID09PSAnc3RyaW5nJyB8fCBVdGlscy5pc1JlZ0V4cChvcHRpb25zLmRlbGltaXRlcikgPyBvcHRpb25zLmRlbGltaXRlciA6IGRlZmF1bHRzLmRlbGltaXRlcjtcbiAgICBvcHRpb25zLmRlcHRoID0gdHlwZW9mIG9wdGlvbnMuZGVwdGggPT09ICdudW1iZXInID8gb3B0aW9ucy5kZXB0aCA6IGRlZmF1bHRzLmRlcHRoO1xuICAgIG9wdGlvbnMuYXJyYXlMaW1pdCA9IHR5cGVvZiBvcHRpb25zLmFycmF5TGltaXQgPT09ICdudW1iZXInID8gb3B0aW9ucy5hcnJheUxpbWl0IDogZGVmYXVsdHMuYXJyYXlMaW1pdDtcbiAgICBvcHRpb25zLnBhcnNlQXJyYXlzID0gb3B0aW9ucy5wYXJzZUFycmF5cyAhPT0gZmFsc2U7XG4gICAgb3B0aW9ucy5kZWNvZGVyID0gdHlwZW9mIG9wdGlvbnMuZGVjb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMuZGVjb2RlciA6IGRlZmF1bHRzLmRlY29kZXI7XG4gICAgb3B0aW9ucy5hbGxvd0RvdHMgPSB0eXBlb2Ygb3B0aW9ucy5hbGxvd0RvdHMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuYWxsb3dEb3RzIDogZGVmYXVsdHMuYWxsb3dEb3RzO1xuICAgIG9wdGlvbnMucGxhaW5PYmplY3RzID0gdHlwZW9mIG9wdGlvbnMucGxhaW5PYmplY3RzID09PSAnYm9vbGVhbicgPyBvcHRpb25zLnBsYWluT2JqZWN0cyA6IGRlZmF1bHRzLnBsYWluT2JqZWN0cztcbiAgICBvcHRpb25zLmFsbG93UHJvdG90eXBlcyA9IHR5cGVvZiBvcHRpb25zLmFsbG93UHJvdG90eXBlcyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMgOiBkZWZhdWx0cy5hbGxvd1Byb3RvdHlwZXM7XG4gICAgb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdCA9IHR5cGVvZiBvcHRpb25zLnBhcmFtZXRlckxpbWl0ID09PSAnbnVtYmVyJyA/IG9wdGlvbnMucGFyYW1ldGVyTGltaXQgOiBkZWZhdWx0cy5wYXJhbWV0ZXJMaW1pdDtcbiAgICBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyA9IHR5cGVvZiBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBkZWZhdWx0cy5zdHJpY3ROdWxsSGFuZGxpbmc7XG5cbiAgICBpZiAoc3RyID09PSAnJyB8fCBzdHIgPT09IG51bGwgfHwgdHlwZW9mIHN0ciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgIH1cblxuICAgIHZhciB0ZW1wT2JqID0gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgPyBwYXJzZVZhbHVlcyhzdHIsIG9wdGlvbnMpIDogc3RyO1xuICAgIHZhciBvYmogPSBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUga2V5cyBhbmQgc2V0dXAgdGhlIG5ldyBvYmplY3RcblxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModGVtcE9iaik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YXIgbmV3T2JqID0gcGFyc2VLZXlzKGtleSwgdGVtcE9ialtrZXldLCBvcHRpb25zKTtcbiAgICAgICAgb2JqID0gVXRpbHMubWVyZ2Uob2JqLCBuZXdPYmosIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHJldHVybiBVdGlscy5jb21wYWN0KG9iaik7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciBhcnJheVByZWZpeEdlbmVyYXRvcnMgPSB7XG4gICAgYnJhY2tldHM6IGZ1bmN0aW9uIGJyYWNrZXRzKHByZWZpeCkge1xuICAgICAgICByZXR1cm4gcHJlZml4ICsgJ1tdJztcbiAgICB9LFxuICAgIGluZGljZXM6IGZ1bmN0aW9uIGluZGljZXMocHJlZml4LCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeCArICdbJyArIGtleSArICddJztcbiAgICB9LFxuICAgIHJlcGVhdDogZnVuY3Rpb24gcmVwZWF0KHByZWZpeCkge1xuICAgICAgICByZXR1cm4gcHJlZml4O1xuICAgIH1cbn07XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgICBkZWxpbWl0ZXI6ICcmJyxcbiAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IGZhbHNlLFxuICAgIHNraXBOdWxsczogZmFsc2UsXG4gICAgZW5jb2RlOiB0cnVlLFxuICAgIGVuY29kZXI6IFV0aWxzLmVuY29kZVxufTtcblxudmFyIHN0cmluZ2lmeSA9IGZ1bmN0aW9uIHN0cmluZ2lmeShvYmplY3QsIHByZWZpeCwgZ2VuZXJhdGVBcnJheVByZWZpeCwgc3RyaWN0TnVsbEhhbmRsaW5nLCBza2lwTnVsbHMsIGVuY29kZXIsIGZpbHRlciwgc29ydCwgYWxsb3dEb3RzKSB7XG4gICAgdmFyIG9iaiA9IG9iamVjdDtcbiAgICBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvYmogPSBmaWx0ZXIocHJlZml4LCBvYmopO1xuICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBvYmogPSBvYmoudG9JU09TdHJpbmcoKTtcbiAgICB9IGVsc2UgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoc3RyaWN0TnVsbEhhbmRsaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlciA/IGVuY29kZXIocHJlZml4KSA6IHByZWZpeDtcbiAgICAgICAgfVxuXG4gICAgICAgIG9iaiA9ICcnO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb2JqID09PSAnbnVtYmVyJyB8fCB0eXBlb2Ygb2JqID09PSAnYm9vbGVhbicgfHwgVXRpbHMuaXNCdWZmZXIob2JqKSkge1xuICAgICAgICBpZiAoZW5jb2Rlcikge1xuICAgICAgICAgICAgcmV0dXJuIFtlbmNvZGVyKHByZWZpeCkgKyAnPScgKyBlbmNvZGVyKG9iaildO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcHJlZml4ICsgJz0nICsgU3RyaW5nKG9iaildO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuICAgIHZhciBvYmpLZXlzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZpbHRlcikpIHtcbiAgICAgICAgb2JqS2V5cyA9IGZpbHRlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIG9iaktleXMgPSBzb3J0ID8ga2V5cy5zb3J0KHNvcnQpIDoga2V5cztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IG9iaktleXNbaV07XG5cbiAgICAgICAgaWYgKHNraXBOdWxscyAmJiBvYmpba2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuY29uY2F0KHN0cmluZ2lmeShvYmpba2V5XSwgZ2VuZXJhdGVBcnJheVByZWZpeChwcmVmaXgsIGtleSksIGdlbmVyYXRlQXJyYXlQcmVmaXgsIHN0cmljdE51bGxIYW5kbGluZywgc2tpcE51bGxzLCBlbmNvZGVyLCBmaWx0ZXIsIHNvcnQsIGFsbG93RG90cykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLmNvbmNhdChzdHJpbmdpZnkob2JqW2tleV0sIHByZWZpeCArIChhbGxvd0RvdHMgPyAnLicgKyBrZXkgOiAnWycgKyBrZXkgKyAnXScpLCBnZW5lcmF0ZUFycmF5UHJlZml4LCBzdHJpY3ROdWxsSGFuZGxpbmcsIHNraXBOdWxscywgZW5jb2RlciwgZmlsdGVyLCBzb3J0LCBhbGxvd0RvdHMpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG9wdHMpIHtcbiAgICB2YXIgb2JqID0gb2JqZWN0O1xuICAgIHZhciBvcHRpb25zID0gb3B0cyB8fCB7fTtcbiAgICB2YXIgZGVsaW1pdGVyID0gdHlwZW9mIG9wdGlvbnMuZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmRlbGltaXRlciA6IG9wdGlvbnMuZGVsaW1pdGVyO1xuICAgIHZhciBzdHJpY3ROdWxsSGFuZGxpbmcgPSB0eXBlb2Ygb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nIDogZGVmYXVsdHMuc3RyaWN0TnVsbEhhbmRsaW5nO1xuICAgIHZhciBza2lwTnVsbHMgPSB0eXBlb2Ygb3B0aW9ucy5za2lwTnVsbHMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuc2tpcE51bGxzIDogZGVmYXVsdHMuc2tpcE51bGxzO1xuICAgIHZhciBlbmNvZGUgPSB0eXBlb2Ygb3B0aW9ucy5lbmNvZGUgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuZW5jb2RlIDogZGVmYXVsdHMuZW5jb2RlO1xuICAgIHZhciBlbmNvZGVyID0gZW5jb2RlID8gKHR5cGVvZiBvcHRpb25zLmVuY29kZXIgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLmVuY29kZXIgOiBkZWZhdWx0cy5lbmNvZGVyKSA6IG51bGw7XG4gICAgdmFyIHNvcnQgPSB0eXBlb2Ygb3B0aW9ucy5zb3J0ID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5zb3J0IDogbnVsbDtcbiAgICB2YXIgYWxsb3dEb3RzID0gdHlwZW9mIG9wdGlvbnMuYWxsb3dEb3RzID09PSAndW5kZWZpbmVkJyA/IGZhbHNlIDogb3B0aW9ucy5hbGxvd0RvdHM7XG4gICAgdmFyIG9iaktleXM7XG4gICAgdmFyIGZpbHRlcjtcblxuICAgIGlmIChvcHRpb25zLmVuY29kZXIgIT09IG51bGwgJiYgb3B0aW9ucy5lbmNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdGlvbnMuZW5jb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFbmNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgICAgIG9iaiA9IGZpbHRlcignJywgb2JqKTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5maWx0ZXIpKSB7XG4gICAgICAgIG9iaktleXMgPSBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgdmFyIGFycmF5Rm9ybWF0O1xuICAgIGlmIChvcHRpb25zLmFycmF5Rm9ybWF0IGluIGFycmF5UHJlZml4R2VuZXJhdG9ycykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdGlvbnMuYXJyYXlGb3JtYXQ7XG4gICAgfSBlbHNlIGlmICgnaW5kaWNlcycgaW4gb3B0aW9ucykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdGlvbnMuaW5kaWNlcyA/ICdpbmRpY2VzJyA6ICdyZXBlYXQnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gJ2luZGljZXMnO1xuICAgIH1cblxuICAgIHZhciBnZW5lcmF0ZUFycmF5UHJlZml4ID0gYXJyYXlQcmVmaXhHZW5lcmF0b3JzW2FycmF5Rm9ybWF0XTtcblxuICAgIGlmICghb2JqS2V5cykge1xuICAgICAgICBvYmpLZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICB9XG5cbiAgICBpZiAoc29ydCkge1xuICAgICAgICBvYmpLZXlzLnNvcnQoc29ydCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmpLZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpLZXlzW2ldO1xuXG4gICAgICAgIGlmIChza2lwTnVsbHMgJiYgb2JqW2tleV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAga2V5cyA9IGtleXMuY29uY2F0KHN0cmluZ2lmeShvYmpba2V5XSwga2V5LCBnZW5lcmF0ZUFycmF5UHJlZml4LCBzdHJpY3ROdWxsSGFuZGxpbmcsIHNraXBOdWxscywgZW5jb2RlciwgZmlsdGVyLCBzb3J0LCBhbGxvd0RvdHMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5cy5qb2luKGRlbGltaXRlcik7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGV4VGFibGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcnJheSA9IG5ldyBBcnJheSgyNTYpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgICAgICAgYXJyYXlbaV0gPSAnJScgKyAoKGkgPCAxNiA/ICcwJyA6ICcnKSArIGkudG9TdHJpbmcoMTYpKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn0oKSk7XG5cbmV4cG9ydHMuYXJyYXlUb09iamVjdCA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0gb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2VbaV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBvYmpbaV0gPSBzb3VyY2VbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufTtcblxuZXhwb3J0cy5tZXJnZSA9IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRhcmdldC5wdXNoKHNvdXJjZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRhcmdldFtzb3VyY2VdID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbdGFyZ2V0LCBzb3VyY2VdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIFt0YXJnZXRdLmNvbmNhdChzb3VyY2UpO1xuICAgIH1cblxuICAgIHZhciBtZXJnZVRhcmdldCA9IHRhcmdldDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpICYmICFBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgbWVyZ2VUYXJnZXQgPSBleHBvcnRzLmFycmF5VG9PYmplY3QodGFyZ2V0LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVtrZXldO1xuXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYWNjLCBrZXkpKSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IGV4cG9ydHMubWVyZ2UoYWNjW2tleV0sIHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBtZXJnZVRhcmdldCk7XG59O1xuXG5leHBvcnRzLmRlY29kZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0ci5yZXBsYWNlKC9cXCsvZywgJyAnKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuZW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgIC8vIFRoaXMgY29kZSB3YXMgb3JpZ2luYWxseSB3cml0dGVuIGJ5IEJyaWFuIFdoaXRlIChtc2NkZXgpIGZvciB0aGUgaW8uanMgY29yZSBxdWVyeXN0cmluZyBsaWJyYXJ5LlxuICAgIC8vIEl0IGhhcyBiZWVuIGFkYXB0ZWQgaGVyZSBmb3Igc3RyaWN0ZXIgYWRoZXJlbmNlIHRvIFJGQyAzOTg2XG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICB2YXIgc3RyaW5nID0gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgPyBzdHIgOiBTdHJpbmcoc3RyKTtcblxuICAgIHZhciBvdXQgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgYyA9IHN0cmluZy5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGMgPT09IDB4MkQgfHwgLy8gLVxuICAgICAgICAgICAgYyA9PT0gMHgyRSB8fCAvLyAuXG4gICAgICAgICAgICBjID09PSAweDVGIHx8IC8vIF9cbiAgICAgICAgICAgIGMgPT09IDB4N0UgfHwgLy8gflxuICAgICAgICAgICAgKGMgPj0gMHgzMCAmJiBjIDw9IDB4MzkpIHx8IC8vIDAtOVxuICAgICAgICAgICAgKGMgPj0gMHg0MSAmJiBjIDw9IDB4NUEpIHx8IC8vIGEtelxuICAgICAgICAgICAgKGMgPj0gMHg2MSAmJiBjIDw9IDB4N0EpIC8vIEEtWlxuICAgICAgICApIHtcbiAgICAgICAgICAgIG91dCArPSBzdHJpbmcuY2hhckF0KGkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4ODApIHtcbiAgICAgICAgICAgIG91dCA9IG91dCArIGhleFRhYmxlW2NdO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyAoaGV4VGFibGVbMHhDMCB8IChjID4+IDYpXSArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHhEODAwIHx8IGMgPj0gMHhFMDAwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyAoaGV4VGFibGVbMHhFMCB8IChjID4+IDEyKV0gKyBoZXhUYWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzRildICsgaGV4VGFibGVbMHg4MCB8IChjICYgMHgzRildKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaSArPSAxO1xuICAgICAgICBjID0gMHgxMDAwMCArICgoKGMgJiAweDNGRikgPDwgMTApIHwgKHN0cmluZy5jaGFyQ29kZUF0KGkpICYgMHgzRkYpKTtcbiAgICAgICAgb3V0ICs9IGhleFRhYmxlWzB4RjAgfCAoYyA+PiAxOCldICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiAxMikgJiAweDNGKV0gKyBoZXhUYWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzRildICsgaGV4VGFibGVbMHg4MCB8IChjICYgMHgzRildO1xuICAgIH1cblxuICAgIHJldHVybiBvdXQ7XG59O1xuXG5leHBvcnRzLmNvbXBhY3QgPSBmdW5jdGlvbiAob2JqLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIHZhciByZWZzID0gcmVmZXJlbmNlcyB8fCBbXTtcbiAgICB2YXIgbG9va3VwID0gcmVmcy5pbmRleE9mKG9iaik7XG4gICAgaWYgKGxvb2t1cCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHJlZnNbbG9va3VwXTtcbiAgICB9XG5cbiAgICByZWZzLnB1c2gob2JqKTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgdmFyIGNvbXBhY3RlZCA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAob2JqW2ldICYmIHR5cGVvZiBvYmpbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgY29tcGFjdGVkLnB1c2goZXhwb3J0cy5jb21wYWN0KG9ialtpXSwgcmVmcykpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqW2ldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGNvbXBhY3RlZC5wdXNoKG9ialtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcGFjdGVkO1xuICAgIH1cblxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbal07XG4gICAgICAgIG9ialtrZXldID0gZXhwb3J0cy5jb21wYWN0KG9ialtrZXldLCByZWZzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufTtcblxuZXhwb3J0cy5pc1JlZ0V4cCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufTtcblxuZXhwb3J0cy5pc0J1ZmZlciA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gISEob2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RlYnVnID0gcmVxdWlyZSgnZGVidWcnKTtcblxudmFyIF9kZWJ1ZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWJ1Zyk7XG5cbnZhciBfZmVhdGhlcnNDb21tb25zID0gcmVxdWlyZSgnZmVhdGhlcnMtY29tbW9ucycpO1xuXG52YXIgX3ViZXJwcm90byA9IHJlcXVpcmUoJ3ViZXJwcm90bycpO1xuXG52YXIgX3ViZXJwcm90bzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91YmVycHJvdG8pO1xuXG52YXIgX2luZGV4ID0gcmVxdWlyZSgnLi9taXhpbnMvaW5kZXgnKTtcblxudmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBkZWJ1ZyA9ICgwLCBfZGVidWcyLmRlZmF1bHQpKCdmZWF0aGVyczphcHBsaWNhdGlvbicpO1xudmFyIG1ldGhvZHMgPSBbJ2ZpbmQnLCAnZ2V0JywgJ2NyZWF0ZScsICd1cGRhdGUnLCAncGF0Y2gnLCAncmVtb3ZlJ107XG52YXIgUHJvdG8gPSBfdWJlcnByb3RvMi5kZWZhdWx0LmV4dGVuZCh7XG4gIGNyZWF0ZTogbnVsbFxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgIG1ldGhvZHM6IG1ldGhvZHMsXG4gICAgICBtaXhpbnM6ICgwLCBfaW5kZXgyLmRlZmF1bHQpKCksXG4gICAgICBzZXJ2aWNlczoge30sXG4gICAgICBwcm92aWRlcnM6IFtdLFxuICAgICAgX3NldHVwOiBmYWxzZVxuICAgIH0pO1xuICB9LFxuICBzZXJ2aWNlOiBmdW5jdGlvbiBzZXJ2aWNlKGxvY2F0aW9uLCBfc2VydmljZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzJdO1xuXG4gICAgbG9jYXRpb24gPSAoMCwgX2ZlYXRoZXJzQ29tbW9ucy5zdHJpcFNsYXNoZXMpKGxvY2F0aW9uKTtcblxuICAgIGlmICghX3NlcnZpY2UpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5zZXJ2aWNlc1tsb2NhdGlvbl07XG5cbiAgICAgIGlmICh0eXBlb2YgY3VycmVudCA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHRoaXMuZGVmYXVsdFNlcnZpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZShsb2NhdGlvbiwgdGhpcy5kZWZhdWx0U2VydmljZShsb2NhdGlvbiksIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG5cbiAgICB2YXIgcHJvdG9TZXJ2aWNlID0gUHJvdG8uZXh0ZW5kKF9zZXJ2aWNlKTtcblxuICAgIGRlYnVnKCdSZWdpc3RlcmluZyBuZXcgc2VydmljZSBhdCBgJyArIGxvY2F0aW9uICsgJ2AnKTtcblxuICAgIC8vIEFkZCBhbGwgdGhlIG1peGluc1xuICAgIHRoaXMubWl4aW5zLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbChfdGhpcywgcHJvdG9TZXJ2aWNlKTtcbiAgICB9KTtcblxuICAgIGlmICh0eXBlb2YgcHJvdG9TZXJ2aWNlLl9zZXR1cCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcHJvdG9TZXJ2aWNlLl9zZXR1cCh0aGlzLCBsb2NhdGlvbik7XG4gICAgfVxuXG4gICAgLy8gUnVuIHRoZSBwcm92aWRlciBmdW5jdGlvbnMgdG8gcmVnaXN0ZXIgdGhlIHNlcnZpY2VcbiAgICB0aGlzLnByb3ZpZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChwcm92aWRlcikge1xuICAgICAgcmV0dXJuIHByb3ZpZGVyLmNhbGwoX3RoaXMsIGxvY2F0aW9uLCBwcm90b1NlcnZpY2UsIG9wdGlvbnMpO1xuICAgIH0pO1xuXG4gICAgLy8gSWYgd2UgcmFuIHNldHVwIGFscmVhZHksIHNldCB0aGlzIHNlcnZpY2UgdXAgZXhwbGljaXRseVxuICAgIGlmICh0aGlzLl9pc1NldHVwICYmIHR5cGVvZiBwcm90b1NlcnZpY2Uuc2V0dXAgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGRlYnVnKCdTZXR0aW5nIHVwIHNlcnZpY2UgZm9yIGAnICsgbG9jYXRpb24gKyAnYCcpO1xuICAgICAgcHJvdG9TZXJ2aWNlLnNldHVwKHRoaXMsIGxvY2F0aW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zZXJ2aWNlc1tsb2NhdGlvbl0gPSBwcm90b1NlcnZpY2U7XG4gIH0sXG4gIHVzZTogZnVuY3Rpb24gdXNlKGxvY2F0aW9uKSB7XG4gICAgdmFyIHNlcnZpY2UgPSB2b2lkIDAsXG4gICAgICAgIG1pZGRsZXdhcmUgPSBBcnJheS5mcm9tKGFyZ3VtZW50cykuc2xpY2UoMSkucmVkdWNlKGZ1bmN0aW9uIChtaWRkbGV3YXJlLCBhcmcpIHtcbiAgICAgIGlmICh0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG1pZGRsZXdhcmVbc2VydmljZSA/ICdhZnRlcicgOiAnYmVmb3JlJ10ucHVzaChhcmcpO1xuICAgICAgfSBlbHNlIGlmICghc2VydmljZSkge1xuICAgICAgICBzZXJ2aWNlID0gYXJnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGFyZyBwYXNzZWQgdG8gYXBwLnVzZScpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1pZGRsZXdhcmU7XG4gICAgfSwge1xuICAgICAgYmVmb3JlOiBbXSxcbiAgICAgIGFmdGVyOiBbXVxuICAgIH0pO1xuXG4gICAgdmFyIGhhc01ldGhvZCA9IGZ1bmN0aW9uIGhhc01ldGhvZChtZXRob2RzKSB7XG4gICAgICByZXR1cm4gbWV0aG9kcy5zb21lKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiBzZXJ2aWNlICYmIHR5cGVvZiBzZXJ2aWNlW25hbWVdID09PSAnZnVuY3Rpb24nO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIENoZWNrIGZvciBzZXJ2aWNlIChhbnkgb2JqZWN0IHdpdGggYXQgbGVhc3Qgb25lIHNlcnZpY2UgbWV0aG9kKVxuICAgIGlmIChoYXNNZXRob2QoWydoYW5kbGUnLCAnc2V0J10pIHx8ICFoYXNNZXRob2QodGhpcy5tZXRob2RzLmNvbmNhdCgnc2V0dXAnKSkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8vIEFueSBhcmd1bWVudHMgbGVmdCBvdmVyIGFyZSBvdGhlciBtaWRkbGV3YXJlIHRoYXQgd2Ugd2FudCB0byBwYXNzIHRvIHRoZSBwcm92aWRlcnNcbiAgICB0aGlzLnNlcnZpY2UobG9jYXRpb24sIHNlcnZpY2UsIHsgbWlkZGxld2FyZTogbWlkZGxld2FyZSB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAvLyBTZXR1cCBlYWNoIHNlcnZpY2UgKHBhc3MgdGhlIGFwcCBzbyB0aGF0IHRoZXkgY2FuIGxvb2sgdXAgb3RoZXIgc2VydmljZXMgZXRjLilcbiAgICBPYmplY3Qua2V5cyh0aGlzLnNlcnZpY2VzKS5mb3JFYWNoKGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICB2YXIgc2VydmljZSA9IF90aGlzMi5zZXJ2aWNlc1twYXRoXTtcblxuICAgICAgZGVidWcoJ1NldHRpbmcgdXAgc2VydmljZSBmb3IgYCcgKyBwYXRoICsgJ2AnKTtcbiAgICAgIGlmICh0eXBlb2Ygc2VydmljZS5zZXR1cCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzZXJ2aWNlLnNldHVwKF90aGlzMiwgcGF0aCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLl9pc1NldHVwID0gdHJ1ZTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG5cbiAgLy8gRXhwcmVzcyAzLnggY29uZmlndXJlIGlzIGdvbmUgaW4gNC54IGJ1dCB3ZSdsbCBrZWVwIGEgbW9yZSBiYXNpYyB2ZXJzaW9uXG4gIC8vIFRoYXQganVzdCB0YWtlcyBhIGZ1bmN0aW9uIGluIG9yZGVyIHRvIGtlZXAgRmVhdGhlcnMgcGx1Z2luIGNvbmZpZ3VyYXRpb24gZWFzaWVyLlxuICAvLyBFbnZpcm9ubWVudCBzcGVjaWZpYyBjb25maWd1cmF0aW9ucyBzaG91bGQgYmUgZG9uZSBhcyBzdWdnZXN0ZWQgaW4gdGhlIDQueCBtaWdyYXRpb24gZ3VpZGU6XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92aXNpb25tZWRpYS9leHByZXNzL3dpa2kvTWlncmF0aW5nLWZyb20tMy54LXRvLTQueFxuICBjb25maWd1cmU6IGZ1bmN0aW9uIGNvbmZpZ3VyZShmbikge1xuICAgIGZuLmNhbGwodGhpcyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgbGlzdGVuOiBmdW5jdGlvbiBsaXN0ZW4oKSB7XG4gICAgdmFyIHNlcnZlciA9IHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnNldHVwKHNlcnZlcik7XG4gICAgZGVidWcoJ0ZlYXRoZXJzIGFwcGxpY2F0aW9uIGxpc3RlbmluZycpO1xuXG4gICAgcmV0dXJuIHNlcnZlcjtcbiAgfVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYXBwID0ge1xuICAgIHNldHRpbmdzOiB7fSxcblxuICAgIGdldDogZnVuY3Rpb24gZ2V0KG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzW25hbWVdO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmFtZSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuc2V0dGluZ3NbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZShuYW1lKSB7XG4gICAgICB0aGlzLnNldHRpbmdzW25hbWVdID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGRpc2FibGVkOiBmdW5jdGlvbiBkaXNhYmxlZChuYW1lKSB7XG4gICAgICByZXR1cm4gIXRoaXMuc2V0dGluZ3NbbmFtZV07XG4gICAgfSxcbiAgICBlbmFibGU6IGZ1bmN0aW9uIGVuYWJsZShuYW1lKSB7XG4gICAgICB0aGlzLnNldHRpbmdzW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgZW5hYmxlZDogZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG4gICAgICByZXR1cm4gISF0aGlzLnNldHRpbmdzW25hbWVdO1xuICAgIH0sXG4gICAgdXNlOiBmdW5jdGlvbiB1c2UoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pZGRsZXdhcmUgZnVuY3Rpb25zIGNhbiBub3QgYmUgdXNlZCBpbiB0aGUgRmVhdGhlcnMgY2xpZW50Jyk7XG4gICAgfSxcbiAgICBsaXN0ZW46IGZ1bmN0aW9uIGxpc3RlbigpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH07XG5cbiAgX3ViZXJwcm90bzIuZGVmYXVsdC5taXhpbihfZXZlbnRzLkV2ZW50RW1pdHRlci5wcm90b3R5cGUsIGFwcCk7XG5cbiAgcmV0dXJuIGFwcDtcbn07XG5cbnZhciBfZXZlbnRzID0gcmVxdWlyZSgnZXZlbnRzJyk7XG5cbnZhciBfdWJlcnByb3RvID0gcmVxdWlyZSgndWJlcnByb3RvJyk7XG5cbnZhciBfdWJlcnByb3RvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ViZXJwcm90byk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUFwcGxpY2F0aW9uO1xuXG52YXIgX2ZlYXRoZXJzID0gcmVxdWlyZSgnLi4vZmVhdGhlcnMnKTtcblxudmFyIF9mZWF0aGVyczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mZWF0aGVycyk7XG5cbnZhciBfZXhwcmVzcyA9IHJlcXVpcmUoJy4vZXhwcmVzcycpO1xuXG52YXIgX2V4cHJlc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXhwcmVzcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcGxpY2F0aW9uKCkge1xuICByZXR1cm4gKDAsIF9mZWF0aGVyczIuZGVmYXVsdCkoX2V4cHJlc3MyLmRlZmF1bHQuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpKTtcbn1cblxuY3JlYXRlQXBwbGljYXRpb24udmVyc2lvbiA9ICcyLjAuMSc7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVBcHBsaWNhdGlvbjtcblxudmFyIF91YmVycHJvdG8gPSByZXF1aXJlKCd1YmVycHJvdG8nKTtcblxudmFyIF91YmVycHJvdG8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdWJlcnByb3RvKTtcblxudmFyIF9hcHBsaWNhdGlvbiA9IHJlcXVpcmUoJy4vYXBwbGljYXRpb24nKTtcblxudmFyIF9hcHBsaWNhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcHBsaWNhdGlvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQ3JlYXRlIGEgRmVhdGhlcnMgYXBwbGljYXRpb24gdGhhdCBleHRlbmRzIEV4cHJlc3MuXG4gKlxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiBjcmVhdGVBcHBsaWNhdGlvbihhcHApIHtcbiAgX3ViZXJwcm90bzIuZGVmYXVsdC5taXhpbihfYXBwbGljYXRpb24yLmRlZmF1bHQsIGFwcCk7XG4gIGFwcC5pbml0KCk7XG4gIHJldHVybiBhcHA7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzZXJ2aWNlKSB7XG4gIHZhciBpc0VtaXR0ZXIgPSB0eXBlb2Ygc2VydmljZS5vbiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc2VydmljZS5lbWl0ID09PSAnZnVuY3Rpb24nO1xuICB2YXIgZW1pdHRlciA9IHNlcnZpY2UuX3J1YmJlckR1Y2sgPSBfcnViYmVyZHVjazIuZGVmYXVsdC5lbWl0dGVyKHNlcnZpY2UpO1xuXG4gIGlmICh0eXBlb2Ygc2VydmljZS5taXhpbiA9PT0gJ2Z1bmN0aW9uJyAmJiAhaXNFbWl0dGVyKSB7XG4gICAgc2VydmljZS5taXhpbihfZXZlbnRzLkV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuICB9XG5cbiAgc2VydmljZS5fc2VydmljZUV2ZW50cyA9IEFycmF5LmlzQXJyYXkoc2VydmljZS5ldmVudHMpID8gc2VydmljZS5ldmVudHMuc2xpY2UoKSA6IFtdO1xuXG4gIC8vIFBhc3MgdGhlIFJ1YmJlcmR1Y2sgZXJyb3IgZXZlbnQgdGhyb3VnaFxuICAvLyBUT0RPIGRlYWwgd2l0aCBlcnJvciBldmVudHMgcHJvcGVybHlcbiAgZW1pdHRlci5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgc2VydmljZS5lbWl0KCdzZXJ2aWNlRXJyb3InLCBlcnJvcnNbMF0pO1xuICB9KTtcblxuICBPYmplY3Qua2V5cyhldmVudE1hcHBpbmdzKS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICB2YXIgZXZlbnQgPSBldmVudE1hcHBpbmdzW21ldGhvZF07XG4gICAgdmFyIGFscmVhZHlFbWl0cyA9IHNlcnZpY2UuX3NlcnZpY2VFdmVudHMuaW5kZXhPZihldmVudCkgIT09IC0xO1xuXG4gICAgaWYgKHR5cGVvZiBzZXJ2aWNlW21ldGhvZF0gPT09ICdmdW5jdGlvbicgJiYgIWFscmVhZHlFbWl0cykge1xuICAgICAgLy8gVGhlIFJ1YmJlcmR1Y2sgZXZlbnQgbmFtZSAoZS5nLiBhZnRlckNyZWF0ZSwgYWZ0ZXJVcGRhdGUgb3IgYWZ0ZXJEZXN0cm95KVxuICAgICAgdmFyIGV2ZW50TmFtZSA9ICdhZnRlcicgKyB1cHBlckNhc2UobWV0aG9kKTtcbiAgICAgIHNlcnZpY2UuX3NlcnZpY2VFdmVudHMucHVzaChldmVudCk7XG4gICAgICAvLyBQdW5jaCB0aGUgZ2l2ZW4gbWV0aG9kXG4gICAgICBlbWl0dGVyLnB1bmNoKG1ldGhvZCwgLTEpO1xuICAgICAgLy8gUGFzcyB0aGUgZXZlbnQgYW5kIGVycm9yIGV2ZW50IHRocm91Z2hcbiAgICAgIGVtaXR0ZXIub24oZXZlbnROYW1lLCBmdW5jdGlvbiAocmVzdWx0cywgYXJncykge1xuICAgICAgICBpZiAoIXJlc3VsdHNbMF0pIHtcbiAgICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gY2FsbGJhY2sgd2l0aG91dCBlcnJvclxuICAgICAgICAgICAgdmFyIGhvb2sgPSBob29rT2JqZWN0KG1ldGhvZCwgJ2FmdGVyJywgYXJncyk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IEFycmF5LmlzQXJyYXkocmVzdWx0c1sxXSkgPyByZXN1bHRzWzFdIDogW3Jlc3VsdHNbMV1dO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2UuZW1pdChldmVudCwgY3VycmVudCwgaG9vayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlcnZpY2UuZW1pdCgnc2VydmljZUVycm9yJywgcmVzdWx0c1swXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG52YXIgX3J1YmJlcmR1Y2sgPSByZXF1aXJlKCdydWJiZXJkdWNrJyk7XG5cbnZhciBfcnViYmVyZHVjazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ydWJiZXJkdWNrKTtcblxudmFyIF9ldmVudHMgPSByZXF1aXJlKCdldmVudHMnKTtcblxudmFyIF9mZWF0aGVyc0NvbW1vbnMgPSByZXF1aXJlKCdmZWF0aGVycy1jb21tb25zJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBob29rT2JqZWN0ID0gX2ZlYXRoZXJzQ29tbW9ucy5ob29rcy5ob29rT2JqZWN0O1xudmFyIGV2ZW50TWFwcGluZ3MgPSB7XG4gIGNyZWF0ZTogJ2NyZWF0ZWQnLFxuICB1cGRhdGU6ICd1cGRhdGVkJyxcbiAgcmVtb3ZlOiAncmVtb3ZlZCcsXG4gIHBhdGNoOiAncGF0Y2hlZCdcbn07XG5cbmZ1bmN0aW9uIHVwcGVyQ2FzZShuYW1lKSB7XG4gIHJldHVybiBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zdWJzdHJpbmcoMSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbWl4aW5zID0gW3JlcXVpcmUoJy4vcHJvbWlzZScpLCByZXF1aXJlKCcuL2V2ZW50JyksIHJlcXVpcmUoJy4vbm9ybWFsaXplcicpXTtcblxuICAvLyBPdmVycmlkZSBwdXNoIHRvIG1ha2Ugc3VyZSB0aGF0IG5vcm1hbGl6ZSBpcyBhbHdheXMgdGhlIGxhc3RcbiAgbWl4aW5zLnB1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFyZ3MgPSBbdGhpcy5sZW5ndGggLSAxLCAwXS5jb25jYXQoQXJyYXkuZnJvbShhcmd1bWVudHMpKTtcbiAgICB0aGlzLnNwbGljZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICByZXR1cm4gdGhpcy5sZW5ndGg7XG4gIH07XG5cbiAgcmV0dXJuIG1peGlucztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHNlcnZpY2UpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBpZiAodHlwZW9mIHNlcnZpY2UubWl4aW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG1peGluID0ge307XG5cbiAgICAgIF90aGlzLm1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2VydmljZVttZXRob2RdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgbWl4aW5bbWV0aG9kXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hcHBseSh0aGlzLCAoMCwgX2ZlYXRoZXJzQ29tbW9ucy5nZXRBcmd1bWVudHMpKG1ldGhvZCwgYXJndW1lbnRzKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNlcnZpY2UubWl4aW4obWl4aW4pO1xuICAgIH0pKCk7XG4gIH1cbn07XG5cbnZhciBfZmVhdGhlcnNDb21tb25zID0gcmVxdWlyZSgnZmVhdGhlcnMtY29tbW9ucycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzZXJ2aWNlKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgaWYgKHR5cGVvZiBzZXJ2aWNlLm1peGluID09PSAnZnVuY3Rpb24nKSB7XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBtaXhpbiA9IHt9O1xuXG4gICAgICBfdGhpcy5tZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICBpZiAodHlwZW9mIHNlcnZpY2VbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG1peGluW21ldGhvZF0gPSB3cmFwcGVyO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2VydmljZS5taXhpbihtaXhpbik7XG4gICAgfSkoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gaXNQcm9taXNlKHJlc3VsdCkge1xuICByZXR1cm4gdHlwZW9mIHJlc3VsdCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHJlc3VsdC50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiB3cmFwcGVyKCkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5fc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcblxuICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nICYmIGlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgcmVzdWx0LnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBkYXRhKTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnJvcik7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwidmFyIGRlZmF1bHRHZXQgPSBmdW5jdGlvbiBnZXQgKG9iamVjdCwga2V5LCBkZWYpIHtcbiAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRlZjtcbiAgfVxufVxuXG52YXIgZ2V0SW4gPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldEluIChvYmplY3QsIHBhdGgsIGRlZikge1xuICBpZiAoIUFycmF5LmlzQXJyYXkocGF0aCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgLy8gYWxyZWFkeSBlc3RhYmxpc2hlZCB0aGF0IHBhdGggaXMgPjAsIHRodXMgZW1wdHkgb2JqZWN0IGlzIHVuZXhwZWN0ZWQuXG4gIGlmICghb2JqZWN0KSB7XG4gICAgcmV0dXJuIGRlZjtcbiAgfVxuXG4gIHBhdGggPSBwYXRoLnNsaWNlKCk7XG5cbiAgdmFyIGtleSA9IHBhdGguc2hpZnQoKTtcblxuICB2YXIgZ2V0O1xuICBpZiAob2JqZWN0LmdldCkge1xuICAgIGdldCA9IG9iamVjdC5nZXQuYmluZChvYmplY3QpO1xuICB9IGVsc2Uge1xuICAgIGdldCA9IGRlZmF1bHRHZXQuYmluZChudWxsLCBvYmplY3QpO1xuICB9XG5cbiAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGdldChrZXksIGRlZik7XG4gIH1cblxuICBpZiAocGF0aC5sZW5ndGgpIHtcbiAgICByZXR1cm4gZ2V0SW4oZ2V0KGtleSwgZGVmKSwgcGF0aCk7XG4gIH1cbn1cbiIsInZhciB0b3BMZXZlbCA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDpcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHt9XG52YXIgbWluRG9jID0gcmVxdWlyZSgnbWluLWRvY3VtZW50Jyk7XG5cbmlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBkb2N1bWVudDtcbn0gZWxzZSB7XG4gICAgdmFyIGRvY2N5ID0gdG9wTGV2ZWxbJ19fR0xPQkFMX0RPQ1VNRU5UX0NBQ0hFQDQnXTtcblxuICAgIGlmICghZG9jY3kpIHtcbiAgICAgICAgZG9jY3kgPSB0b3BMZXZlbFsnX19HTE9CQUxfRE9DVU1FTlRfQ0FDSEVANCddID0gbWluRG9jO1xuICAgIH1cblxuICAgIG1vZHVsZS5leHBvcnRzID0gZG9jY3k7XG59XG4iLCJpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIG1vZHVsZS5leHBvcnRzID0gd2luZG93O1xufSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBnbG9iYWw7XG59IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKXtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHNlbGY7XG59IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0ge307XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGF0dHJpYnV0ZVRvUHJvcGVydHlcblxudmFyIHRyYW5zZm9ybSA9IHtcbiAgJ2NsYXNzJzogJ2NsYXNzTmFtZScsXG4gICdmb3InOiAnaHRtbEZvcicsXG4gICdodHRwLWVxdWl2JzogJ2h0dHBFcXVpdidcbn1cblxuZnVuY3Rpb24gYXR0cmlidXRlVG9Qcm9wZXJ0eSAoaCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhZ05hbWUsIGF0dHJzLCBjaGlsZHJlbikge1xuICAgIGZvciAodmFyIGF0dHIgaW4gYXR0cnMpIHtcbiAgICAgIGlmIChhdHRyIGluIHRyYW5zZm9ybSkge1xuICAgICAgICBhdHRyc1t0cmFuc2Zvcm1bYXR0cl1dID0gYXR0cnNbYXR0cl1cbiAgICAgICAgZGVsZXRlIGF0dHJzW2F0dHJdXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoKHRhZ05hbWUsIGF0dHJzLCBjaGlsZHJlbilcbiAgfVxufVxuIiwidmFyIGF0dHJUb1Byb3AgPSByZXF1aXJlKCdoeXBlcnNjcmlwdC1hdHRyaWJ1dGUtdG8tcHJvcGVydHknKVxuXG52YXIgVkFSID0gMCwgVEVYVCA9IDEsIE9QRU4gPSAyLCBDTE9TRSA9IDMsIEFUVFIgPSA0XG52YXIgQVRUUl9LRVkgPSA1LCBBVFRSX0tFWV9XID0gNlxudmFyIEFUVFJfVkFMVUVfVyA9IDcsIEFUVFJfVkFMVUUgPSA4XG52YXIgQVRUUl9WQUxVRV9TUSA9IDksIEFUVFJfVkFMVUVfRFEgPSAxMFxudmFyIEFUVFJfRVEgPSAxMSwgQVRUUl9CUkVBSyA9IDEyXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGgsIG9wdHMpIHtcbiAgaCA9IGF0dHJUb1Byb3AoaClcbiAgaWYgKCFvcHRzKSBvcHRzID0ge31cbiAgdmFyIGNvbmNhdCA9IG9wdHMuY29uY2F0IHx8IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIFN0cmluZyhhKSArIFN0cmluZyhiKVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChzdHJpbmdzKSB7XG4gICAgdmFyIHN0YXRlID0gVEVYVCwgcmVnID0gJydcbiAgICB2YXIgYXJnbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgIHZhciBwYXJ0cyA9IFtdXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChpIDwgYXJnbGVuIC0gMSkge1xuICAgICAgICB2YXIgYXJnID0gYXJndW1lbnRzW2krMV1cbiAgICAgICAgdmFyIHAgPSBwYXJzZShzdHJpbmdzW2ldKVxuICAgICAgICB2YXIgeHN0YXRlID0gc3RhdGVcbiAgICAgICAgaWYgKHhzdGF0ZSA9PT0gQVRUUl9WQUxVRV9EUSkgeHN0YXRlID0gQVRUUl9WQUxVRVxuICAgICAgICBpZiAoeHN0YXRlID09PSBBVFRSX1ZBTFVFX1NRKSB4c3RhdGUgPSBBVFRSX1ZBTFVFXG4gICAgICAgIGlmICh4c3RhdGUgPT09IEFUVFJfVkFMVUVfVykgeHN0YXRlID0gQVRUUl9WQUxVRVxuICAgICAgICBpZiAoeHN0YXRlID09PSBBVFRSKSB4c3RhdGUgPSBBVFRSX0tFWVxuICAgICAgICBwLnB1c2goWyBWQVIsIHhzdGF0ZSwgYXJnIF0pXG4gICAgICAgIHBhcnRzLnB1c2guYXBwbHkocGFydHMsIHApXG4gICAgICB9IGVsc2UgcGFydHMucHVzaC5hcHBseShwYXJ0cywgcGFyc2Uoc3RyaW5nc1tpXSkpXG4gICAgfVxuXG4gICAgdmFyIHRyZWUgPSBbbnVsbCx7fSxbXV1cbiAgICB2YXIgc3RhY2sgPSBbW3RyZWUsLTFdXVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjdXIgPSBzdGFja1tzdGFjay5sZW5ndGgtMV1bMF1cbiAgICAgIHZhciBwID0gcGFydHNbaV0sIHMgPSBwWzBdXG4gICAgICBpZiAocyA9PT0gT1BFTiAmJiAvXlxcLy8udGVzdChwWzFdKSkge1xuICAgICAgICB2YXIgaXggPSBzdGFja1tzdGFjay5sZW5ndGgtMV1bMV1cbiAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICAgIHN0YWNrW3N0YWNrLmxlbmd0aC0xXVswXVsyXVtpeF0gPSBoKFxuICAgICAgICAgICAgY3VyWzBdLCBjdXJbMV0sIGN1clsyXS5sZW5ndGggPyBjdXJbMl0gOiB1bmRlZmluZWRcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocyA9PT0gT1BFTikge1xuICAgICAgICB2YXIgYyA9IFtwWzFdLHt9LFtdXVxuICAgICAgICBjdXJbMl0ucHVzaChjKVxuICAgICAgICBzdGFjay5wdXNoKFtjLGN1clsyXS5sZW5ndGgtMV0pXG4gICAgICB9IGVsc2UgaWYgKHMgPT09IEFUVFJfS0VZIHx8IChzID09PSBWQVIgJiYgcFsxXSA9PT0gQVRUUl9LRVkpKSB7XG4gICAgICAgIHZhciBrZXkgPSAnJ1xuICAgICAgICB2YXIgY29weUtleVxuICAgICAgICBmb3IgKDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHBhcnRzW2ldWzBdID09PSBBVFRSX0tFWSkge1xuICAgICAgICAgICAga2V5ID0gY29uY2F0KGtleSwgcGFydHNbaV1bMV0pXG4gICAgICAgICAgfSBlbHNlIGlmIChwYXJ0c1tpXVswXSA9PT0gVkFSICYmIHBhcnRzW2ldWzFdID09PSBBVFRSX0tFWSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0c1tpXVsyXSA9PT0gJ29iamVjdCcgJiYgIWtleSkge1xuICAgICAgICAgICAgICBmb3IgKGNvcHlLZXkgaW4gcGFydHNbaV1bMl0pIHtcbiAgICAgICAgICAgICAgICBpZiAocGFydHNbaV1bMl0uaGFzT3duUHJvcGVydHkoY29weUtleSkgJiYgIWN1clsxXVtjb3B5S2V5XSkge1xuICAgICAgICAgICAgICAgICAgY3VyWzFdW2NvcHlLZXldID0gcGFydHNbaV1bMl1bY29weUtleV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGtleSA9IGNvbmNhdChrZXksIHBhcnRzW2ldWzJdKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBicmVha1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0c1tpXVswXSA9PT0gQVRUUl9FUSkgaSsrXG4gICAgICAgIHZhciBqID0gaVxuICAgICAgICBmb3IgKDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHBhcnRzW2ldWzBdID09PSBBVFRSX1ZBTFVFIHx8IHBhcnRzW2ldWzBdID09PSBBVFRSX0tFWSkge1xuICAgICAgICAgICAgaWYgKCFjdXJbMV1ba2V5XSkgY3VyWzFdW2tleV0gPSBzdHJmbihwYXJ0c1tpXVsxXSlcbiAgICAgICAgICAgIGVsc2UgY3VyWzFdW2tleV0gPSBjb25jYXQoY3VyWzFdW2tleV0sIHBhcnRzW2ldWzFdKVxuICAgICAgICAgIH0gZWxzZSBpZiAocGFydHNbaV1bMF0gPT09IFZBUlxuICAgICAgICAgICYmIChwYXJ0c1tpXVsxXSA9PT0gQVRUUl9WQUxVRSB8fCBwYXJ0c1tpXVsxXSA9PT0gQVRUUl9LRVkpKSB7XG4gICAgICAgICAgICBpZiAoIWN1clsxXVtrZXldKSBjdXJbMV1ba2V5XSA9IHN0cmZuKHBhcnRzW2ldWzJdKVxuICAgICAgICAgICAgZWxzZSBjdXJbMV1ba2V5XSA9IGNvbmNhdChjdXJbMV1ba2V5XSwgcGFydHNbaV1bMl0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChrZXkubGVuZ3RoICYmICFjdXJbMV1ba2V5XSAmJiBpID09PSBqXG4gICAgICAgICAgICAmJiAocGFydHNbaV1bMF0gPT09IENMT1NFIHx8IHBhcnRzW2ldWzBdID09PSBBVFRSX0JSRUFLKSkge1xuICAgICAgICAgICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbmZyYXN0cnVjdHVyZS5odG1sI2Jvb2xlYW4tYXR0cmlidXRlc1xuICAgICAgICAgICAgICAvLyBlbXB0eSBzdHJpbmcgaXMgZmFsc3ksIG5vdCB3ZWxsIGJlaGF2ZWQgdmFsdWUgaW4gYnJvd3NlclxuICAgICAgICAgICAgICBjdXJbMV1ba2V5XSA9IGtleS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzID09PSBBVFRSX0tFWSkge1xuICAgICAgICBjdXJbMV1bcFsxXV0gPSB0cnVlXG4gICAgICB9IGVsc2UgaWYgKHMgPT09IFZBUiAmJiBwWzFdID09PSBBVFRSX0tFWSkge1xuICAgICAgICBjdXJbMV1bcFsyXV0gPSB0cnVlXG4gICAgICB9IGVsc2UgaWYgKHMgPT09IENMT1NFKSB7XG4gICAgICAgIGlmIChzZWxmQ2xvc2luZyhjdXJbMF0pICYmIHN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBpeCA9IHN0YWNrW3N0YWNrLmxlbmd0aC0xXVsxXVxuICAgICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICAgICAgc3RhY2tbc3RhY2subGVuZ3RoLTFdWzBdWzJdW2l4XSA9IGgoXG4gICAgICAgICAgICBjdXJbMF0sIGN1clsxXSwgY3VyWzJdLmxlbmd0aCA/IGN1clsyXSA6IHVuZGVmaW5lZFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzID09PSBWQVIgJiYgcFsxXSA9PT0gVEVYVCkge1xuICAgICAgICBpZiAocFsyXSA9PT0gdW5kZWZpbmVkIHx8IHBbMl0gPT09IG51bGwpIHBbMl0gPSAnJ1xuICAgICAgICBlbHNlIGlmICghcFsyXSkgcFsyXSA9IGNvbmNhdCgnJywgcFsyXSlcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocFsyXVswXSkpIHtcbiAgICAgICAgICBjdXJbMl0ucHVzaC5hcHBseShjdXJbMl0sIHBbMl0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VyWzJdLnB1c2gocFsyXSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzID09PSBURVhUKSB7XG4gICAgICAgIGN1clsyXS5wdXNoKHBbMV0pXG4gICAgICB9IGVsc2UgaWYgKHMgPT09IEFUVFJfRVEgfHwgcyA9PT0gQVRUUl9CUkVBSykge1xuICAgICAgICAvLyBuby1vcFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmhhbmRsZWQ6ICcgKyBzKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0cmVlWzJdLmxlbmd0aCA+IDEgJiYgL15cXHMqJC8udGVzdCh0cmVlWzJdWzBdKSkge1xuICAgICAgdHJlZVsyXS5zaGlmdCgpXG4gICAgfVxuXG4gICAgaWYgKHRyZWVbMl0ubGVuZ3RoID4gMlxuICAgIHx8ICh0cmVlWzJdLmxlbmd0aCA9PT0gMiAmJiAvXFxTLy50ZXN0KHRyZWVbMl1bMV0pKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnbXVsdGlwbGUgcm9vdCBlbGVtZW50cyBtdXN0IGJlIHdyYXBwZWQgaW4gYW4gZW5jbG9zaW5nIHRhZydcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJlZVsyXVswXSkgJiYgdHlwZW9mIHRyZWVbMl1bMF1bMF0gPT09ICdzdHJpbmcnXG4gICAgJiYgQXJyYXkuaXNBcnJheSh0cmVlWzJdWzBdWzJdKSkge1xuICAgICAgdHJlZVsyXVswXSA9IGgodHJlZVsyXVswXVswXSwgdHJlZVsyXVswXVsxXSwgdHJlZVsyXVswXVsyXSlcbiAgICB9XG4gICAgcmV0dXJuIHRyZWVbMl1bMF1cblxuICAgIGZ1bmN0aW9uIHBhcnNlIChzdHIpIHtcbiAgICAgIHZhciByZXMgPSBbXVxuICAgICAgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFX1cpIHN0YXRlID0gQVRUUlxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGMgPSBzdHIuY2hhckF0KGkpXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gVEVYVCAmJiBjID09PSAnPCcpIHtcbiAgICAgICAgICBpZiAocmVnLmxlbmd0aCkgcmVzLnB1c2goW1RFWFQsIHJlZ10pXG4gICAgICAgICAgcmVnID0gJydcbiAgICAgICAgICBzdGF0ZSA9IE9QRU5cbiAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPicgJiYgIXF1b3Qoc3RhdGUpKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBPUEVOKSB7XG4gICAgICAgICAgICByZXMucHVzaChbT1BFTixyZWddKVxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfS0VZKSB7XG4gICAgICAgICAgICByZXMucHVzaChbQVRUUl9LRVkscmVnXSlcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFICYmIHJlZy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKFtBVFRSX1ZBTFVFLHJlZ10pXG4gICAgICAgICAgfVxuICAgICAgICAgIHJlcy5wdXNoKFtDTE9TRV0pXG4gICAgICAgICAgcmVnID0gJydcbiAgICAgICAgICBzdGF0ZSA9IFRFWFRcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gVEVYVCkge1xuICAgICAgICAgIHJlZyArPSBjXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IE9QRU4gJiYgL1xccy8udGVzdChjKSkge1xuICAgICAgICAgIHJlcy5wdXNoKFtPUEVOLCByZWddKVxuICAgICAgICAgIHJlZyA9ICcnXG4gICAgICAgICAgc3RhdGUgPSBBVFRSXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IE9QRU4pIHtcbiAgICAgICAgICByZWcgKz0gY1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSICYmIC9bXFx3LV0vLnRlc3QoYykpIHtcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJfS0VZXG4gICAgICAgICAgcmVnID0gY1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSICYmIC9cXHMvLnRlc3QoYykpIHtcbiAgICAgICAgICBpZiAocmVnLmxlbmd0aCkgcmVzLnB1c2goW0FUVFJfS0VZLHJlZ10pXG4gICAgICAgICAgcmVzLnB1c2goW0FUVFJfQlJFQUtdKVxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX0tFWSAmJiAvXFxzLy50ZXN0KGMpKSB7XG4gICAgICAgICAgcmVzLnB1c2goW0FUVFJfS0VZLHJlZ10pXG4gICAgICAgICAgcmVnID0gJydcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJfS0VZX1dcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9LRVkgJiYgYyA9PT0gJz0nKSB7XG4gICAgICAgICAgcmVzLnB1c2goW0FUVFJfS0VZLHJlZ10sW0FUVFJfRVFdKVxuICAgICAgICAgIHJlZyA9ICcnXG4gICAgICAgICAgc3RhdGUgPSBBVFRSX1ZBTFVFX1dcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9LRVkpIHtcbiAgICAgICAgICByZWcgKz0gY1xuICAgICAgICB9IGVsc2UgaWYgKChzdGF0ZSA9PT0gQVRUUl9LRVlfVyB8fCBzdGF0ZSA9PT0gQVRUUikgJiYgYyA9PT0gJz0nKSB7XG4gICAgICAgICAgcmVzLnB1c2goW0FUVFJfRVFdKVxuICAgICAgICAgIHN0YXRlID0gQVRUUl9WQUxVRV9XXG4gICAgICAgIH0gZWxzZSBpZiAoKHN0YXRlID09PSBBVFRSX0tFWV9XIHx8IHN0YXRlID09PSBBVFRSKSAmJiAhL1xccy8udGVzdChjKSkge1xuICAgICAgICAgIHJlcy5wdXNoKFtBVFRSX0JSRUFLXSlcbiAgICAgICAgICBpZiAoL1tcXHctXS8udGVzdChjKSkge1xuICAgICAgICAgICAgcmVnICs9IGNcbiAgICAgICAgICAgIHN0YXRlID0gQVRUUl9LRVlcbiAgICAgICAgICB9IGVsc2Ugc3RhdGUgPSBBVFRSXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUVfVyAmJiBjID09PSAnXCInKSB7XG4gICAgICAgICAgc3RhdGUgPSBBVFRSX1ZBTFVFX0RRXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUVfVyAmJiBjID09PSBcIidcIikge1xuICAgICAgICAgIHN0YXRlID0gQVRUUl9WQUxVRV9TUVxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFX0RRICYmIGMgPT09ICdcIicpIHtcbiAgICAgICAgICByZXMucHVzaChbQVRUUl9WQUxVRSxyZWddLFtBVFRSX0JSRUFLXSlcbiAgICAgICAgICByZWcgPSAnJ1xuICAgICAgICAgIHN0YXRlID0gQVRUUlxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFX1NRICYmIGMgPT09IFwiJ1wiKSB7XG4gICAgICAgICAgcmVzLnB1c2goW0FUVFJfVkFMVUUscmVnXSxbQVRUUl9CUkVBS10pXG4gICAgICAgICAgcmVnID0gJydcbiAgICAgICAgICBzdGF0ZSA9IEFUVFJcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRV9XICYmICEvXFxzLy50ZXN0KGMpKSB7XG4gICAgICAgICAgc3RhdGUgPSBBVFRSX1ZBTFVFXG4gICAgICAgICAgaS0tXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUUgJiYgL1xccy8udGVzdChjKSkge1xuICAgICAgICAgIHJlcy5wdXNoKFtBVFRSX1ZBTFVFLHJlZ10sW0FUVFJfQlJFQUtdKVxuICAgICAgICAgIHJlZyA9ICcnXG4gICAgICAgICAgc3RhdGUgPSBBVFRSXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUUgfHwgc3RhdGUgPT09IEFUVFJfVkFMVUVfU1FcbiAgICAgICAgfHwgc3RhdGUgPT09IEFUVFJfVkFMVUVfRFEpIHtcbiAgICAgICAgICByZWcgKz0gY1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUgPT09IFRFWFQgJiYgcmVnLmxlbmd0aCkge1xuICAgICAgICByZXMucHVzaChbVEVYVCxyZWddKVxuICAgICAgICByZWcgPSAnJ1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9WQUxVRSAmJiByZWcubGVuZ3RoKSB7XG4gICAgICAgIHJlcy5wdXNoKFtBVFRSX1ZBTFVFLHJlZ10pXG4gICAgICAgIHJlZyA9ICcnXG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBBVFRSX1ZBTFVFX0RRICYmIHJlZy5sZW5ndGgpIHtcbiAgICAgICAgcmVzLnB1c2goW0FUVFJfVkFMVUUscmVnXSlcbiAgICAgICAgcmVnID0gJydcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEFUVFJfVkFMVUVfU1EgJiYgcmVnLmxlbmd0aCkge1xuICAgICAgICByZXMucHVzaChbQVRUUl9WQUxVRSxyZWddKVxuICAgICAgICByZWcgPSAnJ1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gQVRUUl9LRVkpIHtcbiAgICAgICAgcmVzLnB1c2goW0FUVFJfS0VZLHJlZ10pXG4gICAgICAgIHJlZyA9ICcnXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RyZm4gKHgpIHtcbiAgICBpZiAodHlwZW9mIHggPT09ICdmdW5jdGlvbicpIHJldHVybiB4XG4gICAgZWxzZSBpZiAodHlwZW9mIHggPT09ICdzdHJpbmcnKSByZXR1cm4geFxuICAgIGVsc2UgaWYgKHggJiYgdHlwZW9mIHggPT09ICdvYmplY3QnKSByZXR1cm4geFxuICAgIGVsc2UgcmV0dXJuIGNvbmNhdCgnJywgeClcbiAgfVxufVxuXG5mdW5jdGlvbiBxdW90IChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUgPT09IEFUVFJfVkFMVUVfU1EgfHwgc3RhdGUgPT09IEFUVFJfVkFMVUVfRFFcbn1cblxudmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbmZ1bmN0aW9uIGhhcyAob2JqLCBrZXkpIHsgcmV0dXJuIGhhc093bi5jYWxsKG9iaiwga2V5KSB9XG5cbnZhciBjbG9zZVJFID0gUmVnRXhwKCdeKCcgKyBbXG4gICdhcmVhJywgJ2Jhc2UnLCAnYmFzZWZvbnQnLCAnYmdzb3VuZCcsICdicicsICdjb2wnLCAnY29tbWFuZCcsICdlbWJlZCcsXG4gICdmcmFtZScsICdocicsICdpbWcnLCAnaW5wdXQnLCAnaXNpbmRleCcsICdrZXlnZW4nLCAnbGluaycsICdtZXRhJywgJ3BhcmFtJyxcbiAgJ3NvdXJjZScsICd0cmFjaycsICd3YnInLFxuICAvLyBTVkcgVEFHU1xuICAnYW5pbWF0ZScsICdhbmltYXRlVHJhbnNmb3JtJywgJ2NpcmNsZScsICdjdXJzb3InLCAnZGVzYycsICdlbGxpcHNlJyxcbiAgJ2ZlQmxlbmQnLCAnZmVDb2xvck1hdHJpeCcsICdmZUNvbXBvbmVudFRyYW5zZmVyJywgJ2ZlQ29tcG9zaXRlJyxcbiAgJ2ZlQ29udm9sdmVNYXRyaXgnLCAnZmVEaWZmdXNlTGlnaHRpbmcnLCAnZmVEaXNwbGFjZW1lbnRNYXAnLFxuICAnZmVEaXN0YW50TGlnaHQnLCAnZmVGbG9vZCcsICdmZUZ1bmNBJywgJ2ZlRnVuY0InLCAnZmVGdW5jRycsICdmZUZ1bmNSJyxcbiAgJ2ZlR2F1c3NpYW5CbHVyJywgJ2ZlSW1hZ2UnLCAnZmVNZXJnZU5vZGUnLCAnZmVNb3JwaG9sb2d5JyxcbiAgJ2ZlT2Zmc2V0JywgJ2ZlUG9pbnRMaWdodCcsICdmZVNwZWN1bGFyTGlnaHRpbmcnLCAnZmVTcG90TGlnaHQnLCAnZmVUaWxlJyxcbiAgJ2ZlVHVyYnVsZW5jZScsICdmb250LWZhY2UtZm9ybWF0JywgJ2ZvbnQtZmFjZS1uYW1lJywgJ2ZvbnQtZmFjZS11cmknLFxuICAnZ2x5cGgnLCAnZ2x5cGhSZWYnLCAnaGtlcm4nLCAnaW1hZ2UnLCAnbGluZScsICdtaXNzaW5nLWdseXBoJywgJ21wYXRoJyxcbiAgJ3BhdGgnLCAncG9seWdvbicsICdwb2x5bGluZScsICdyZWN0JywgJ3NldCcsICdzdG9wJywgJ3RyZWYnLCAndXNlJywgJ3ZpZXcnLFxuICAndmtlcm4nXG5dLmpvaW4oJ3wnKSArICcpKD86W1xcLiNdW2EtekEtWjAtOVxcdTAwN0YtXFx1RkZGRl86LV0rKSokJylcbmZ1bmN0aW9uIHNlbGZDbG9zaW5nICh0YWcpIHsgcmV0dXJuIGNsb3NlUkUudGVzdCh0YWcpIH1cbiIsInZhciBleHRlbmQgPSByZXF1aXJlKCd4dGVuZCcpXG52YXIgZW1wdHkgPSByZXF1aXJlKCdwdWxsLXN0cmVhbS9zb3VyY2VzL2VtcHR5JylcbnZhciBtYW55ID0gcmVxdWlyZSgncHVsbC1tYW55JylcblxubW9kdWxlLmV4cG9ydHMgPSBpbnVNdWx0aVxuXG5mdW5jdGlvbiBpbnVNdWx0aSAoYXBwKSB7XG4gIGlmICghYXBwLnJ1bikgcmV0dXJuIGFwcFxuXG4gIHJldHVybiBleHRlbmQoYXBwLCB7XG4gICAgcnVuOiBmdW5jdGlvbiBydW5NdWx0aSAoZWZmZWN0LCBzb3VyY2VzKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlZmZlY3QpKSB7XG4gICAgICAgIHJldHVybiBtYW55KGVmZmVjdC5tYXAoZnVuY3Rpb24gcnVuRWZmZWN0IChlZmYpIHtcbiAgICAgICAgICByZXR1cm4gYXBwLnJ1bihlZmYsIHNvdXJjZXMpIHx8IGVtcHR5KClcbiAgICAgICAgfSkpXG4gICAgICB9XG4gICAgICByZXR1cm4gYXBwLnJ1bihlZmZlY3QsIHNvdXJjZXMpXG4gICAgfVxuICB9KVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGluaXQ6IGluaXQsXG4gIHVwZGF0ZTogdXBkYXRlLFxuICB2aWV3OiB2aWV3LFxuICBydW46IHJ1blxufVxuXG5mdW5jdGlvbiBpbml0ICgpIHsgcmV0dXJuIHsgbW9kZWw6IG51bGwgfSB9XG5mdW5jdGlvbiB1cGRhdGUgKG1vZGVsKSB7IHJldHVybiB7IG1vZGVsOiBtb2RlbCB9IH1cbmZ1bmN0aW9uIHZpZXcgKCkgeyByZXR1cm4gbnVsbCB9XG5mdW5jdGlvbiBydW4gKCkgeyByZXR1cm4gbnVsbCB9XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ3lvLXlvJylcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBkZWZhdWx0czogcmVxdWlyZSgnLi9kZWZhdWx0cycpLFxuICBzdGFydDogcmVxdWlyZSgnLi9zdGFydCcpLFxuICBwdWxsOiByZXF1aXJlKCcuL3B1bGwnKSxcbiAgaHRtbDogcmVxdWlyZSgnLi9odG1sJylcbiAgLy8gY3NzOiByZXF1aXJlKCdzaGVldGlmeScpLCA/XG4gIC8vIHJvdXRlcjogcmVxdWlyZSgnc2hlZXQtcm91dGVyJyksID9cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgncHVsbC1zdHJlYW0nKVxuIiwidmFyIGRlZmluZWQgPSByZXF1aXJlKCdkZWZpbmVkJylcbnZhciBwdWxsID0gcmVxdWlyZSgncHVsbC1zdHJlYW0vcHVsbCcpXG52YXIgdmFsdWVzID0gcmVxdWlyZSgncHVsbC1zdHJlYW0vc291cmNlcy92YWx1ZXMnKVxudmFyIG1hcCA9IHJlcXVpcmUoJ3B1bGwtc3RyZWFtL3Rocm91Z2hzL21hcCcpXG52YXIgZmlsdGVyID0gcmVxdWlyZSgncHVsbC1zdHJlYW0vdGhyb3VnaHMvZmlsdGVyJylcbnZhciBkcmFpbiA9IHJlcXVpcmUoJ3B1bGwtc3RyZWFtL3NpbmtzL2RyYWluJylcbnZhciBub3RpZnkgPSByZXF1aXJlKCdwdWxsLW5vdGlmeScpXG52YXIgY2F0ID0gcmVxdWlyZSgncHVsbC1jYXQnKVxuXG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJylcblxubW9kdWxlLmV4cG9ydHMgPSBzdGFydFxuXG4vKlxuICDilIzilIDilIDilIDilIDilIDilIAgZWZmZWN0QWN0aW9uc1NvdXJjZXMg4peA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIOKWvCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuYWN0aW9ucyDilIDilrYgc3RhdGVzIOKUgOKWtiBlZmZlY3RzIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICDilrIgICAgICAgICAgfFxuICB8ICAgICAgICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKWtiBtb2RlbHMg4pSA4pa2IHZpZXdzIOKUgOKUkFxuICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCAgZGlzcGF0Y2gg4peA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4qL1xuXG5mdW5jdGlvbiBzdGFydCAoYXBwKSB7XG4gIGFwcCA9IGRlZmluZWQoYXBwLCB7fSlcblxuICB2YXIgaW5pdCA9IGRlZmluZWQoYXBwLmluaXQsIGRlZmF1bHRzLmluaXQpXG4gIHZhciB1cGRhdGUgPSBkZWZpbmVkKGFwcC51cGRhdGUsIGRlZmF1bHRzLnVwZGF0ZSlcbiAgdmFyIHZpZXcgPSBkZWZpbmVkKGFwcC52aWV3LCBkZWZhdWx0cy52aWV3KVxuICB2YXIgcnVuID0gZGVmaW5lZChhcHAucnVuLCBkZWZhdWx0cy5ydW4pXG5cbiAgdmFyIGFjdGlvbnMgPSBub3RpZnkoKVxuXG4gIGZ1bmN0aW9uIGRpc3BhdGNoIChuZXh0QWN0aW9uKSB7XG4gICAgYWN0aW9ucyhuZXh0QWN0aW9uKVxuICB9XG5cbiAgdmFyIGluaXRpYWxTdGF0ZSA9IGluaXQuY2FsbChhcHApXG4gIHZhciBzdGF0ZXMgPSBub3RpZnkoKVxuICBwdWxsKFxuICAgIGFjdGlvbnMubGlzdGVuKCksXG4gICAgc2Nhbihpbml0aWFsU3RhdGUsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICByZXR1cm4gdXBkYXRlLmNhbGwoYXBwLCBzdGF0ZS5tb2RlbCwgYWN0aW9uKVxuICAgIH0pLFxuICAgIGRyYWluKHN0YXRlcylcbiAgKVxuXG4gIHZhciBtb2RlbHMgPSBub3RpZnkoKVxuICBwdWxsKFxuICAgIHN0YXRlcy5saXN0ZW4oKSxcbiAgICBtYXAoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICByZXR1cm4gc3RhdGUubW9kZWxcbiAgICB9KSxcbiAgICBkaWZmZXJlbmNlKCksXG4gICAgZHJhaW4obW9kZWxzKVxuICApXG5cbiAgdmFyIHZpZXdzID0gbm90aWZ5KClcbiAgcHVsbChcbiAgICBtb2RlbHMubGlzdGVuKCksXG4gICAgbWFwKGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgcmV0dXJuIHZpZXcuY2FsbChhcHAsIG1vZGVsLCBkaXNwYXRjaClcbiAgICB9KSxcbiAgICBmaWx0ZXIoaXNOb3ROaWwpLFxuICAgIGRyYWluKHZpZXdzKVxuICApXG5cbiAgdmFyIGVmZmVjdHMgPSBub3RpZnkoKVxuICBwdWxsKFxuICAgIHN0YXRlcy5saXN0ZW4oKSxcbiAgICBtYXAoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICByZXR1cm4gc3RhdGUuZWZmZWN0XG4gICAgfSksXG4gICAgZmlsdGVyKGlzTm90TmlsKSxcbiAgICBkcmFpbihlZmZlY3RzKVxuICApXG5cbiAgdmFyIGVmZmVjdEFjdGlvbnNTb3VyY2VzID0gbm90aWZ5KClcblxuICB2YXIgbm90aWZ5cyA9IHtcbiAgICBhY3Rpb25zOiBhY3Rpb25zLFxuICAgIHN0YXRlczogc3RhdGVzLFxuICAgIG1vZGVsczogbW9kZWxzLFxuICAgIHZpZXdzOiB2aWV3cyxcbiAgICBlZmZlY3RzOiBlZmZlY3RzLFxuICAgIGVmZmVjdEFjdGlvbnNTb3VyY2VzOiBlZmZlY3RBY3Rpb25zU291cmNlc1xuICB9XG5cbiAgdmFyIHNvdXJjZXMgPSB7fVxuICBPYmplY3Qua2V5cyhub3RpZnlzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIGxpc3RlbiA9IG5vdGlmeXNbbmFtZV0ubGlzdGVuXG4gICAgc291cmNlc1tuYW1lXSA9IChcbiAgICAgIFsnc3RhdGVzJywgJ21vZGVscycsICdlZmZlY3RzJywgJ3ZpZXdzJ10uaW5kZXhPZihuYW1lKSAhPT0gLTFcbiAgICApID8gcmVwbGF5TGFzdFZhbHVlKGxpc3RlbikgOiBsaXN0ZW5cbiAgfSlcblxuICBwdWxsKFxuICAgIGVmZmVjdHMubGlzdGVuKCksXG4gICAgbWFwKGZ1bmN0aW9uIChlZmZlY3QpIHtcbiAgICAgIHJldHVybiBydW4uY2FsbChhcHAsIGVmZmVjdCwgc291cmNlcylcbiAgICB9KSxcbiAgICBmaWx0ZXIoaXNOb3ROaWwpLFxuICAgIGRyYWluKGVmZmVjdEFjdGlvbnNTb3VyY2VzKVxuICApXG5cbiAgcHVsbChcbiAgICBlZmZlY3RBY3Rpb25zU291cmNlcy5saXN0ZW4oKSxcbiAgICBkcmFpbk1hbnkoYWN0aW9ucylcbiAgKVxuXG4gIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgIHN0YXRlcyhpbml0aWFsU3RhdGUpXG4gIH0pXG5cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHNvdXJjZXMsIHsgc3RvcDogc3RvcCB9KVxuXG4gIGZ1bmN0aW9uIHN0b3AgKCkge1xuICAgIE9iamVjdC5rZXlzKG5vdGlmeXMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIG5vdGlmeXNbbmFtZV0uZW5kKClcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzTm90TmlsICh4KSB7IHJldHVybiB4ICE9IG51bGwgfVxuXG4vLyBUT0RPIGV4dHJhY3Qgb3V0IGludG8gYHB1bGwtc2NhbmBcbmZ1bmN0aW9uIHNjYW4gKHZhbHVlLCBhY2N1bXVsYXRvcikge1xuICByZXR1cm4gbWFwKGZ1bmN0aW9uIHVwZGF0ZSAobmV4dFZhbHVlKSB7XG4gICAgdmFsdWUgPSBhY2N1bXVsYXRvcih2YWx1ZSwgbmV4dFZhbHVlKVxuICAgIHJldHVybiB2YWx1ZVxuICB9KVxufVxuXG4vLyBUT0RPIGV4dHJhY3Qgb3V0IGludG8gYHB1bGwtZGlmZmVyZW5jZWBcbmZ1bmN0aW9uIGRpZmZlcmVuY2UgKCkge1xuICB2YXIgbGFzdFZhbHVlXG4gIHJldHVybiBmaWx0ZXIoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIGNvbmRpdGlvbiA9IHZhbHVlICE9PSBsYXN0VmFsdWVcbiAgICBsYXN0VmFsdWUgPSB2YWx1ZVxuICAgIHJldHVybiBjb25kaXRpb25cbiAgfSlcbn1cblxuLy8gVE9ETyBleHRyYWN0IG91dCBpbnRvIGBwdWxsLWRyYWluLW1hbnlgID9cbmZ1bmN0aW9uIGRyYWluTWFueSAoY2IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICBwdWxsKFxuICAgICAgc291cmNlLFxuICAgICAgZHJhaW4oZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgICBwdWxsKFxuICAgICAgICAgIHN0cmVhbSxcbiAgICAgICAgICBkcmFpbihjYilcbiAgICAgICAgKVxuICAgICAgfSlcbiAgICApXG4gIH1cbn1cblxuZnVuY3Rpb24gcmVwbGF5TGFzdFZhbHVlIChsaXN0ZW4pIHtcbiAgdmFyIGxhc3RWYWx1ZVxuICBwdWxsKFxuICAgIGxpc3RlbigpLFxuICAgIGRyYWluKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgbGFzdFZhbHVlID0gdmFsdWVcbiAgICB9KVxuICApXG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGxpc3RlbldpdGhMYXN0VmFsdWUgKCkge1xuICAgIHJldHVybiBjYXQoW1xuICAgICAgbGFzdFZhbHVlID09IG51bGwgPyB1bmRlZmluZWQgOiB2YWx1ZXMoW2xhc3RWYWx1ZV0pLFxuICAgICAgbGlzdGVuKClcbiAgICBdKVxuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZXZlbnQnKVxuIiwiY29uc3QgaHJlZiA9IHJlcXVpcmUoJy4vaHJlZicpXG5jb25zdCBydW4gPSByZXF1aXJlKCcuL3J1bicpLmFwcFxuY29uc3Qgcm91dGUgPSByZXF1aXJlKCcuL3JvdXRlJylcbmNvbnN0IGNvbWJpbmUgPSByZXF1aXJlKCcuL2NvbWJpbmUnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFwcFxuXG5mdW5jdGlvbiBBcHAgKGFwcHMpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFwcHMpKSBhcHBzID0gW2FwcHNdXG5cbiAgLy8gaGFuZGxlIHJ1biBhY3Rpb24gdG8gdHJpZ2dlciBlZmZlY3RcbiAgYXBwcy51bnNoaWZ0KHJ1bilcblxuICAvLyBoYW5kbGUgaHJlZiBzdGF0ZVxuICBhcHBzLnB1c2goaHJlZilcblxuICByZXR1cm4gcm91dGUoY29tYmluZShhcHBzKSwgKHJvdXRlcikgPT4ge1xuICAgIHJldHVybiAobW9kZWwsIGRpc3BhdGNoKSA9PiB7XG4gICAgICByZXR1cm4gcm91dGVyKG1vZGVsLmhyZWYsIG1vZGVsLCBkaXNwYXRjaClcbiAgICB9XG4gIH0pXG59XG4iLCJjb25zdCBleHRlbmQgPSByZXF1aXJlKCd4dGVuZCcpXG5jb25zdCBnZXRJbiA9IHJlcXVpcmUoJ2dldC1pbicpXG5jb25zdCBkZWZhdWx0cyA9IHJlcXVpcmUoJ2ludS9kZWZhdWx0cycpXG5jb25zdCBtdWx0aSA9IHJlcXVpcmUoJ2ludS1tdWx0aScpXG5cbmNvbnN0IHJlZHVjZVVwZGF0ZXMgPSByZXF1aXJlKCcuL3JlZHVjZVVwZGF0ZXMnKVxuY29uc3QgcnVuTWFueSA9IHJlcXVpcmUoJy4vcnVuTWFueScpXG5jb25zdCBzY29wZVVwZGF0ZSA9IHJlcXVpcmUoJy4vc2NvcGVVcGRhdGUnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbWJpbmVBcHBzXG5cbmZ1bmN0aW9uIGNvbWJpbmVBcHBzIChhcHBzKSB7XG4gIHJldHVybiBtdWx0aSh7XG4gICAgaW5pdDogY29tYmluZUluaXRzKGFwcHMpLFxuICAgIHVwZGF0ZTogY29tYmluZVVwZGF0ZXMoYXBwcyksXG4gICAgcnVuOiBjb21iaW5lUnVucyhhcHBzKSxcbiAgICByb3V0ZXM6IGNvbWJpbmVSb3V0ZXMoYXBwcylcbiAgfSlcbn1cblxuZnVuY3Rpb24gY29tYmluZUluaXRzIChhcHBzKSB7XG4gIHJldHVybiBmdW5jdGlvbiBjb21iaW5lZEluaXQgKCkge1xuICAgIHJldHVybiBhcHBzLnJlZHVjZSgoc3RhdGUsIGFwcCkgPT4ge1xuICAgICAgaWYgKCFhcHAuaW5pdCkgcmV0dXJuIHN0YXRlXG4gICAgICBjb25zdCBuZXh0U3RhdGUgPSBhcHAuaW5pdCgpXG4gICAgICBjb25zdCBuZXh0TW9kZWwgPSBleHRlbmQoXG4gICAgICAgIHN0YXRlLm1vZGVsLFxuICAgICAgICBhcHAubmFtZVxuICAgICAgICAgID8geyBbYXBwLm5hbWVdOiBuZXh0U3RhdGUubW9kZWwgfVxuICAgICAgICAgIDogbmV4dFN0YXRlLm1vZGVsXG4gICAgICApXG4gICAgICBjb25zdCBuZXh0RWZmZWN0ID0gbmV4dFN0YXRlLmVmZmVjdFxuICAgICAgICA/IHN0YXRlLmVmZmVjdC5jb25jYXQoW25leHRTdGF0ZS5lZmZlY3RdKVxuICAgICAgICA6IHN0YXRlLmVmZmVjdFxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBtb2RlbDogbmV4dE1vZGVsLFxuICAgICAgICBlZmZlY3Q6IG5leHRFZmZlY3RcbiAgICAgIH1cbiAgICB9LCB7IG1vZGVsOiB7fSwgZWZmZWN0OiBbXSB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbWJpbmVVcGRhdGVzIChhcHBzKSB7XG4gIGNvbnN0IHNjb3BlZCA9IGFwcHMubWFwKGFwcCA9PiB7XG4gICAgaWYgKCFhcHAudXBkYXRlKSByZXR1cm4gZGVmYXVsdHMudXBkYXRlXG4gICAgcmV0dXJuIGFwcC5uYW1lXG4gICAgICA/IHNjb3BlVXBkYXRlKGFwcC51cGRhdGUsIGFwcC5uYW1lKVxuICAgICAgOiBhcHAudXBkYXRlXG4gIH0pXG5cbiAgcmV0dXJuIHJlZHVjZVVwZGF0ZXMoc2NvcGVkKVxufVxuXG5mdW5jdGlvbiBmaW5kVG9wVmlldyAoYXBwcykge1xuICBjb25zdCBhcHAgPSBhcHBzLmZpbmQoYXBwID0+XG4gICAgIWFwcC5uYW1lICYmIGFwcC52aWV3XG4gIClcbiAgcmV0dXJuIChhcHAgfHwge30pLnZpZXdcbn1cblxuZnVuY3Rpb24gY29tYmluZVJ1bnMgKGFwcHMpIHtcbiAgcmV0dXJuIHJ1bk1hbnkoYXBwcy5tYXAoYXBwID0+IGFwcC5ydW4pKVxufVxuXG5mdW5jdGlvbiBjb21iaW5lUm91dGVzIChhcHBzKSB7XG4gIHJldHVybiBhcHBzLnJlZHVjZShcbiAgICAoc29mYXIsIGFwcCkgPT4ge1xuICAgICAgY29uc3Qgcm91dGVzID0gYXBwLnJvdXRlc1xuICAgICAgcmV0dXJuIHJvdXRlc1xuICAgICAgICA/IHNvZmFyLmNvbmNhdChyb3V0ZXMpXG4gICAgICAgIDogc29mYXJcbiAgICB9LFxuICAgIFtdXG4gIClcbn1cbiIsImNvbnN0IGV4dGVuZCA9IHJlcXVpcmUoJ3h0ZW5kJylcblxuY29uc3QgaGFuZGxlQWN0aW9ucyA9IHJlcXVpcmUoJy4vaGFuZGxlQWN0aW9ucycpXG5jb25zdCBoYW5kbGVFZmZlY3RzID0gcmVxdWlyZSgnLi9oYW5kbGVFZmZlY3RzJylcblxubW9kdWxlLmV4cG9ydHMgPSBEb21haW5cblxuZnVuY3Rpb24gRG9tYWluIChkb21haW4pIHtcbiAgcmV0dXJuIGV4dGVuZChkb21haW4sIHtcbiAgICB1cGRhdGU6IHR5cGVvZiBkb21haW4udXBkYXRlID09PSAnb2JqZWN0J1xuICAgICAgPyBoYW5kbGVBY3Rpb25zKGRvbWFpbi51cGRhdGUpXG4gICAgICA6IGRvbWFpbi51cGRhdGVcbiAgICAsXG4gICAgcnVuOiB0eXBlb2YgZG9tYWluLnJ1biA9PT0gJ29iamVjdCdcbiAgICAgID8gaGFuZGxlRWZmZWN0cyhkb21haW4ucnVuKVxuICAgICAgOiBkb21haW4ucnVuXG4gIH0pXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZXZlbnQnKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBFdmVudFxuXG5mdW5jdGlvbiBFdmVudCAodHlwZSwgcGF5bG9hZENyZWF0b3IgPSBpZGVudGl0eSkge1xuICByZXR1cm4gKC4uLmFyZ3MpID0+ICh7XG4gICAgdHlwZSxcbiAgICBwYXlsb2FkOiBwYXlsb2FkQ3JlYXRvciguLi5hcmdzKVxuICB9KVxufVxuXG5mdW5jdGlvbiBpZGVudGl0eSAocGF5bG9hZCkgeyByZXR1cm4gcGF5bG9hZCB9XG4iLCJjb25zdCBrZXlzID0gcmVxdWlyZSgnb3duLWVudW1lcmFibGUta2V5cycpXG5cbmNvbnN0IHJlZHVjZVVwZGF0ZXMgPSByZXF1aXJlKCcuL3JlZHVjZVVwZGF0ZXMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhbmRsZUFjdGlvbnNcblxuZnVuY3Rpb24gaGFuZGxlQWN0aW9ucyAoYWN0aW9uSGFuZGxlcnMpIHtcbiAgY29uc3QgdXBkYXRlcyA9IFxuICBrZXlzKGFjdGlvbkhhbmRsZXJzKS5tYXAoKGFjdGlvblR5cGUpID0+IHtcbiAgICBjb25zdCB1cGRhdGUgPSBhY3Rpb25IYW5kbGVyc1thY3Rpb25UeXBlXVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtb2RlbCwgYWN0aW9uKSB7XG4gICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvblR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZShtb2RlbCwgYWN0aW9uLnBheWxvYWQpXG4gICAgICB9XG4gICAgICByZXR1cm4geyBtb2RlbCB9XG4gICAgfVxuICB9KVxuXG4gIHJldHVybiByZWR1Y2VVcGRhdGVzKHVwZGF0ZXMpXG59XG4iLCJjb25zdCBrZXlzID0gcmVxdWlyZSgnb3duLWVudW1lcmFibGUta2V5cycpXG5cbmNvbnN0IHJ1bk1hbnkgPSByZXF1aXJlKCcuL3J1bk1hbnknKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhbmRsZUVmZmVjdHNcblxuZnVuY3Rpb24gaGFuZGxlRWZmZWN0cyAoZWZmZWN0SGFuZGxlcnMpIHtcbiAgY29uc3QgcnVucyA9IFxuICBrZXlzKGVmZmVjdEhhbmRsZXJzKS5tYXAoKGVmZmVjdFR5cGUpID0+IHtcbiAgICBjb25zdCBydW4gPSBlZmZlY3RIYW5kbGVyc1tlZmZlY3RUeXBlXVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlZmZlY3QsIHNvdXJjZXMpIHtcbiAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gZWZmZWN0VHlwZSkge1xuICAgICAgICByZXR1cm4gcnVuKGVmZmVjdC5wYXlsb2FkLCBzb3VyY2VzKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gcnVuTWFueShydW5zKVxufVxuIiwiY29uc3QgcHVsbCA9IHJlcXVpcmUoJ3B1bGwtc3RyZWFtJylcbmNvbnN0IGhyZWYgPSByZXF1aXJlKCdzaGVldC1yb3V0ZXIvaHJlZicpXG5jb25zdCBoaXN0b3J5ID0gcmVxdWlyZSgnc2hlZXQtcm91dGVyL2hpc3RvcnknKVxuY29uc3QgUHVzaGFibGUgPSByZXF1aXJlKCdwdWxsLXB1c2hhYmxlJylcblxuY29uc3QgRG9tYWluID0gcmVxdWlyZSgnLi9kb21haW4nKVxuY29uc3QgQWN0aW9uID0gcmVxdWlyZSgnLi9hY3Rpb24nKVxuY29uc3QgRWZmZWN0ID0gcmVxdWlyZSgnLi9lZmZlY3QnKVxuXG5cbmNvbnN0IFNFVCA9IFN5bWJvbCgnc2V0JylcbmNvbnN0IElOSVQgPSBTeW1ib2woJ2luaXQnKVxuY29uc3QgR08gPSBTeW1ib2woJ2dvJylcblxuY29uc3Qgc2V0ID0gQWN0aW9uKFNFVClcbmNvbnN0IGluaXQgPSBFZmZlY3QoSU5JVClcbmNvbnN0IGdvID0gRWZmZWN0KEdPKVxuXG5tb2R1bGUuZXhwb3J0cyA9IERvbWFpbih7XG5cbiAgbmFtZTogJ2hyZWYnLFxuXG4gIGluaXQ6ICgpID0+ICh7XG4gICAgbW9kZWw6IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYsXG4gICAgZWZmZWN0OiBJTklUXG4gIH0pLFxuXG4gIHVwZGF0ZToge1xuICAgIFtTRVRdOiAobW9kZWwsIGhyZWYpID0+ICh7IG1vZGVsOiBocmVmIH0pXG4gIH0sXG5cbiAgcnVuOiB7XG4gICAgW0lOSVRdOiAoXywgc291cmNlcykgPT4ge1xuICAgICAgY29uc3QgZWZmZWN0QWN0aW9ucyA9IFB1c2hhYmxlKGZ1bmN0aW9uIG9uQ2xvc2UgKGVycm9yKSB7XG4gICAgICAgIC8vIGNsZWFudXAgaHJlZiBhbmQvb3IgaGlzdG9yeVxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxuICAgICAgfSlcbiAgICAgIC8vIGVuYWJsZSBjYXRjaGluZyA8aHJlZiBhPVwiXCI+PC9ocmVmPiBsaW5rc1xuICAgICAgaHJlZihwdXNoKVxuICAgICAgLy8gZW5hYmxlIEhUTUw1IGhpc3RvcnkgQVBJXG4gICAgICBoaXN0b3J5KHB1c2gpXG5cbiAgICAgIHJldHVybiBlZmZlY3RBY3Rpb25zXG5cbiAgICAgIGZ1bmN0aW9uIHB1c2ggKGhyZWYpIHtcbiAgICAgICAgZWZmZWN0QWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBTRVQsXG4gICAgICAgICAgcGF5bG9hZDogaHJlZlxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sXG4gICAgW0dPXTogKGhyZWYpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdocmVmJywgaHJlZilcbiAgICAgIGhyZWYgPSBocmVmLnJlcGxhY2UoLyMuKi8sICcnKVxuICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmICE9PSBocmVmKSB7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgbnVsbCwgaHJlZilcbiAgICAgICAgcmV0dXJuIHB1bGwudmFsdWVzKFtzZXQoaHJlZildKVxuICAgICAgfVxuICAgIH1cbiAgfVxufSlcbm1vZHVsZS5leHBvcnRzLmdvID0gZ29cbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBBcHA6IHJlcXVpcmUoJy4vYXBwJyksXG4gIERvbWFpbjogcmVxdWlyZSgnLi9kb21haW4nKSxcbiAgRXZlbnQ6IHJlcXVpcmUoJy4vZXZlbnQnKSwgLy8gQWN0aW9uIHwgRWZmZWN0XG4gIEFjdGlvbjogcmVxdWlyZSgnLi9hY3Rpb24nKSxcbiAgRWZmZWN0OiByZXF1aXJlKCcuL2VmZmVjdCcpLFxuICBydW46IHJlcXVpcmUoJy4vcnVuJykucnVuLFxuICBuYXZpZ2F0ZTogcmVxdWlyZSgnLi9uYXZpZ2F0ZScpLFxuXG4gIC8vIC0tLVxuICBhcHBzOiB7XG4gICAgcnVuOiByZXF1aXJlKCcuL3J1bicpLmFwcCxcbiAgICBocmVmOiByZXF1aXJlKCcuL2hyZWYnKVxuICB9LFxuICBSb3V0ZXI6IHJlcXVpcmUoJy4vcm91dGVyJyksXG4gIHJvdXRlOiByZXF1aXJlKCcuL3JvdXRlJyksXG4gIGhhbmRsZUFjdGlvbnM6IHJlcXVpcmUoJy4vaGFuZGxlQWN0aW9ucycpLFxuICBoYW5kbGVFZmZlY3RzOiByZXF1aXJlKCcuL2hhbmRsZUVmZmVjdHMnKSxcbiAgc2NvcGVVcGRhdGU6IHJlcXVpcmUoJy4vc2NvcGVVcGRhdGUnKSxcbiAgcmVkdWNlVXBkYXRlczogcmVxdWlyZSgnLi9yZWR1Y2VVcGRhdGVzJyksXG4gIHJ1bk1hbnk6IHJlcXVpcmUoJy4vcnVuTWFueScpXG59XG4iLCJjb25zdCBVcmwgPSByZXF1aXJlKCd1cmwnKVxuXG5jb25zdCBydW4gPSByZXF1aXJlKCcuL3J1bicpLnJ1blxuY29uc3QgZ28gPSByZXF1aXJlKCcuL2hyZWYnKS5nb1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5hdmlnYXRlXG5cbmZ1bmN0aW9uIG5hdmlnYXRlIChwYXRobmFtZSkge1xuICBjb25zdCBjdXJyZW50ID0gd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgY29uc3QgbmV4dCA9IFVybC5yZXNvbHZlKGN1cnJlbnQsIHBhdGhuYW1lKVxuICByZXR1cm4gcnVuKGdvKG5leHQpKVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZWR1Y2VVcGRhdGVzXG5cbmZ1bmN0aW9uIHJlZHVjZVVwZGF0ZXMgKHVwZGF0ZXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlZHVjZWRVcGRhdGUgKG1vZGVsLCBhY3Rpb24pIHtcbiAgICBjb25zdCBuZXh0U3RhdGUgPSB1cGRhdGVzLnJlZHVjZShcbiAgICAgIChzdGF0ZSwgdXBkYXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHRTdGF0ZSA9IHVwZGF0ZShzdGF0ZS5tb2RlbCwgYWN0aW9uKVxuICAgICAgICBjb25zdCBuZXh0TW9kZWwgPSBuZXh0U3RhdGUubW9kZWxcbiAgICAgICAgY29uc3QgbmV4dEVmZmVjdCA9IG5leHRTdGF0ZS5lZmZlY3QgIT0gbnVsbFxuICAgICAgICAgID8gc3RhdGUuZWZmZWN0LmNvbmNhdChuZXh0U3RhdGUuZWZmZWN0KVxuICAgICAgICAgIDogc3RhdGUuZWZmZWN0XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtb2RlbDogbmV4dE1vZGVsLFxuICAgICAgICAgIGVmZmVjdDogbmV4dEVmZmVjdFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgeyBtb2RlbCwgZWZmZWN0OiBbXSB9XG4gICAgKVxuXG4gICAgbmV4dFN0YXRlLmVmZmVjdCA9IG5leHRTdGF0ZS5lZmZlY3QubGVuZ3RoICE9PSAwXG4gICAgICA/IG5leHRTdGF0ZS5lZmZlY3QgOiBudWxsXG4gICAgXG4gICAgcmV0dXJuIG5leHRTdGF0ZVxuICB9XG59XG5cbiIsImNvbnN0IGV4dGVuZCA9IHJlcXVpcmUoJ3h0ZW5kJylcblxuY29uc3QgUm91dGVyID0gcmVxdWlyZSgnLi9yb3V0ZXInKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlXG5cbmZ1bmN0aW9uIHJvdXRlIChhcHAsIGhhbmRsZXIpIHtcbiAgY29uc3Qgcm91dGVyID0gUm91dGVyKGFwcC5yb3V0ZXMpXG5cbiAgcmV0dXJuIGV4dGVuZChhcHAsIHtcbiAgICB2aWV3OiBoYW5kbGVyKHJvdXRlcilcbiAgfSlcbn1cbiIsImNvbnN0IGNyZWF0ZVJvdXRlciA9IHJlcXVpcmUoJ3NoZWV0LXJvdXRlcicpXG5cbm1vZHVsZS5leHBvcnRzID0gUm91dGVyXG5cbmZ1bmN0aW9uIFJvdXRlciAocm91dGVzKSB7XG4gIGNvbnN0IFtsYXN0UGF0aF0gPSByb3V0ZXNbcm91dGVzLmxlbmd0aCAtIDFdXG4gIHJldHVybiBjcmVhdGVSb3V0ZXIobGFzdFBhdGgsIGZ1bmN0aW9uIGNyZWF0ZVJvdXRlcyAoY3JlYXRlUm91dGUpIHtcbiAgICByZXR1cm4gcm91dGVzLm1hcChyb3V0ZSA9PiB7XG4gICAgICBjb25zdCBbcGF0aCwgaGFuZGxlciwgY2hpbGRyZW5dID0gcm91dGVcbiAgICAgIGNvbnN0IGNoaWxkUm91dGVzID0gY2hpbGRyZW4gPyBjcmVhdGVSb3V0ZXMoY2hpbGRyZW4pIDogbnVsbFxuICAgICAgcmV0dXJuIGNyZWF0ZVJvdXRlKHBhdGgsIGhhbmRsZXIsIGNoaWxkUm91dGVzKVxuICAgIH0pXG4gIH0pXG59XG4iLCJjb25zdCBEb21haW4gPSByZXF1aXJlKCcuL2RvbWFpbicpXG5jb25zdCBBY3Rpb24gPSByZXF1aXJlKCcuL2FjdGlvbicpXG5cbmNvbnN0IFJVTiA9IFN5bWJvbCgncnVuJylcbmNvbnN0IHJ1biA9IEFjdGlvbihSVU4pXG5cbmNvbnN0IGFwcCA9IERvbWFpbih7XG4gIHVwZGF0ZToge1xuICAgIFtSVU5dOiAobW9kZWwsIGVmZmVjdCkgPT4gKHsgbW9kZWwsIGVmZmVjdCB9KVxuICB9XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgUlVOLFxuICBydW4sXG4gIGFwcFxufVxuIiwiY29uc3QgZW1wdHkgPSByZXF1aXJlKCdwdWxsLXN0cmVhbS9zb3VyY2VzL2VtcHR5JylcbmNvbnN0IHB1bGxNYW55ID0gcmVxdWlyZSgncHVsbC1tYW55JylcblxubW9kdWxlLmV4cG9ydHMgPSBydW5NYW55XG5cbmZ1bmN0aW9uIHJ1bk1hbnkgKHJ1bnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJ1bkVmZmVjdCAoZWZmZWN0LCBzb3VyY2VzKSB7XG4gICAgY29uc3QgbmV4dEFjdGlvbnMgPSBydW5zLm1hcChydW4gPT4ge1xuICAgICAgaWYgKHJ1biA9PSBudWxsKSByZXR1cm4gZW1wdHkoKVxuICAgICAgcmV0dXJuIHJ1bihlZmZlY3QsIHNvdXJjZXMpIHx8IGVtcHR5KClcbiAgICB9KVxuXG4gICAgcmV0dXJuIHB1bGxNYW55KG5leHRBY3Rpb25zKVxuICB9XG59XG5cbiIsImNvbnN0IGV4dGVuZCA9IHJlcXVpcmUoJ3h0ZW5kJylcblxubW9kdWxlLmV4cG9ydHMgPSBzY29wZVVwZGF0ZVxuXG5mdW5jdGlvbiBzY29wZVVwZGF0ZSAodXBkYXRlLCBrZXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHNjb3BlZFVwZGF0ZSAobW9kZWwsIGFjdGlvbikge1xuICAgIGNvbnN0IHNjb3BlU3RhdGUgPSB1cGRhdGUobW9kZWxba2V5XSwgYWN0aW9uKVxuICAgIGNvbnN0IG5leHRNb2RlbCA9IGV4dGVuZChtb2RlbCwge1xuICAgICAgW2tleV06IHNjb3BlU3RhdGUubW9kZWxcbiAgICB9KVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1vZGVsOiBuZXh0TW9kZWwsXG4gICAgICBlZmZlY3Q6IHNjb3BlU3RhdGUuZWZmZWN0XG4gICAgfVxuICB9XG59XG4iLCIvLyBDcmVhdGUgYSByYW5nZSBvYmplY3QgZm9yIGVmZmljZW50bHkgcmVuZGVyaW5nIHN0cmluZ3MgdG8gZWxlbWVudHMuXG52YXIgcmFuZ2U7XG5cbnZhciB0ZXN0RWwgPSAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykgP1xuICAgIGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykgOlxuICAgIHt9O1xuXG52YXIgWEhUTUwgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG52YXIgRUxFTUVOVF9OT0RFID0gMTtcbnZhciBURVhUX05PREUgPSAzO1xudmFyIENPTU1FTlRfTk9ERSA9IDg7XG5cbi8vIEZpeGVzIDxodHRwczovL2dpdGh1Yi5jb20vcGF0cmljay1zdGVlbGUtaWRlbS9tb3JwaGRvbS9pc3N1ZXMvMzI+XG4vLyAoSUU3KyBzdXBwb3J0KSA8PUlFNyBkb2VzIG5vdCBzdXBwb3J0IGVsLmhhc0F0dHJpYnV0ZShuYW1lKVxudmFyIGhhc0F0dHJpYnV0ZU5TO1xuXG5pZiAodGVzdEVsLmhhc0F0dHJpYnV0ZU5TKSB7XG4gICAgaGFzQXR0cmlidXRlTlMgPSBmdW5jdGlvbihlbCwgbmFtZXNwYWNlVVJJLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBlbC5oYXNBdHRyaWJ1dGVOUyhuYW1lc3BhY2VVUkksIG5hbWUpO1xuICAgIH07XG59IGVsc2UgaWYgKHRlc3RFbC5oYXNBdHRyaWJ1dGUpIHtcbiAgICBoYXNBdHRyaWJ1dGVOUyA9IGZ1bmN0aW9uKGVsLCBuYW1lc3BhY2VVUkksIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGVsLmhhc0F0dHJpYnV0ZShuYW1lKTtcbiAgICB9O1xufSBlbHNlIHtcbiAgICBoYXNBdHRyaWJ1dGVOUyA9IGZ1bmN0aW9uKGVsLCBuYW1lc3BhY2VVUkksIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICEhZWwuZ2V0QXR0cmlidXRlTm9kZShuYW1lKTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBlbXB0eShvKSB7XG4gICAgZm9yICh2YXIgayBpbiBvKSB7XG4gICAgICAgIGlmIChvLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHRvRWxlbWVudChzdHIpIHtcbiAgICBpZiAoIXJhbmdlICYmIGRvY3VtZW50LmNyZWF0ZVJhbmdlKSB7XG4gICAgICAgIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZShkb2N1bWVudC5ib2R5KTtcbiAgICB9XG5cbiAgICB2YXIgZnJhZ21lbnQ7XG4gICAgaWYgKHJhbmdlICYmIHJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCkge1xuICAgICAgICBmcmFnbWVudCA9IHJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChzdHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpO1xuICAgICAgICBmcmFnbWVudC5pbm5lckhUTUwgPSBzdHI7XG4gICAgfVxuICAgIHJldHVybiBmcmFnbWVudC5jaGlsZE5vZGVzWzBdO1xufVxuXG52YXIgc3BlY2lhbEVsSGFuZGxlcnMgPSB7XG4gICAgLyoqXG4gICAgICogTmVlZGVkIGZvciBJRS4gQXBwYXJlbnRseSBJRSBkb2Vzbid0IHRoaW5rIHRoYXQgXCJzZWxlY3RlZFwiIGlzIGFuXG4gICAgICogYXR0cmlidXRlIHdoZW4gcmVhZGluZyBvdmVyIHRoZSBhdHRyaWJ1dGVzIHVzaW5nIHNlbGVjdEVsLmF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBPUFRJT046IGZ1bmN0aW9uKGZyb21FbCwgdG9FbCkge1xuICAgICAgICBmcm9tRWwuc2VsZWN0ZWQgPSB0b0VsLnNlbGVjdGVkO1xuICAgICAgICBpZiAoZnJvbUVsLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICBmcm9tRWwuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyb21FbC5yZW1vdmVBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJycpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUaGUgXCJ2YWx1ZVwiIGF0dHJpYnV0ZSBpcyBzcGVjaWFsIGZvciB0aGUgPGlucHV0PiBlbGVtZW50IHNpbmNlIGl0IHNldHNcbiAgICAgKiB0aGUgaW5pdGlhbCB2YWx1ZS4gQ2hhbmdpbmcgdGhlIFwidmFsdWVcIiBhdHRyaWJ1dGUgd2l0aG91dCBjaGFuZ2luZyB0aGVcbiAgICAgKiBcInZhbHVlXCIgcHJvcGVydHkgd2lsbCBoYXZlIG5vIGVmZmVjdCBzaW5jZSBpdCBpcyBvbmx5IHVzZWQgdG8gdGhlIHNldCB0aGVcbiAgICAgKiBpbml0aWFsIHZhbHVlLiAgU2ltaWxhciBmb3IgdGhlIFwiY2hlY2tlZFwiIGF0dHJpYnV0ZSwgYW5kIFwiZGlzYWJsZWRcIi5cbiAgICAgKi9cbiAgICBJTlBVVDogZnVuY3Rpb24oZnJvbUVsLCB0b0VsKSB7XG4gICAgICAgIGZyb21FbC5jaGVja2VkID0gdG9FbC5jaGVja2VkO1xuICAgICAgICBpZiAoZnJvbUVsLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIGZyb21FbC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcm9tRWwucmVtb3ZlQXR0cmlidXRlKCdjaGVja2VkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJvbUVsLnZhbHVlICE9PSB0b0VsLnZhbHVlKSB7XG4gICAgICAgICAgICBmcm9tRWwudmFsdWUgPSB0b0VsLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYXNBdHRyaWJ1dGVOUyh0b0VsLCBudWxsLCAndmFsdWUnKSkge1xuICAgICAgICAgICAgZnJvbUVsLnJlbW92ZUF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZyb21FbC5kaXNhYmxlZCA9IHRvRWwuZGlzYWJsZWQ7XG4gICAgICAgIGlmIChmcm9tRWwuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGZyb21FbC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJvbUVsLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBURVhUQVJFQTogZnVuY3Rpb24oZnJvbUVsLCB0b0VsKSB7XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IHRvRWwudmFsdWU7XG4gICAgICAgIGlmIChmcm9tRWwudmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBmcm9tRWwudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcm9tRWwuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgZnJvbUVsLmZpcnN0Q2hpbGQubm9kZVZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdHdvIG5vZGUncyBuYW1lcyBhbmQgbmFtZXNwYWNlIFVSSXMgYXJlIHRoZSBzYW1lLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gYVxuICogQHBhcmFtIHtFbGVtZW50fSBiXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG52YXIgY29tcGFyZU5vZGVOYW1lcyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYS5ub2RlTmFtZSA9PT0gYi5ub2RlTmFtZSAmJlxuICAgICAgICAgICBhLm5hbWVzcGFjZVVSSSA9PT0gYi5uYW1lc3BhY2VVUkk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhbiBlbGVtZW50LCBvcHRpb25hbGx5IHdpdGggYSBrbm93biBuYW1lc3BhY2UgVVJJLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHRoZSBlbGVtZW50IG5hbWUsIGUuZy4gJ2Rpdicgb3IgJ3N2ZydcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZXNwYWNlVVJJXSB0aGUgZWxlbWVudCdzIG5hbWVzcGFjZSBVUkksIGkuZS4gdGhlIHZhbHVlIG9mXG4gKiBpdHMgYHhtbG5zYCBhdHRyaWJ1dGUgb3IgaXRzIGluZmVycmVkIG5hbWVzcGFjZS5cbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50TlMobmFtZSwgbmFtZXNwYWNlVVJJKSB7XG4gICAgcmV0dXJuICFuYW1lc3BhY2VVUkkgfHwgbmFtZXNwYWNlVVJJID09PSBYSFRNTCA/XG4gICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSkgOlxuICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlVVJJLCBuYW1lKTtcbn1cblxuLyoqXG4gKiBMb29wIG92ZXIgYWxsIG9mIHRoZSBhdHRyaWJ1dGVzIG9uIHRoZSB0YXJnZXQgbm9kZSBhbmQgbWFrZSBzdXJlIHRoZSBvcmlnaW5hbFxuICogRE9NIG5vZGUgaGFzIHRoZSBzYW1lIGF0dHJpYnV0ZXMuIElmIGFuIGF0dHJpYnV0ZSBmb3VuZCBvbiB0aGUgb3JpZ2luYWwgbm9kZVxuICogaXMgbm90IG9uIHRoZSBuZXcgbm9kZSB0aGVuIHJlbW92ZSBpdCBmcm9tIHRoZSBvcmlnaW5hbCBub2RlLlxuICpcbiAqIEBwYXJhbSAge0VsZW1lbnR9IGZyb21Ob2RlXG4gKiBAcGFyYW0gIHtFbGVtZW50fSB0b05vZGVcbiAqL1xuZnVuY3Rpb24gbW9ycGhBdHRycyhmcm9tTm9kZSwgdG9Ob2RlKSB7XG4gICAgdmFyIGF0dHJzID0gdG9Ob2RlLmF0dHJpYnV0ZXM7XG4gICAgdmFyIGk7XG4gICAgdmFyIGF0dHI7XG4gICAgdmFyIGF0dHJOYW1lO1xuICAgIHZhciBhdHRyTmFtZXNwYWNlVVJJO1xuICAgIHZhciBhdHRyVmFsdWU7XG4gICAgdmFyIGZyb21WYWx1ZTtcblxuICAgIGZvciAoaSA9IGF0dHJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGF0dHIgPSBhdHRyc1tpXTtcbiAgICAgICAgYXR0ck5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgIGF0dHJWYWx1ZSA9IGF0dHIudmFsdWU7XG4gICAgICAgIGF0dHJOYW1lc3BhY2VVUkkgPSBhdHRyLm5hbWVzcGFjZVVSSTtcblxuICAgICAgICBpZiAoYXR0ck5hbWVzcGFjZVVSSSkge1xuICAgICAgICAgICAgYXR0ck5hbWUgPSBhdHRyLmxvY2FsTmFtZSB8fCBhdHRyTmFtZTtcbiAgICAgICAgICAgIGZyb21WYWx1ZSA9IGZyb21Ob2RlLmdldEF0dHJpYnV0ZU5TKGF0dHJOYW1lc3BhY2VVUkksIGF0dHJOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyb21WYWx1ZSA9IGZyb21Ob2RlLmdldEF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJvbVZhbHVlICE9PSBhdHRyVmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChhdHRyTmFtZXNwYWNlVVJJKSB7XG4gICAgICAgICAgICAgICAgZnJvbU5vZGUuc2V0QXR0cmlidXRlTlMoYXR0ck5hbWVzcGFjZVVSSSwgYXR0ck5hbWUsIGF0dHJWYWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZyb21Ob2RlLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBhbnkgZXh0cmEgYXR0cmlidXRlcyBmb3VuZCBvbiB0aGUgb3JpZ2luYWwgRE9NIGVsZW1lbnQgdGhhdFxuICAgIC8vIHdlcmVuJ3QgZm91bmQgb24gdGhlIHRhcmdldCBlbGVtZW50LlxuICAgIGF0dHJzID0gZnJvbU5vZGUuYXR0cmlidXRlcztcblxuICAgIGZvciAoaSA9IGF0dHJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGF0dHIgPSBhdHRyc1tpXTtcbiAgICAgICAgaWYgKGF0dHIuc3BlY2lmaWVkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgYXR0ck5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgICAgICBhdHRyTmFtZXNwYWNlVVJJID0gYXR0ci5uYW1lc3BhY2VVUkk7XG5cbiAgICAgICAgICAgIGlmICghaGFzQXR0cmlidXRlTlModG9Ob2RlLCBhdHRyTmFtZXNwYWNlVVJJLCBhdHRyTmFtZXNwYWNlVVJJID8gYXR0ck5hbWUgPSBhdHRyLmxvY2FsTmFtZSB8fCBhdHRyTmFtZSA6IGF0dHJOYW1lKSkge1xuICAgICAgICAgICAgICAgIGlmIChhdHRyTmFtZXNwYWNlVVJJKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb21Ob2RlLnJlbW92ZUF0dHJpYnV0ZU5TKGF0dHJOYW1lc3BhY2VVUkksIGF0dHIubG9jYWxOYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcm9tTm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIGNoaWxkcmVuIG9mIG9uZSBET00gZWxlbWVudCB0byBhbm90aGVyIERPTSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIG1vdmVDaGlsZHJlbihmcm9tRWwsIHRvRWwpIHtcbiAgICB2YXIgY3VyQ2hpbGQgPSBmcm9tRWwuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoY3VyQ2hpbGQpIHtcbiAgICAgICAgdmFyIG5leHRDaGlsZCA9IGN1ckNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICB0b0VsLmFwcGVuZENoaWxkKGN1ckNoaWxkKTtcbiAgICAgICAgY3VyQ2hpbGQgPSBuZXh0Q2hpbGQ7XG4gICAgfVxuICAgIHJldHVybiB0b0VsO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0R2V0Tm9kZUtleShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuaWQ7XG59XG5cbmZ1bmN0aW9uIG1vcnBoZG9tKGZyb21Ob2RlLCB0b05vZGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdG9Ob2RlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoZnJvbU5vZGUubm9kZU5hbWUgPT09ICcjZG9jdW1lbnQnIHx8IGZyb21Ob2RlLm5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICAgICAgICAgIHZhciB0b05vZGVIdG1sID0gdG9Ob2RlO1xuICAgICAgICAgICAgdG9Ob2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaHRtbCcpO1xuICAgICAgICAgICAgdG9Ob2RlLmlubmVySFRNTCA9IHRvTm9kZUh0bWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b05vZGUgPSB0b0VsZW1lbnQodG9Ob2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFhYWCBvcHRpbWl6YXRpb246IGlmIHRoZSBub2RlcyBhcmUgZXF1YWwsIGRvbid0IG1vcnBoIHRoZW1cbiAgICAvKlxuICAgIGlmIChmcm9tTm9kZS5pc0VxdWFsTm9kZSh0b05vZGUpKSB7XG4gICAgICByZXR1cm4gZnJvbU5vZGU7XG4gICAgfVxuICAgICovXG5cbiAgICB2YXIgc2F2ZWRFbHMgPSB7fTsgLy8gVXNlZCB0byBzYXZlIG9mZiBET00gZWxlbWVudHMgd2l0aCBJRHNcbiAgICB2YXIgdW5tYXRjaGVkRWxzID0ge307XG4gICAgdmFyIGdldE5vZGVLZXkgPSBvcHRpb25zLmdldE5vZGVLZXkgfHwgZGVmYXVsdEdldE5vZGVLZXk7XG4gICAgdmFyIG9uQmVmb3JlTm9kZUFkZGVkID0gb3B0aW9ucy5vbkJlZm9yZU5vZGVBZGRlZCB8fCBub29wO1xuICAgIHZhciBvbk5vZGVBZGRlZCA9IG9wdGlvbnMub25Ob2RlQWRkZWQgfHwgbm9vcDtcbiAgICB2YXIgb25CZWZvcmVFbFVwZGF0ZWQgPSBvcHRpb25zLm9uQmVmb3JlRWxVcGRhdGVkIHx8IG9wdGlvbnMub25CZWZvcmVNb3JwaEVsIHx8IG5vb3A7XG4gICAgdmFyIG9uRWxVcGRhdGVkID0gb3B0aW9ucy5vbkVsVXBkYXRlZCB8fCBub29wO1xuICAgIHZhciBvbkJlZm9yZU5vZGVEaXNjYXJkZWQgPSBvcHRpb25zLm9uQmVmb3JlTm9kZURpc2NhcmRlZCB8fCBub29wO1xuICAgIHZhciBvbk5vZGVEaXNjYXJkZWQgPSBvcHRpb25zLm9uTm9kZURpc2NhcmRlZCB8fCBub29wO1xuICAgIHZhciBvbkJlZm9yZUVsQ2hpbGRyZW5VcGRhdGVkID0gb3B0aW9ucy5vbkJlZm9yZUVsQ2hpbGRyZW5VcGRhdGVkIHx8IG9wdGlvbnMub25CZWZvcmVNb3JwaEVsQ2hpbGRyZW4gfHwgbm9vcDtcbiAgICB2YXIgY2hpbGRyZW5Pbmx5ID0gb3B0aW9ucy5jaGlsZHJlbk9ubHkgPT09IHRydWU7XG4gICAgdmFyIG1vdmVkRWxzID0gW107XG5cbiAgICBmdW5jdGlvbiByZW1vdmVOb2RlSGVscGVyKG5vZGUsIG5lc3RlZEluU2F2ZWRFbCkge1xuICAgICAgICB2YXIgaWQgPSBnZXROb2RlS2V5KG5vZGUpO1xuICAgICAgICAvLyBJZiB0aGUgbm9kZSBoYXMgYW4gSUQgdGhlbiBzYXZlIGl0IG9mZiBzaW5jZSB3ZSB3aWxsIHdhbnRcbiAgICAgICAgLy8gdG8gcmV1c2UgaXQgaW4gY2FzZSB0aGUgdGFyZ2V0IERPTSB0cmVlIGhhcyBhIERPTSBlbGVtZW50XG4gICAgICAgIC8vIHdpdGggdGhlIHNhbWUgSURcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBzYXZlZEVsc1tpZF0gPSBub2RlO1xuICAgICAgICB9IGVsc2UgaWYgKCFuZXN0ZWRJblNhdmVkRWwpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBub3QgbmVzdGVkIGluIGEgc2F2ZWQgZWxlbWVudCB0aGVuIHdlIGtub3cgdGhhdCB0aGlzIG5vZGUgaGFzIGJlZW5cbiAgICAgICAgICAgIC8vIGNvbXBsZXRlbHkgZGlzY2FyZGVkIGFuZCB3aWxsIG5vdCBleGlzdCBpbiB0aGUgZmluYWwgRE9NLlxuICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgdmFyIGN1ckNoaWxkID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgICAgICAgd2hpbGUgKGN1ckNoaWxkKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTm9kZUhlbHBlcihjdXJDaGlsZCwgbmVzdGVkSW5TYXZlZEVsIHx8IGlkKTtcbiAgICAgICAgICAgICAgICBjdXJDaGlsZCA9IGN1ckNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd2Fsa0Rpc2NhcmRlZENoaWxkTm9kZXMobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICB2YXIgY3VyQ2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB3aGlsZSAoY3VyQ2hpbGQpIHtcblxuXG4gICAgICAgICAgICAgICAgaWYgKCFnZXROb2RlS2V5KGN1ckNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBvbmx5IHdhbnQgdG8gaGFuZGxlIG5vZGVzIHRoYXQgZG9uJ3QgaGF2ZSBhbiBJRCB0byBhdm9pZCBkb3VibGVcbiAgICAgICAgICAgICAgICAgICAgLy8gd2Fsa2luZyB0aGUgc2FtZSBzYXZlZCBlbGVtZW50LlxuXG4gICAgICAgICAgICAgICAgICAgIG9uTm9kZURpc2NhcmRlZChjdXJDaGlsZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gV2FsayByZWN1cnNpdmVseVxuICAgICAgICAgICAgICAgICAgICB3YWxrRGlzY2FyZGVkQ2hpbGROb2RlcyhjdXJDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VyQ2hpbGQgPSBjdXJDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSwgcGFyZW50Tm9kZSwgYWxyZWFkeVZpc2l0ZWQpIHtcbiAgICAgICAgaWYgKG9uQmVmb3JlTm9kZURpc2NhcmRlZChub2RlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgIGlmIChhbHJlYWR5VmlzaXRlZCkge1xuICAgICAgICAgICAgaWYgKCFnZXROb2RlS2V5KG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKG5vZGUpO1xuICAgICAgICAgICAgICAgIHdhbGtEaXNjYXJkZWRDaGlsZE5vZGVzKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVtb3ZlTm9kZUhlbHBlcihub2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vcnBoRWwoZnJvbUVsLCB0b0VsLCBhbHJlYWR5VmlzaXRlZCwgY2hpbGRyZW5Pbmx5KSB7XG4gICAgICAgIHZhciB0b0VsS2V5ID0gZ2V0Tm9kZUtleSh0b0VsKTtcbiAgICAgICAgaWYgKHRvRWxLZXkpIHtcbiAgICAgICAgICAgIC8vIElmIGFuIGVsZW1lbnQgd2l0aCBhbiBJRCBpcyBiZWluZyBtb3JwaGVkIHRoZW4gaXQgaXMgd2lsbCBiZSBpbiB0aGUgZmluYWxcbiAgICAgICAgICAgIC8vIERPTSBzbyBjbGVhciBpdCBvdXQgb2YgdGhlIHNhdmVkIGVsZW1lbnRzIGNvbGxlY3Rpb25cbiAgICAgICAgICAgIGRlbGV0ZSBzYXZlZEVsc1t0b0VsS2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY2hpbGRyZW5Pbmx5KSB7XG4gICAgICAgICAgICBpZiAob25CZWZvcmVFbFVwZGF0ZWQoZnJvbUVsLCB0b0VsKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vcnBoQXR0cnMoZnJvbUVsLCB0b0VsKTtcbiAgICAgICAgICAgIG9uRWxVcGRhdGVkKGZyb21FbCk7XG5cbiAgICAgICAgICAgIGlmIChvbkJlZm9yZUVsQ2hpbGRyZW5VcGRhdGVkKGZyb21FbCwgdG9FbCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZyb21FbC5ub2RlTmFtZSAhPT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgICAgdmFyIGN1clRvTm9kZUNoaWxkID0gdG9FbC5maXJzdENoaWxkO1xuICAgICAgICAgICAgdmFyIGN1ckZyb21Ob2RlQ2hpbGQgPSBmcm9tRWwuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHZhciBjdXJUb05vZGVJZDtcblxuICAgICAgICAgICAgdmFyIGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgIHZhciB0b05leHRTaWJsaW5nO1xuICAgICAgICAgICAgdmFyIHNhdmVkRWw7XG4gICAgICAgICAgICB2YXIgdW5tYXRjaGVkRWw7XG5cbiAgICAgICAgICAgIG91dGVyOiB3aGlsZSAoY3VyVG9Ob2RlQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0b05leHRTaWJsaW5nID0gY3VyVG9Ob2RlQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgY3VyVG9Ob2RlSWQgPSBnZXROb2RlS2V5KGN1clRvTm9kZUNoaWxkKTtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJGcm9tTm9kZUNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJGcm9tTm9kZUlkID0gZ2V0Tm9kZUtleShjdXJGcm9tTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbU5leHRTaWJsaW5nID0gY3VyRnJvbU5vZGVDaGlsZC5uZXh0U2libGluZztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFscmVhZHlWaXNpdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVJZCAmJiAodW5tYXRjaGVkRWwgPSB1bm1hdGNoZWRFbHNbY3VyRnJvbU5vZGVJZF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5tYXRjaGVkRWwucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoY3VyRnJvbU5vZGVDaGlsZCwgdW5tYXRjaGVkRWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoRWwoY3VyRnJvbU5vZGVDaGlsZCwgdW5tYXRjaGVkRWwsIGFscmVhZHlWaXNpdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckZyb21Ob2RlVHlwZSA9IGN1ckZyb21Ob2RlQ2hpbGQubm9kZVR5cGU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckZyb21Ob2RlVHlwZSA9PT0gY3VyVG9Ob2RlQ2hpbGQubm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0NvbXBhdGlibGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQm90aCBub2RlcyBiZWluZyBjb21wYXJlZCBhcmUgRWxlbWVudCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckZyb21Ob2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBhcmVOb2RlTmFtZXMoY3VyRnJvbU5vZGVDaGlsZCwgY3VyVG9Ob2RlQ2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgY29tcGF0aWJsZSBET00gZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckZyb21Ob2RlSWQgfHwgY3VyVG9Ob2RlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGVpdGhlciBET00gZWxlbWVudCBoYXMgYW4gSUQgdGhlbiB3ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIHRob3NlIGRpZmZlcmVudGx5IHNpbmNlIHdlIHdhbnQgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoIHVwIGJ5IElEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyVG9Ob2RlSWQgPT09IGN1ckZyb21Ob2RlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBhdGlibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wYXRpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdGlibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgZm91bmQgY29tcGF0aWJsZSBET00gZWxlbWVudHMgc28gdHJhbnNmb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBjdXJyZW50IFwiZnJvbVwiIG5vZGUgdG8gbWF0Y2ggdGhlIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFyZ2V0IERPTSBub2RlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaEVsKGN1ckZyb21Ob2RlQ2hpbGQsIGN1clRvTm9kZUNoaWxkLCBhbHJlYWR5VmlzaXRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQm90aCBub2RlcyBiZWluZyBjb21wYXJlZCBhcmUgVGV4dCBvciBDb21tZW50IG5vZGVzXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VyRnJvbU5vZGVUeXBlID09PSBURVhUX05PREUgfHwgY3VyRnJvbU5vZGVUeXBlID09IENPTU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGF0aWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2ltcGx5IHVwZGF0ZSBub2RlVmFsdWUgb24gdGhlIG9yaWdpbmFsIG5vZGUgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGFuZ2UgdGhlIHRleHQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkLm5vZGVWYWx1ZSA9IGN1clRvTm9kZUNoaWxkLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29tcGF0aWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvTm9kZUNoaWxkID0gdG9OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gY29tcGF0aWJsZSBtYXRjaCBzbyByZW1vdmUgdGhlIG9sZCBub2RlIGZyb20gdGhlIERPTVxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgY29udGludWUgdHJ5aW5nIHRvIGZpbmQgYSBtYXRjaCBpbiB0aGUgb3JpZ2luYWwgRE9NXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoY3VyRnJvbU5vZGVDaGlsZCwgZnJvbUVsLCBhbHJlYWR5VmlzaXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIGN1ckZyb21Ob2RlQ2hpbGQgPSBmcm9tTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGN1clRvTm9kZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoc2F2ZWRFbCA9IHNhdmVkRWxzW2N1clRvTm9kZUlkXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wYXJlTm9kZU5hbWVzKHNhdmVkRWwsIGN1clRvTm9kZUNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoRWwoc2F2ZWRFbCwgY3VyVG9Ob2RlQ2hpbGQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gYXBwZW5kIHRoZSBzYXZlZCBlbGVtZW50IGluc3RlYWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJUb05vZGVDaGlsZCA9IHNhdmVkRWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzYXZlZEVsc1tjdXJUb05vZGVJZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKHNhdmVkRWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGN1cnJlbnQgRE9NIGVsZW1lbnQgaW4gdGhlIHRhcmdldCB0cmVlIGhhcyBhbiBJRFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnV0IHdlIGRpZCBub3QgZmluZCBhIG1hdGNoIGluIGFueSBvZiB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvcnJlc3BvbmRpbmcgc2libGluZ3MuIFdlIGp1c3QgcHV0IHRoZSB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgaW4gdGhlIG9sZCBET00gdHJlZSBidXQgaWYgd2UgbGF0ZXIgZmluZCBhblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWxlbWVudCBpbiB0aGUgb2xkIERPTSB0cmVlIHRoYXQgaGFzIGEgbWF0Y2hpbmcgSURcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gd2Ugd2lsbCByZXBsYWNlIHRoZSB0YXJnZXQgZWxlbWVudCB3aXRoIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29ycmVzcG9uZGluZyBvbGQgZWxlbWVudCBhbmQgbW9ycGggdGhlIG9sZCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB1bm1hdGNoZWRFbHNbY3VyVG9Ob2RlSWRdID0gY3VyVG9Ob2RlQ2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBnb3QgdGhpcyBmYXIgdGhlbiB3ZSBkaWQgbm90IGZpbmQgYSBjYW5kaWRhdGUgbWF0Y2ggZm9yXG4gICAgICAgICAgICAgICAgLy8gb3VyIFwidG8gbm9kZVwiIGFuZCB3ZSBleGhhdXN0ZWQgYWxsIG9mIHRoZSBjaGlsZHJlbiBcImZyb21cIlxuICAgICAgICAgICAgICAgIC8vIG5vZGVzLiBUaGVyZWZvcmUsIHdlIHdpbGwganVzdCBhcHBlbmQgdGhlIGN1cnJlbnQgXCJ0byBub2RlXCJcbiAgICAgICAgICAgICAgICAvLyB0byB0aGUgZW5kXG4gICAgICAgICAgICAgICAgaWYgKG9uQmVmb3JlTm9kZUFkZGVkKGN1clRvTm9kZUNoaWxkKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbUVsLmFwcGVuZENoaWxkKGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgb25Ob2RlQWRkZWQoY3VyVG9Ob2RlQ2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjdXJUb05vZGVDaGlsZC5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFICYmXG4gICAgICAgICAgICAgICAgICAgIChjdXJUb05vZGVJZCB8fCBjdXJUb05vZGVDaGlsZC5maXJzdENoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZWxlbWVudCB0aGF0IHdhcyBqdXN0IGFkZGVkIHRvIHRoZSBvcmlnaW5hbCBET00gbWF5XG4gICAgICAgICAgICAgICAgICAgIC8vIGhhdmUgc29tZSBuZXN0ZWQgZWxlbWVudHMgd2l0aCBhIGtleS9JRCB0aGF0IG5lZWRzIHRvIGJlXG4gICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoZWQgdXAgd2l0aCBvdGhlciBlbGVtZW50cy4gV2UnbGwgYWRkIHRoZSBlbGVtZW50IHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgbGlzdCBzbyB0aGF0IHdlIGNhbiBsYXRlciBwcm9jZXNzIHRoZSBuZXN0ZWQgZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIGFueSB1bm1hdGNoZWQga2V5ZWQgZWxlbWVudHMgdGhhdCB3ZXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc2NhcmRlZFxuICAgICAgICAgICAgICAgICAgICBtb3ZlZEVscy5wdXNoKGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdXJUb05vZGVDaGlsZCA9IHRvTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gV2UgaGF2ZSBwcm9jZXNzZWQgYWxsIG9mIHRoZSBcInRvIG5vZGVzXCIuIElmIGN1ckZyb21Ob2RlQ2hpbGQgaXNcbiAgICAgICAgICAgIC8vIG5vbi1udWxsIHRoZW4gd2Ugc3RpbGwgaGF2ZSBzb21lIGZyb20gbm9kZXMgbGVmdCBvdmVyIHRoYXQgbmVlZFxuICAgICAgICAgICAgLy8gdG8gYmUgcmVtb3ZlZFxuICAgICAgICAgICAgd2hpbGUgKGN1ckZyb21Ob2RlQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICBmcm9tTmV4dFNpYmxpbmcgPSBjdXJGcm9tTm9kZUNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoY3VyRnJvbU5vZGVDaGlsZCwgZnJvbUVsLCBhbHJlYWR5VmlzaXRlZCk7XG4gICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzcGVjaWFsRWxIYW5kbGVyID0gc3BlY2lhbEVsSGFuZGxlcnNbZnJvbUVsLm5vZGVOYW1lXTtcbiAgICAgICAgaWYgKHNwZWNpYWxFbEhhbmRsZXIpIHtcbiAgICAgICAgICAgIHNwZWNpYWxFbEhhbmRsZXIoZnJvbUVsLCB0b0VsKTtcbiAgICAgICAgfVxuICAgIH0gLy8gRU5EOiBtb3JwaEVsKC4uLilcblxuICAgIHZhciBtb3JwaGVkTm9kZSA9IGZyb21Ob2RlO1xuICAgIHZhciBtb3JwaGVkTm9kZVR5cGUgPSBtb3JwaGVkTm9kZS5ub2RlVHlwZTtcbiAgICB2YXIgdG9Ob2RlVHlwZSA9IHRvTm9kZS5ub2RlVHlwZTtcblxuICAgIGlmICghY2hpbGRyZW5Pbmx5KSB7XG4gICAgICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSB3ZSBhcmUgZ2l2ZW4gdHdvIERPTSBub2RlcyB0aGF0IGFyZSBub3RcbiAgICAgICAgLy8gY29tcGF0aWJsZSAoZS5nLiA8ZGl2PiAtLT4gPHNwYW4+IG9yIDxkaXY+IC0tPiBURVhUKVxuICAgICAgICBpZiAobW9ycGhlZE5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgIGlmICh0b05vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBhcmVOb2RlTmFtZXMoZnJvbU5vZGUsIHRvTm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKGZyb21Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhlZE5vZGUgPSBtb3ZlQ2hpbGRyZW4oZnJvbU5vZGUsIGNyZWF0ZUVsZW1lbnROUyh0b05vZGUubm9kZU5hbWUsIHRvTm9kZS5uYW1lc3BhY2VVUkkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEdvaW5nIGZyb20gYW4gZWxlbWVudCBub2RlIHRvIGEgdGV4dCBub2RlXG4gICAgICAgICAgICAgICAgbW9ycGhlZE5vZGUgPSB0b05vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobW9ycGhlZE5vZGVUeXBlID09PSBURVhUX05PREUgfHwgbW9ycGhlZE5vZGVUeXBlID09PSBDT01NRU5UX05PREUpIHsgLy8gVGV4dCBvciBjb21tZW50IG5vZGVcbiAgICAgICAgICAgIGlmICh0b05vZGVUeXBlID09PSBtb3JwaGVkTm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZS5ub2RlVmFsdWUgPSB0b05vZGUubm9kZVZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBtb3JwaGVkTm9kZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVGV4dCBub2RlIHRvIHNvbWV0aGluZyBlbHNlXG4gICAgICAgICAgICAgICAgbW9ycGhlZE5vZGUgPSB0b05vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobW9ycGhlZE5vZGUgPT09IHRvTm9kZSkge1xuICAgICAgICAvLyBUaGUgXCJ0byBub2RlXCIgd2FzIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIFwiZnJvbSBub2RlXCIgc28gd2UgaGFkIHRvXG4gICAgICAgIC8vIHRvc3Mgb3V0IHRoZSBcImZyb20gbm9kZVwiIGFuZCB1c2UgdGhlIFwidG8gbm9kZVwiXG4gICAgICAgIG9uTm9kZURpc2NhcmRlZChmcm9tTm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbW9ycGhFbChtb3JwaGVkTm9kZSwgdG9Ob2RlLCBmYWxzZSwgY2hpbGRyZW5Pbmx5KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hhdCB3ZSB3aWxsIGRvIGhlcmUgaXMgd2FsayB0aGUgdHJlZSBmb3IgdGhlIERPTSBlbGVtZW50IHRoYXQgd2FzXG4gICAgICAgICAqIG1vdmVkIGZyb20gdGhlIHRhcmdldCBET00gdHJlZSB0byB0aGUgb3JpZ2luYWwgRE9NIHRyZWUgYW5kIHdlIHdpbGxcbiAgICAgICAgICogbG9vayBmb3Iga2V5ZWQgZWxlbWVudHMgdGhhdCBjb3VsZCBiZSBtYXRjaGVkIHRvIGtleWVkIGVsZW1lbnRzIHRoYXRcbiAgICAgICAgICogd2VyZSBlYXJsaWVyIGRpc2NhcmRlZC4gIElmIHdlIGZpbmQgYSBtYXRjaCB0aGVuIHdlIHdpbGwgbW92ZSB0aGVcbiAgICAgICAgICogc2F2ZWQgZWxlbWVudCBpbnRvIHRoZSBmaW5hbCBET00gdHJlZS5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBoYW5kbGVNb3ZlZEVsID0gZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgIHZhciBjdXJDaGlsZCA9IGVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB3aGlsZSAoY3VyQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dFNpYmxpbmcgPSBjdXJDaGlsZC5uZXh0U2libGluZztcblxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBnZXROb2RlS2V5KGN1ckNoaWxkKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzYXZlZEVsID0gc2F2ZWRFbHNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNhdmVkRWwgJiYgY29tcGFyZU5vZGVOYW1lcyhjdXJDaGlsZCwgc2F2ZWRFbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNoaWxkLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHNhdmVkRWwsIGN1ckNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWU6IGFscmVhZHkgdmlzaXRlZCB0aGUgc2F2ZWQgZWwgdHJlZVxuICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhFbChzYXZlZEVsLCBjdXJDaGlsZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJDaGlsZCA9IG5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcHR5KHNhdmVkRWxzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGN1ckNoaWxkLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlTW92ZWRFbChjdXJDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VyQ2hpbGQgPSBuZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUaGUgbG9vcCBiZWxvdyBpcyB1c2VkIHRvIHBvc3NpYmx5IG1hdGNoIHVwIGFueSBkaXNjYXJkZWRcbiAgICAgICAgLy8gZWxlbWVudHMgaW4gdGhlIG9yaWdpbmFsIERPTSB0cmVlIHdpdGggZWxlbWVuZXRzIGZyb20gdGhlXG4gICAgICAgIC8vIHRhcmdldCB0cmVlIHRoYXQgd2VyZSBtb3ZlZCBvdmVyIHdpdGhvdXQgdmlzaXRpbmcgdGhlaXJcbiAgICAgICAgLy8gY2hpbGRyZW5cbiAgICAgICAgaWYgKCFlbXB0eShzYXZlZEVscykpIHtcbiAgICAgICAgICAgIGhhbmRsZU1vdmVkRWxzTG9vcDpcbiAgICAgICAgICAgIHdoaWxlIChtb3ZlZEVscy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbW92ZWRFbHNUZW1wID0gbW92ZWRFbHM7XG4gICAgICAgICAgICAgICAgbW92ZWRFbHMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8bW92ZWRFbHNUZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVNb3ZlZEVsKG1vdmVkRWxzVGVtcFtpXSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBhcmUgbm8gbW9yZSB1bm1hdGNoZWQgZWxlbWVudHMgc28gY29tcGxldGVseSBlbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBsb29wXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBoYW5kbGVNb3ZlZEVsc0xvb3A7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJlIHRoZSBcIm9uTm9kZURpc2NhcmRlZFwiIGV2ZW50IGZvciBhbnkgc2F2ZWQgZWxlbWVudHNcbiAgICAgICAgLy8gdGhhdCBuZXZlciBmb3VuZCBhIG5ldyBob21lIGluIHRoZSBtb3JwaGVkIERPTVxuICAgICAgICBmb3IgKHZhciBzYXZlZEVsSWQgaW4gc2F2ZWRFbHMpIHtcbiAgICAgICAgICAgIGlmIChzYXZlZEVscy5oYXNPd25Qcm9wZXJ0eShzYXZlZEVsSWQpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNhdmVkRWwgPSBzYXZlZEVsc1tzYXZlZEVsSWRdO1xuICAgICAgICAgICAgICAgIG9uTm9kZURpc2NhcmRlZChzYXZlZEVsKTtcbiAgICAgICAgICAgICAgICB3YWxrRGlzY2FyZGVkQ2hpbGROb2RlcyhzYXZlZEVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghY2hpbGRyZW5Pbmx5ICYmIG1vcnBoZWROb2RlICE9PSBmcm9tTm9kZSAmJiBmcm9tTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIC8vIElmIHdlIGhhZCB0byBzd2FwIG91dCB0aGUgZnJvbSBub2RlIHdpdGggYSBuZXcgbm9kZSBiZWNhdXNlIHRoZSBvbGRcbiAgICAgICAgLy8gbm9kZSB3YXMgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgdGFyZ2V0IG5vZGUgdGhlbiB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIHJlcGxhY2UgdGhlIG9sZCBET00gbm9kZSBpbiB0aGUgb3JpZ2luYWwgRE9NIHRyZWUuIFRoaXMgaXMgb25seVxuICAgICAgICAvLyBwb3NzaWJsZSBpZiB0aGUgb3JpZ2luYWwgRE9NIG5vZGUgd2FzIHBhcnQgb2YgYSBET00gdHJlZSB3aGljaFxuICAgICAgICAvLyB3ZSBrbm93IGlzIHRoZSBjYXNlIGlmIGl0IGhhcyBhIHBhcmVudCBub2RlLlxuICAgICAgICBmcm9tTm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChtb3JwaGVkTm9kZSwgZnJvbU5vZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBtb3JwaGVkTm9kZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtb3JwaGRvbTtcbiIsIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7U3RyaW5nfE51bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih2YWwsIG9wdGlvbnMpe1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgaWYgKCdzdHJpbmcnID09IHR5cGVvZiB2YWwpIHJldHVybiBwYXJzZSh2YWwpO1xuICByZXR1cm4gb3B0aW9ucy5sb25nXG4gICAgPyBsb25nKHZhbClcbiAgICA6IHNob3J0KHZhbCk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gJycgKyBzdHI7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwMDApIHJldHVybjtcbiAgdmFyIG1hdGNoID0gL14oKD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhzdHIpO1xuICBpZiAoIW1hdGNoKSByZXR1cm47XG4gIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5cnMnOlxuICAgIGNhc2UgJ3lyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeTtcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNob3J0KG1zKSB7XG4gIGlmIChtcyA+PSBkKSByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICBpZiAobXMgPj0gaCkgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgaWYgKG1zID49IG0pIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIGlmIChtcyA+PSBzKSByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICByZXR1cm4gbXMgKyAnbXMnO1xufVxuXG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9uZyhtcykge1xuICByZXR1cm4gcGx1cmFsKG1zLCBkLCAnZGF5JylcbiAgICB8fCBwbHVyYWwobXMsIGgsICdob3VyJylcbiAgICB8fCBwbHVyYWwobXMsIG0sICdtaW51dGUnKVxuICAgIHx8IHBsdXJhbChtcywgcywgJ3NlY29uZCcpXG4gICAgfHwgbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG4sIG5hbWUpIHtcbiAgaWYgKG1zIDwgbikgcmV0dXJuO1xuICBpZiAobXMgPCBuICogMS41KSByZXR1cm4gTWF0aC5mbG9vcihtcyAvIG4pICsgJyAnICsgbmFtZTtcbiAgcmV0dXJuIE1hdGguY2VpbChtcyAvIG4pICsgJyAnICsgbmFtZSArICdzJztcbn1cbiIsIi8qIGdsb2JhbCBNdXRhdGlvbk9ic2VydmVyICovXG52YXIgZG9jdW1lbnQgPSByZXF1aXJlKCdnbG9iYWwvZG9jdW1lbnQnKVxudmFyIHdpbmRvdyA9IHJlcXVpcmUoJ2dsb2JhbC93aW5kb3cnKVxudmFyIHdhdGNoID0gT2JqZWN0LmNyZWF0ZShudWxsKVxudmFyIEtFWV9JRCA9ICdvbmxvYWRpZCcgKyAobmV3IERhdGUoKSAlIDllNikudG9TdHJpbmcoMzYpXG52YXIgS0VZX0FUVFIgPSAnZGF0YS0nICsgS0VZX0lEXG52YXIgSU5ERVggPSAwXG5cbmlmICh3aW5kb3cgJiYgd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgIGlmIChPYmplY3Qua2V5cyh3YXRjaCkubGVuZ3RoIDwgMSkgcmV0dXJuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtdXRhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChtdXRhdGlvbnNbaV0uYXR0cmlidXRlTmFtZSA9PT0gS0VZX0FUVFIpIHtcbiAgICAgICAgZWFjaEF0dHIobXV0YXRpb25zW2ldLCB0dXJub24sIHR1cm5vZmYpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICBlYWNoTXV0YXRpb24obXV0YXRpb25zW2ldLnJlbW92ZWROb2RlcywgdHVybm9mZilcbiAgICAgIGVhY2hNdXRhdGlvbihtdXRhdGlvbnNbaV0uYWRkZWROb2RlcywgdHVybm9uKVxuICAgIH1cbiAgfSlcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XG4gICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIHN1YnRyZWU6IHRydWUsXG4gICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZSxcbiAgICBhdHRyaWJ1dGVGaWx0ZXI6IFtLRVlfQVRUUl1cbiAgfSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBvbmxvYWQgKGVsLCBvbiwgb2ZmLCBjYWxsZXIpIHtcbiAgb24gPSBvbiB8fCBmdW5jdGlvbiAoKSB7fVxuICBvZmYgPSBvZmYgfHwgZnVuY3Rpb24gKCkge31cbiAgZWwuc2V0QXR0cmlidXRlKEtFWV9BVFRSLCAnbycgKyBJTkRFWClcbiAgd2F0Y2hbJ28nICsgSU5ERVhdID0gW29uLCBvZmYsIDAsIGNhbGxlciB8fCBvbmxvYWQuY2FsbGVyXVxuICBJTkRFWCArPSAxXG4gIHJldHVybiBlbFxufVxuXG5mdW5jdGlvbiB0dXJub24gKGluZGV4LCBlbCkge1xuICBpZiAod2F0Y2hbaW5kZXhdWzBdICYmIHdhdGNoW2luZGV4XVsyXSA9PT0gMCkge1xuICAgIHdhdGNoW2luZGV4XVswXShlbClcbiAgICB3YXRjaFtpbmRleF1bMl0gPSAxXG4gIH1cbn1cblxuZnVuY3Rpb24gdHVybm9mZiAoaW5kZXgsIGVsKSB7XG4gIGlmICh3YXRjaFtpbmRleF1bMV0gJiYgd2F0Y2hbaW5kZXhdWzJdID09PSAxKSB7XG4gICAgd2F0Y2hbaW5kZXhdWzFdKGVsKVxuICAgIHdhdGNoW2luZGV4XVsyXSA9IDBcbiAgfVxufVxuXG5mdW5jdGlvbiBlYWNoQXR0ciAobXV0YXRpb24sIG9uLCBvZmYpIHtcbiAgdmFyIG5ld1ZhbHVlID0gbXV0YXRpb24udGFyZ2V0LmdldEF0dHJpYnV0ZShLRVlfQVRUUilcbiAgaWYgKHNhbWVPcmlnaW4obXV0YXRpb24ub2xkVmFsdWUsIG5ld1ZhbHVlKSkge1xuICAgIHdhdGNoW25ld1ZhbHVlXSA9IHdhdGNoW211dGF0aW9uLm9sZFZhbHVlXVxuICAgIHJldHVyblxuICB9XG4gIGlmICh3YXRjaFttdXRhdGlvbi5vbGRWYWx1ZV0pIHtcbiAgICBvZmYobXV0YXRpb24ub2xkVmFsdWUsIG11dGF0aW9uLnRhcmdldClcbiAgfVxuICBpZiAod2F0Y2hbbmV3VmFsdWVdKSB7XG4gICAgb24obmV3VmFsdWUsIG11dGF0aW9uLnRhcmdldClcbiAgfVxufVxuXG5mdW5jdGlvbiBzYW1lT3JpZ2luIChvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgaWYgKCFvbGRWYWx1ZSB8fCAhbmV3VmFsdWUpIHJldHVybiBmYWxzZVxuICByZXR1cm4gd2F0Y2hbb2xkVmFsdWVdWzNdID09PSB3YXRjaFtuZXdWYWx1ZV1bM11cbn1cblxuZnVuY3Rpb24gZWFjaE11dGF0aW9uIChub2RlcywgZm4pIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh3YXRjaClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChub2Rlc1tpXSAmJiBub2Rlc1tpXS5nZXRBdHRyaWJ1dGUgJiYgbm9kZXNbaV0uZ2V0QXR0cmlidXRlKEtFWV9BVFRSKSkge1xuICAgICAgdmFyIG9ubG9hZGlkID0gbm9kZXNbaV0uZ2V0QXR0cmlidXRlKEtFWV9BVFRSKVxuICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIGlmIChvbmxvYWRpZCA9PT0gaykge1xuICAgICAgICAgIGZuKGssIG5vZGVzW2ldKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAobm9kZXNbaV0uY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICBlYWNoTXV0YXRpb24obm9kZXNbaV0uY2hpbGROb2RlcywgZm4pXG4gICAgfVxuICB9XG59XG4iLCJ2YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGVcblxubW9kdWxlLmV4cG9ydHMgPSBvd25FbnVtZXJhYmxlS2V5c1xuZnVuY3Rpb24gb3duRW51bWVyYWJsZUtleXMgKG9iaikge1xuICB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iailcblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIGtleXMgPSBrZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iaikpXG4gIH1cblxuICByZXR1cm4ga2V5cy5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBwcm9wSXNFbnVtZXJhYmxlLmNhbGwob2JqLCBrZXkpXG4gIH0pXG59XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gcmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIGFycmF5IHdpdGggZGlyZWN0b3J5IG5hbWVzIHRoZXJlXG4vLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XFwpIGluIHRoZSBhcnJheVxuLy8gKHNvIGFsc28gbm8gbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2hlcyAtIGl0IGRvZXMgbm90IGRpc3Rpbmd1aXNoXG4vLyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgcGF0aHMpXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGxhc3QgPSBwYXJ0c1tpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG4vLyBTcGxpdCBhIGZpbGVuYW1lIGludG8gW3Jvb3QsIGRpciwgYmFzZW5hbWUsIGV4dF0sIHVuaXggdmVyc2lvblxuLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cbnZhciBzcGxpdFBhdGhSZSA9XG4gICAgL14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC87XG52YXIgc3BsaXRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpO1xufTtcblxuLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNvbHZlZFBhdGggPSAnJyxcbiAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcblxuICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgIHZhciBwYXRoID0gKGkgPj0gMCkgPyBhcmd1bWVudHNbaV0gOiBwcm9jZXNzLmN3ZCgpO1xuXG4gICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9IGVsc2UgaWYgKCFwYXRoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuICB9XG5cbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgcmV0dXJuICgocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCkgfHwgJy4nO1xufTtcblxuLy8gcGF0aC5ub3JtYWxpemUocGF0aClcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMubm9ybWFsaXplID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKSxcbiAgICAgIHRyYWlsaW5nU2xhc2ggPSBzdWJzdHIocGF0aCwgLTEpID09PSAnLyc7XG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFpc0Fic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgaWYgKCFwYXRoICYmICFpc0Fic29sdXRlKSB7XG4gICAgcGF0aCA9ICcuJztcbiAgfVxuICBpZiAocGF0aCAmJiB0cmFpbGluZ1NsYXNoKSB7XG4gICAgcGF0aCArPSAnLyc7XG4gIH1cblxuICByZXR1cm4gKGlzQWJzb2x1dGUgPyAnLycgOiAnJykgKyBwYXRoO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5pc0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuam9pbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICByZXR1cm4gZXhwb3J0cy5ub3JtYWxpemUoZmlsdGVyKHBhdGhzLCBmdW5jdGlvbihwLCBpbmRleCkge1xuICAgIGlmICh0eXBlb2YgcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9KS5qb2luKCcvJykpO1xufTtcblxuXG4vLyBwYXRoLnJlbGF0aXZlKGZyb20sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZWxhdGl2ZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gIGZyb20gPSBleHBvcnRzLnJlc29sdmUoZnJvbSkuc3Vic3RyKDEpO1xuICB0byA9IGV4cG9ydHMucmVzb2x2ZSh0bykuc3Vic3RyKDEpO1xuXG4gIGZ1bmN0aW9uIHRyaW0oYXJyKSB7XG4gICAgdmFyIHN0YXJ0ID0gMDtcbiAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICBpZiAoYXJyW3N0YXJ0XSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpO1xuICB9XG5cbiAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTtcbiAgdmFyIHRvUGFydHMgPSB0cmltKHRvLnNwbGl0KCcvJykpO1xuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XG4gICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dHB1dFBhcnRzID0gW107XG4gIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuICB9XG5cbiAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblxuICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xufTtcblxuZXhwb3J0cy5zZXAgPSAnLyc7XG5leHBvcnRzLmRlbGltaXRlciA9ICc6JztcblxuZXhwb3J0cy5kaXJuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpLFxuICAgICAgcm9vdCA9IHJlc3VsdFswXSxcbiAgICAgIGRpciA9IHJlc3VsdFsxXTtcblxuICBpZiAoIXJvb3QgJiYgIWRpcikge1xuICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlclxuICAgIHJldHVybiAnLic7XG4gIH1cblxuICBpZiAoZGlyKSB7XG4gICAgLy8gSXQgaGFzIGEgZGlybmFtZSwgc3RyaXAgdHJhaWxpbmcgc2xhc2hcbiAgICBkaXIgPSBkaXIuc3Vic3RyKDAsIGRpci5sZW5ndGggLSAxKTtcbiAgfVxuXG4gIHJldHVybiByb290ICsgZGlyO1xufTtcblxuXG5leHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24ocGF0aCwgZXh0KSB7XG4gIHZhciBmID0gc3BsaXRQYXRoKHBhdGgpWzJdO1xuICAvLyBUT0RPOiBtYWtlIHRoaXMgY29tcGFyaXNvbiBjYXNlLWluc2Vuc2l0aXZlIG9uIHdpbmRvd3M/XG4gIGlmIChleHQgJiYgZi5zdWJzdHIoLTEgKiBleHQubGVuZ3RoKSA9PT0gZXh0KSB7XG4gICAgZiA9IGYuc3Vic3RyKDAsIGYubGVuZ3RoIC0gZXh0Lmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGY7XG59O1xuXG5cbmV4cG9ydHMuZXh0bmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aChwYXRoKVszXTtcbn07XG5cbmZ1bmN0aW9uIGZpbHRlciAoeHMsIGYpIHtcbiAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgLSBuZWdhdGl2ZSBpbmRleCBkb24ndCB3b3JrIGluIElFOFxudmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InXG4gICAgPyBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7IHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pIH1cbiAgICA6IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG4gICAgICAgIHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pO1xuICAgIH1cbjtcbiIsImNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpXG5cbm1vZHVsZS5leHBvcnRzID0gbWF0Y2hcblxuLy8gZ2V0IHVybCBwYXRoIHNlY3Rpb24gZnJvbSBhIHVybFxuLy8gc3RyaXAgcXVlcnlzdHJpbmdzIC8gaGFzaGVzXG4vLyBzdHJpcCBwcm90b2NvbFxuLy8gc3RyaXAgaG9zdG5hbWUgYW5kIHBvcnQgKGJvdGggaXAgYW5kIHJvdXRlKVxuLy8gc3RyIC0+IHN0clxuZnVuY3Rpb24gbWF0Y2ggKHJvdXRlKSB7XG4gIGFzc2VydC5lcXVhbCh0eXBlb2Ygcm91dGUsICdzdHJpbmcnKVxuXG4gIHJldHVybiByb3V0ZS50cmltKClcbiAgICAucmVwbGFjZSgvW1xcP3wjXS4qJC8sICcnKVxuICAgIC5yZXBsYWNlKC9eKD86aHR0cHM/XFw6KVxcL1xcLy8sICcnKVxuICAgIC5yZXBsYWNlKC9eLio/KFxcLy4qKS8sICckMScpXG4gICAgLnJlcGxhY2UoL1xcLyQvLCAnJylcbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHB1bGxBc3luY1xuXG5mdW5jdGlvbiBwdWxsQXN5bmMgKGNvbnRpbnVhYmxlKSB7XG4gIHZhciBkb25lXG4gIHJldHVybiBmdW5jdGlvbiAoYWJvcnQsIGNiKSB7XG4gICAgaWYgKGFib3J0KSByZXR1cm4gY2IoYWJvcnQpXG4gICAgaWYgKGRvbmUpIHJldHVybiBjYih0cnVlKVxuICAgIGNvbnRpbnVhYmxlKGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgIGRvbmUgPSB0cnVlXG4gICAgICBjYihlcnIsIGRhdGEpXG4gICAgfSlcbiAgfVxufVxuIiwidmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7fVxuXG5mdW5jdGlvbiBhYm9ydEFsbChhcnksIGFib3J0LCBjYikge1xuICB2YXIgbiA9IGFyeS5sZW5ndGhcbiAgaWYoIW4pIHJldHVybiBjYihhYm9ydClcbiAgYXJ5LmZvckVhY2goZnVuY3Rpb24gKGYpIHtcbiAgICBpZihmKSBmKGFib3J0LCBuZXh0KVxuICAgIGVsc2UgbmV4dCgpXG4gIH0pXG5cbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICBpZigtLW4pIHJldHVyblxuICAgIGNiKGFib3J0KVxuICB9XG4gIGlmKCFuKSBuZXh0KClcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyZWFtcykge1xuICByZXR1cm4gZnVuY3Rpb24gKGFib3J0LCBjYikge1xuICAgIDsoZnVuY3Rpb24gbmV4dCAoKSB7XG4gICAgICBpZihhYm9ydClcbiAgICAgICAgYWJvcnRBbGwoc3RyZWFtcywgYWJvcnQsIGNiKVxuICAgICAgZWxzZSBpZighc3RyZWFtcy5sZW5ndGgpXG4gICAgICAgIGNiKHRydWUpXG4gICAgICBlbHNlIGlmKCFzdHJlYW1zWzBdKVxuICAgICAgICBzdHJlYW1zLnNoaWZ0KCksIG5leHQoKVxuICAgICAgZWxzZVxuICAgICAgICBzdHJlYW1zWzBdKG51bGwsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgICBpZihlcnIpIHtcbiAgICAgICAgICAgIHN0cmVhbXMuc2hpZnQoKSAvL2Ryb3AgdGhlIGZpcnN0LCBoYXMgYWxyZWFkeSBlbmRlZC5cbiAgICAgICAgICAgIGlmKGVyciA9PT0gdHJ1ZSkgbmV4dCgpXG4gICAgICAgICAgICBlbHNlICAgICAgICAgICAgIGFib3J0QWxsKHN0cmVhbXMsIGVyciwgY2IpXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNiKG51bGwsIGRhdGEpXG4gICAgICAgIH0pXG4gICAgfSkoKVxuICB9XG59XG5cblxuIiwiXG5cbi8qXG5hbGwgcHVsbCBzdHJlYW1zIGhhdmUgdGhlc2Ugc3RhdGVzOlxuXG57XG4gIFNUQVJUOiB7XG4gICAgcmVhZDogUkVBRElORyxcbiAgICBhYm9ydDogQUJPUlRJTkdcbiAgfSxcbiAgUkVBRFk6IHtcbiAgICByZWFkOiBSRUFESU5HLFxuICAgIGFib3J0OiBBQk9SVElOR1xuICB9LFxuICBSRUFESU5HOiB7XG4gICAgY2I6IFJFQURZLFxuICAgIGVycjogRVJST1IsXG4gICAgZW5kOiBFTkRcbiAgfSxcbiAgQUJPUlRJTkc6IHtcbiAgICBjYjogRU5EXG4gIH0sXG4gIEVSUk9SOiB7fSxcbiAgRU5EOiB7fVxufVxuXG50aGlzIG1vZHVsZSB0YWtlcyBhIGNvbGxlY3Rpb24gb2YgcHVsbC1zdHJlYW1zLFxuYW5kIGludGVybGVhdmVzIHRoZWlyIHN0YXRlcy5cbmlmIGFsbCB0aGUgc3RyZWFtcyBoYXZlIGVuZGVkLCBpdCBlbmRzLlxuSWYgaXQgaXMgaW4gcmVhZGluZyBzdGF0ZSwgYW5kIG9uZSBzdHJlYW0gZ29lcyBoYXMgUkVBRElORy0+Y2Jcbml0IGdvZXMgaW50byBSRUFEWVxuXG5vbiByZWFkLCB0cmlnZ2VyIHJlYWQgb24gZXZlcnkgc3RyZWFtIGluIFNUQVJUIG9yIFJFQURZXG5cbm9uIGFib3J0LCB0cmlnZ2VyIGFib3J0IG9uIGV2ZXJ5IHN0cmVhbSBpbiBTVEFSVCBvciBSRUFEWVxuXG5pZiBhIHN0cmVhbSBpcyBpbiBSRUFEWSwgYW5kIGJpZyBzdHJlYW0gaXMgaW4gQUJPUlQsXG50cmlnZ2VyIGFib3J0XG5cbmlmIGV2ZXJ5IHN0cmVhbSBpcyBpbiBFTkQgb3IgRVJST1IsIHRyaWdnZXIgZW5kIG9yIGVycm9yXG5cbmNvdWxkIHlvdSBkZXNjcmliZSB0aGlzIGRlY2xhcml0aXZlbHkgb3Igc29tZXRoaW5nP1xuKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJ5KSB7XG5cbiAgdmFyIGNhcHBlZCA9ICEhYXJ5XG4gIHZhciBpbnB1dHMgPSAoYXJ5IHx8IFtdKS5tYXAoY3JlYXRlKSwgaSA9IDAsIGFib3J0LCBjYlxuXG4gIGZ1bmN0aW9uIGNyZWF0ZSAoc3RyZWFtKSB7XG4gICAgcmV0dXJuIHtyZWFkeTogZmFsc2UsIHJlYWRpbmc6IGZhbHNlLCBlbmRlZDogZmFsc2UsIHJlYWQ6IHN0cmVhbSwgZGF0YTogbnVsbH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrICgpIHtcbiAgICBpZighY2IpIHJldHVyblxuICAgIGNsZWFuKClcbiAgICB2YXIgbCA9IGlucHV0cy5sZW5ndGhcbiAgICB2YXIgX2NiID0gY2JcbiAgICBpZihsID09PSAwICYmIChhYm9ydCB8fCBjYXBwZWQpKSB7XG4gICAgICBjYiA9IG51bGw7IF9jYihhYm9ydCB8fCAgdHJ1ZSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vc2NhbiB0aGUgaW5wdXRzIHRvIGNoZWNrIHdoZXRoZXIgdGhlcmUgaXMgb25lIHdlIGNhbiB1c2UuXG4gICAgZm9yKHZhciBqID0gMDsgaiA8IGw7IGorKykge1xuICAgICAgdmFyIGN1cnJlbnQgPSBpbnB1dHNbKGkgKyBqKSAlIGxdXG4gICAgICBpZihjdXJyZW50LnJlYWR5ICYmICFjdXJyZW50LmVuZGVkKSB7XG4gICAgICAgIHZhciBkYXRhID0gY3VycmVudC5kYXRhXG4gICAgICAgIGN1cnJlbnQucmVhZHkgPSBmYWxzZVxuICAgICAgICBjdXJyZW50LmRhdGEgPSBudWxsXG4gICAgICAgIGkgKys7IGNiID0gbnVsbFxuICAgICAgICByZXR1cm4gX2NiKG51bGwsIGRhdGEpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYW4gKCkge1xuICAgIHZhciBsID0gaW5wdXRzLmxlbmd0aFxuICAgIC8vaXRlcmF0ZSBiYWNrd2FyZHMgc28gdGhhdCB3ZSBjYW4gcmVtb3ZlIGl0ZW1zLlxuICAgIHdoaWxlKGwtLSkge1xuICAgICAgaWYoaW5wdXRzW2xdLmVuZGVkKVxuICAgICAgICBpbnB1dHMuc3BsaWNlKGwsIDEpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbmV4dCAoKSB7XG4gICAgdmFyIGwgPSBpbnB1dHMubGVuZ3RoXG4gICAgd2hpbGUobC0tKVxuICAgICAgKGZ1bmN0aW9uIChjdXJyZW50KSB7XG4gICAgICAgIC8vcmVhZCB0aGUgbmV4dCBpdGVtIGlmIHdlIGFyZW4ndCBhbHJlYWR5XG4gICAgICAgIGlmKGwgPiBpbnB1dHMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ3RoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbicpXG4gICAgICAgIGlmKGN1cnJlbnQucmVhZGluZyB8fCBjdXJyZW50LmVuZGVkIHx8IGN1cnJlbnQucmVhZHkpIHJldHVyblxuICAgICAgICBjdXJyZW50LnJlYWRpbmcgPSB0cnVlXG4gICAgICAgIHZhciBzeW5jID0gdHJ1ZVxuICAgICAgICBjdXJyZW50LnJlYWQoYWJvcnQsIGZ1bmN0aW9uIG5leHQgKGVuZCwgZGF0YSkge1xuICAgICAgICAgIGN1cnJlbnQuZGF0YSA9IGRhdGFcbiAgICAgICAgICBjdXJyZW50LnJlYWR5ID0gdHJ1ZVxuICAgICAgICAgIGN1cnJlbnQucmVhZGluZyA9IGZhbHNlXG5cbiAgICAgICAgICBpZihlbmQgPT09IHRydWUgfHwgYWJvcnQpIGN1cnJlbnQuZW5kZWQgPSB0cnVlXG4gICAgICAgICAgZWxzZSBpZihlbmQpIGFib3J0ID0gY3VycmVudC5lbmRlZCA9IGVuZFxuICAgICAgICAgIC8vY2hlY2sgd2hldGhlciB3ZSBuZWVkIHRvIGFib3J0IHRoaXMgc3RyZWFtLlxuICAgICAgICAgIGlmKGFib3J0ICYmICFlbmQpIGN1cnJlbnQucmVhZChhYm9ydCwgbmV4dClcbiAgICAgICAgICBpZighc3luYykgY2hlY2soKVxuICAgICAgICB9KVxuICAgICAgICBzeW5jID0gZmFsc2VcbiAgICAgIH0pKGlucHV0c1tsXSlcblxuICAgIC8vc2NhbiB0aGUgZmVlZFxuICAgIGNoZWNrKClcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKF9hYm9ydCwgX2NiKSB7XG4gICAgYWJvcnQgPSBhYm9ydCB8fCBfYWJvcnQ7IGNiID0gX2NiOyBuZXh0KClcbiAgfVxuXG4gIHJlYWQuYWRkID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgIGlmKCFzdHJlYW0pIHtcbiAgICAgIC8vdGhlIHN0cmVhbSB3aWxsIG5vdyBlbmQgd2hlbiBhbGwgdGhlIHN0cmVhbXMgZW5kLlxuICAgICAgY2FwcGVkID0gdHJ1ZVxuICAgICAgLy93ZSBqdXN0IGNoYW5nZWQgc3RhdGUsIHNvIHdlIG1heSBuZWVkIHRvIGNiXG4gICAgICByZXR1cm4gbmV4dCgpXG4gICAgfVxuICAgIGlucHV0cy5wdXNoKGNyZWF0ZShzdHJlYW0pKVxuICAgIG5leHQoKVxuICB9XG5cbiAgcmVhZC5jYXAgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgcmVhZC5hZGQobnVsbClcbiAgfVxuXG4gIHJldHVybiByZWFkXG59XG4iLCJcbnZhciBwdXNoYWJsZSA9IHJlcXVpcmUoJ3B1bGwtcHVzaGFibGUnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxpc3RlbmVycyA9IFtdXG5cbiAgZnVuY3Rpb24gbm90aWZ5IChtZXNzYWdlKSB7XG4gICAgLy8gbm90aWZ5IGJ5IHB1c2hpbmcgdG8gYWxsIGxpc3RlbmVyc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaXN0ZW5lcnNbaV0ucHVzaChtZXNzYWdlKVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZVxuICB9XG5cbiAgbm90aWZ5Lmxpc3RlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBjcmVhdGUgbGlzdGVuZXIgd2l0aCBgb25DbG9zZWAgaGFuZGxlclxuICAgIHZhciBsaXN0ZW5lciA9IHB1c2hhYmxlKGZ1bmN0aW9uIG9uQ2xvc2UgKCkge1xuICAgICAgLy8gaWYgbGlzdGVuZXIgaXMgZm91bmQsIGRlbGV0ZSBmcm9tIGxpc3RcbiAgICAgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKVxuICAgICAgaWYgKGluZGV4ICE9PSAtMSkgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSlcbiAgICB9KVxuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKVxuICAgIHJldHVybiBsaXN0ZW5lclxuICB9XG5cbiAgbm90aWZ5LmFib3J0ID0gZnVuY3Rpb24gKGVycikge1xuICAgIC8vIGFib3J0IGJ5IGVuZGluZyBhbGwgbGlzdGVuZXJzXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpIGxpc3RlbmVyc1swXS5lbmQoZXJyKVxuICB9XG5cbiAgbm90aWZ5LmVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbm90aWZ5LmFib3J0KHRydWUpXG4gIH1cblxuICByZXR1cm4gbm90aWZ5XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHB1bGxQdXNoYWJsZVxuXG5mdW5jdGlvbiBwdWxsUHVzaGFibGUgKG9uQ2xvc2UpIHtcbiAgLy8gY3JlYXRlIGEgYnVmZmVyIGZvciBkYXRhXG4gIC8vIHRoYXQgaGF2ZSBiZWVuIHB1c2hlZFxuICAvLyBidXQgbm90IHlldCBwdWxsZWQuXG4gIHZhciBidWZmZXIgPSBbXVxuXG4gIC8vIGEgcHVzaGFibGUgaXMgYSBzb3VyY2Ugc3RyZWFtXG4gIC8vIChhYm9ydCwgY2IpID0+IGNiKGVuZCwgZGF0YSlcbiAgLy9cbiAgLy8gd2hlbiBwdXNoYWJsZSBpcyBwdWxsZWQsXG4gIC8vIGtlZXAgcmVmZXJlbmNlcyB0byBhYm9ydCBhbmQgY2JcbiAgLy8gc28gd2UgY2FuIGNhbGwgYmFjayBhZnRlclxuICAvLyAuZW5kKGVuZCkgb3IgLnB1c2goZGF0YSlcbiAgdmFyIGFib3J0LCBjYlxuICBmdW5jdGlvbiByZWFkIChfYWJvcnQsIF9jYikge1xuICAgIGlmIChfYWJvcnQpIHtcbiAgICAgIGFib3J0ID0gX2Fib3J0XG4gICAgICAvLyBpZiB0aGVyZSBpcyBhbHJlYWR5IGEgY2Igd2FpdGluZywgYWJvcnQgaXQuXG4gICAgICBpZiAoY2IpIGNhbGxiYWNrKGFib3J0KVxuICAgIH1cbiAgICBjYiA9IF9jYlxuICAgIGRyYWluKClcbiAgfVxuXG4gIHZhciBlbmRlZFxuICByZWFkLmVuZCA9IGZ1bmN0aW9uIChlbmQpIHtcbiAgICBlbmRlZCA9IGVuZGVkIHx8IGVuZCB8fCB0cnVlXG4gICAgLy8gYXR0ZW1wdCB0byBkcmFpblxuICAgIGRyYWluKClcbiAgfVxuXG4gIHJlYWQucHVzaCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKGVuZGVkKSByZXR1cm5cbiAgICAvLyBpZiBzaW5rIGFscmVhZHkgd2FpdGluZyxcbiAgICAvLyB3ZSBjYW4gY2FsbCBiYWNrIGRpcmVjdGx5LlxuICAgIGlmIChjYikge1xuICAgICAgY2FsbGJhY2soYWJvcnQsIGRhdGEpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gb3RoZXJ3aXNlIHB1c2ggZGF0YSBhbmRcbiAgICAvLyBhdHRlbXB0IHRvIGRyYWluXG4gICAgYnVmZmVyLnB1c2goZGF0YSlcbiAgICBkcmFpbigpXG4gIH1cblxuICByZXR1cm4gcmVhZFxuXG4gIC8vIGBkcmFpbmAgY2FsbHMgYmFjayB0byAoaWYgYW55KSB3YWl0aW5nXG4gIC8vIHNpbmsgd2l0aCBhYm9ydCwgZW5kLCBvciBuZXh0IGRhdGEuXG4gIGZ1bmN0aW9uIGRyYWluICgpIHtcbiAgICBpZiAoIWNiKSByZXR1cm5cblxuICAgIGlmIChhYm9ydCkgY2FsbGJhY2soYWJvcnQpXG4gICAgZWxzZSBpZiAoIWJ1ZmZlci5sZW5ndGggJiYgZW5kZWQpIGNhbGxiYWNrKGVuZGVkKVxuICAgIGVsc2UgaWYgKGJ1ZmZlci5sZW5ndGgpIGNhbGxiYWNrKG51bGwsIGJ1ZmZlci5zaGlmdCgpKVxuICB9XG5cbiAgLy8gYGNhbGxiYWNrYCBjYWxscyBiYWNrIHRvIHdhaXRpbmcgc2luayxcbiAgLy8gYW5kIHJlbW92ZXMgcmVmZXJlbmNlcyB0byBzaW5rIGNiLlxuICBmdW5jdGlvbiBjYWxsYmFjayAoZXJyLCB2YWwpIHtcbiAgICB2YXIgX2NiID0gY2JcbiAgICAvLyBpZiBlcnJvciBhbmQgcHVzaGFibGUgcGFzc2VkIG9uQ2xvc2UsIGNhbGwgaXRcbiAgICAvLyB0aGUgZmlyc3QgdGltZSB0aGlzIHN0cmVhbSBlbmRzIG9yIGVycm9ycy5cbiAgICBpZiAoZXJyICYmIG9uQ2xvc2UpIHtcbiAgICAgIHZhciBjID0gb25DbG9zZVxuICAgICAgb25DbG9zZSA9IG51bGxcbiAgICAgIGMoZXJyID09PSB0cnVlID8gbnVsbCA6IGVycilcbiAgICB9XG4gICAgY2IgPSBudWxsXG4gICAgX2NiKGVyciwgdmFsKVxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxudmFyIHNvdXJjZXMgID0gcmVxdWlyZSgnLi9zb3VyY2VzJylcbnZhciBzaW5rcyAgICA9IHJlcXVpcmUoJy4vc2lua3MnKVxudmFyIHRocm91Z2hzID0gcmVxdWlyZSgnLi90aHJvdWdocycpXG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vcHVsbCcpXG5cbmZvcih2YXIgayBpbiBzb3VyY2VzKVxuICBleHBvcnRzW2tdID0gc291cmNlc1trXVxuXG5mb3IodmFyIGsgaW4gdGhyb3VnaHMpXG4gIGV4cG9ydHNba10gPSB0aHJvdWdoc1trXVxuXG5mb3IodmFyIGsgaW4gc2lua3MpXG4gIGV4cG9ydHNba10gPSBzaW5rc1trXVxuXG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwdWxsIChhKSB7XG4gIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoXG4gIGlmICh0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJyAmJiBhLmxlbmd0aCA9PT0gMSkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGxlbmd0aClcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZWFkKSB7XG4gICAgICBpZiAoYXJncyA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJwYXJ0aWFsIHNpbmsgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UhXCIpXG4gICAgICB9XG5cbiAgICAgIC8vIEdyYWIgdGhlIHJlZmVyZW5jZSBhZnRlciB0aGUgY2hlY2ssIGJlY2F1c2UgaXQncyBhbHdheXMgYW4gYXJyYXkgbm93XG4gICAgICAvLyAoZW5naW5lcyBsaWtlIHRoYXQga2luZCBvZiBjb25zaXN0ZW5jeSkuXG4gICAgICB2YXIgcmVmID0gYXJnc1xuICAgICAgYXJncyA9IG51bGxcblxuICAgICAgLy8gUHJpb3JpdGl6ZSBjb21tb24gY2FzZSBvZiBzbWFsbCBudW1iZXIgb2YgcHVsbHMuXG4gICAgICBzd2l0Y2ggKGxlbmd0aCkge1xuICAgICAgY2FzZSAxOiByZXR1cm4gcHVsbChyZWFkLCByZWZbMF0pXG4gICAgICBjYXNlIDI6IHJldHVybiBwdWxsKHJlYWQsIHJlZlswXSwgcmVmWzFdKVxuICAgICAgY2FzZSAzOiByZXR1cm4gcHVsbChyZWFkLCByZWZbMF0sIHJlZlsxXSwgcmVmWzJdKVxuICAgICAgY2FzZSA0OiByZXR1cm4gcHVsbChyZWFkLCByZWZbMF0sIHJlZlsxXSwgcmVmWzJdLCByZWZbM10pXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZWYudW5zaGlmdChyZWFkKVxuICAgICAgICByZXR1cm4gcHVsbC5hcHBseShudWxsLCByZWYpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIHJlYWQgPSBhXG5cbiAgaWYgKHJlYWQgJiYgdHlwZW9mIHJlYWQuc291cmNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmVhZCA9IHJlYWQuc291cmNlXG4gIH1cblxuICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHMgPSBhcmd1bWVudHNbaV1cbiAgICBpZiAodHlwZW9mIHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlYWQgPSBzKHJlYWQpXG4gICAgfSBlbHNlIGlmIChzICYmIHR5cGVvZiBzID09PSAnb2JqZWN0Jykge1xuICAgICAgcy5zaW5rKHJlYWQpXG4gICAgICByZWFkID0gcy5zb3VyY2VcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVhZFxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciByZWR1Y2UgPSByZXF1aXJlKCcuL3JlZHVjZScpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29sbGVjdCAoY2IpIHtcbiAgcmV0dXJuIHJlZHVjZShmdW5jdGlvbiAoYXJyLCBpdGVtKSB7XG4gICAgYXJyLnB1c2goaXRlbSlcbiAgICByZXR1cm4gYXJyXG4gIH0sIFtdLCBjYilcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgcmVkdWNlID0gcmVxdWlyZSgnLi9yZWR1Y2UnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbmNhdCAoY2IpIHtcbiAgcmV0dXJuIHJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBhICsgYlxuICB9LCAnJywgY2IpXG59XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkcmFpbiAob3AsIGRvbmUpIHtcbiAgdmFyIHJlYWQsIGFib3J0XG5cbiAgZnVuY3Rpb24gc2luayAoX3JlYWQpIHtcbiAgICByZWFkID0gX3JlYWRcbiAgICBpZihhYm9ydCkgcmV0dXJuIHNpbmsuYWJvcnQoKVxuICAgIC8vdGhpcyBmdW5jdGlvbiBpcyBtdWNoIHNpbXBsZXIgdG8gd3JpdGUgaWYgeW91XG4gICAgLy9qdXN0IHVzZSByZWN1cnNpb24sIGJ1dCBieSB1c2luZyBhIHdoaWxlIGxvb3BcbiAgICAvL3dlIGRvIG5vdCBibG93IHRoZSBzdGFjayBpZiB0aGUgc3RyZWFtIGhhcHBlbnMgdG8gYmUgc3luYy5cbiAgICA7KGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIHZhciBsb29wID0gdHJ1ZSwgY2JlZCA9IGZhbHNlXG4gICAgICAgIHdoaWxlKGxvb3ApIHtcbiAgICAgICAgICBjYmVkID0gZmFsc2VcbiAgICAgICAgICByZWFkKG51bGwsIGZ1bmN0aW9uIChlbmQsIGRhdGEpIHtcbiAgICAgICAgICAgIGNiZWQgPSB0cnVlXG4gICAgICAgICAgICBpZihlbmQgPSBlbmQgfHwgYWJvcnQpIHtcbiAgICAgICAgICAgICAgbG9vcCA9IGZhbHNlXG4gICAgICAgICAgICAgIGlmKGRvbmUpIGRvbmUoZW5kID09PSB0cnVlID8gbnVsbCA6IGVuZClcbiAgICAgICAgICAgICAgZWxzZSBpZihlbmQgJiYgZW5kICE9PSB0cnVlKVxuICAgICAgICAgICAgICAgIHRocm93IGVuZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihvcCAmJiBmYWxzZSA9PT0gb3AoZGF0YSkgfHwgYWJvcnQpIHtcbiAgICAgICAgICAgICAgbG9vcCA9IGZhbHNlXG4gICAgICAgICAgICAgIHJlYWQoYWJvcnQgfHwgdHJ1ZSwgZG9uZSB8fCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoIWxvb3Ape1xuICAgICAgICAgICAgICBuZXh0KClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIGlmKCFjYmVkKSB7XG4gICAgICAgICAgICBsb29wID0gZmFsc2VcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkoKVxuICB9XG5cbiAgc2luay5hYm9ydCA9IGZ1bmN0aW9uIChlcnIsIGNiKSB7XG4gICAgaWYoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZXJyKVxuICAgICAgY2IgPSBlcnIsIGVyciA9IHRydWVcbiAgICBhYm9ydCA9IGVyciB8fCB0cnVlXG4gICAgaWYocmVhZCkgcmV0dXJuIHJlYWQoYWJvcnQsIGNiIHx8IGZ1bmN0aW9uICgpIHt9KVxuICB9XG5cbiAgcmV0dXJuIHNpbmtcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5mdW5jdGlvbiBpZCAoZSkgeyByZXR1cm4gZSB9XG52YXIgcHJvcCA9IHJlcXVpcmUoJy4uL3V0aWwvcHJvcCcpXG52YXIgZHJhaW4gPSByZXF1aXJlKCcuL2RyYWluJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmaW5kICh0ZXN0LCBjYikge1xuICB2YXIgZW5kZWQgPSBmYWxzZVxuICBpZighY2IpXG4gICAgY2IgPSB0ZXN0LCB0ZXN0ID0gaWRcbiAgZWxzZVxuICAgIHRlc3QgPSBwcm9wKHRlc3QpIHx8IGlkXG5cbiAgcmV0dXJuIGRyYWluKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYodGVzdChkYXRhKSkge1xuICAgICAgZW5kZWQgPSB0cnVlXG4gICAgICBjYihudWxsLCBkYXRhKVxuICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmKGVuZGVkKSByZXR1cm4gLy9hbHJlYWR5IGNhbGxlZCBiYWNrXG4gICAgY2IoZXJyID09PSB0cnVlID8gbnVsbCA6IGVyciwgbnVsbClcbiAgfSlcbn1cblxuXG5cblxuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBkcmFpbjogcmVxdWlyZSgnLi9kcmFpbicpLFxuICBvbkVuZDogcmVxdWlyZSgnLi9vbi1lbmQnKSxcbiAgbG9nOiByZXF1aXJlKCcuL2xvZycpLFxuICBmaW5kOiByZXF1aXJlKCcuL2ZpbmQnKSxcbiAgcmVkdWNlOiByZXF1aXJlKCcuL3JlZHVjZScpLFxuICBjb2xsZWN0OiByZXF1aXJlKCcuL2NvbGxlY3QnKSxcbiAgY29uY2F0OiByZXF1aXJlKCcuL2NvbmNhdCcpXG59XG5cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgZHJhaW4gPSByZXF1aXJlKCcuL2RyYWluJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBsb2cgKGRvbmUpIHtcbiAgcmV0dXJuIGRyYWluKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgY29uc29sZS5sb2coZGF0YSlcbiAgfSwgZG9uZSlcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgZHJhaW4gPSByZXF1aXJlKCcuL2RyYWluJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBvbkVuZCAoZG9uZSkge1xuICByZXR1cm4gZHJhaW4obnVsbCwgZG9uZSlcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgZHJhaW4gPSByZXF1aXJlKCcuL2RyYWluJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZWR1Y2UgKHJlZHVjZXIsIGFjYywgY2IpIHtcbiAgcmV0dXJuIGRyYWluKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgYWNjID0gcmVkdWNlcihhY2MsIGRhdGEpXG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBjYihlcnIsIGFjYylcbiAgfSlcbn1cblxuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY291bnQgKG1heCkge1xuICB2YXIgaSA9IDA7IG1heCA9IG1heCB8fCBJbmZpbml0eVxuICByZXR1cm4gZnVuY3Rpb24gKGVuZCwgY2IpIHtcbiAgICBpZihlbmQpIHJldHVybiBjYiAmJiBjYihlbmQpXG4gICAgaWYoaSA+IG1heClcbiAgICAgIHJldHVybiBjYih0cnVlKVxuICAgIGNiKG51bGwsIGkrKylcbiAgfVxufVxuXG5cbiIsIid1c2Ugc3RyaWN0J1xuLy9hIHN0cmVhbSB0aGF0IGVuZHMgaW1tZWRpYXRlbHkuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVtcHR5ICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhYm9ydCwgY2IpIHtcbiAgICBjYih0cnVlKVxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcbi8vYSBzdHJlYW0gdGhhdCBlcnJvcnMgaW1tZWRpYXRlbHkuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVycm9yIChlcnIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhYm9ydCwgY2IpIHtcbiAgICBjYihlcnIpXG4gIH1cbn1cblxuIiwiJ3VzZSBzdHJpY3QnXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAga2V5czogcmVxdWlyZSgnLi9rZXlzJyksXG4gIG9uY2U6IHJlcXVpcmUoJy4vb25jZScpLFxuICB2YWx1ZXM6IHJlcXVpcmUoJy4vdmFsdWVzJyksXG4gIGNvdW50OiByZXF1aXJlKCcuL2NvdW50JyksXG4gIGluZmluaXRlOiByZXF1aXJlKCcuL2luZmluaXRlJyksXG4gIGVtcHR5OiByZXF1aXJlKCcuL2VtcHR5JyksXG4gIGVycm9yOiByZXF1aXJlKCcuL2Vycm9yJylcbn1cbiIsIid1c2Ugc3RyaWN0J1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmZpbml0ZSAoZ2VuZXJhdGUpIHtcbiAgZ2VuZXJhdGUgPSBnZW5lcmF0ZSB8fCBNYXRoLnJhbmRvbVxuICByZXR1cm4gZnVuY3Rpb24gKGVuZCwgY2IpIHtcbiAgICBpZihlbmQpIHJldHVybiBjYiAmJiBjYihlbmQpXG4gICAgcmV0dXJuIGNiKG51bGwsIGdlbmVyYXRlKCkpXG4gIH1cbn1cblxuXG4iLCIndXNlIHN0cmljdCdcbnZhciB2YWx1ZXMgPSByZXF1aXJlKCcuL3ZhbHVlcycpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgcmV0dXJuIHZhbHVlcyhPYmplY3Qua2V5cyhvYmplY3QpKVxufVxuXG5cbiIsIid1c2Ugc3RyaWN0J1xudmFyIGFib3J0Q2IgPSByZXF1aXJlKCcuLi91dGlsL2Fib3J0LWNiJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBvbmNlICh2YWx1ZSwgb25BYm9ydCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGFib3J0LCBjYikge1xuICAgIGlmKGFib3J0KVxuICAgICAgcmV0dXJuIGFib3J0Q2IoY2IsIGFib3J0LCBvbkFib3J0KVxuICAgIGlmKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIHZhciBfdmFsdWUgPSB2YWx1ZTsgdmFsdWUgPSBudWxsXG4gICAgICBjYihudWxsLCBfdmFsdWUpXG4gICAgfSBlbHNlXG4gICAgICBjYih0cnVlKVxuICB9XG59XG5cblxuIiwiJ3VzZSBzdHJpY3QnXG52YXIgYWJvcnRDYiA9IHJlcXVpcmUoJy4uL3V0aWwvYWJvcnQtY2InKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHZhbHVlcyAoYXJyYXksIG9uQWJvcnQpIHtcbiAgaWYoIWFycmF5KVxuICAgIHJldHVybiBmdW5jdGlvbiAoYWJvcnQsIGNiKSB7XG4gICAgICBpZihhYm9ydCkgcmV0dXJuIGFib3J0Q2IoY2IsIGFib3J0LCBvbkFib3J0KVxuICAgICAgcmV0dXJuIGNiKHRydWUpXG4gICAgfVxuICBpZighQXJyYXkuaXNBcnJheShhcnJheSkpXG4gICAgYXJyYXkgPSBPYmplY3Qua2V5cyhhcnJheSkubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgICByZXR1cm4gYXJyYXlba11cbiAgICB9KVxuICB2YXIgaSA9IDBcbiAgcmV0dXJuIGZ1bmN0aW9uIChhYm9ydCwgY2IpIHtcbiAgICBpZihhYm9ydClcbiAgICAgIHJldHVybiBhYm9ydENiKGNiLCBhYm9ydCwgb25BYm9ydClcbiAgICBpZihpID49IGFycmF5Lmxlbmd0aClcbiAgICAgIGNiKHRydWUpXG4gICAgZWxzZVxuICAgICAgY2IobnVsbCwgYXJyYXlbaSsrXSlcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIGlkIChlKSB7IHJldHVybiBlIH1cbnZhciBwcm9wID0gcmVxdWlyZSgnLi4vdXRpbC9wcm9wJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBhc3luY01hcCAobWFwKSB7XG4gIGlmKCFtYXApIHJldHVybiBpZFxuICBtYXAgPSBwcm9wKG1hcClcbiAgdmFyIGJ1c3kgPSBmYWxzZSwgYWJvcnRDYiwgYWJvcnRlZFxuICByZXR1cm4gZnVuY3Rpb24gKHJlYWQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCAoYWJvcnQsIGNiKSB7XG4gICAgICBpZihhYm9ydGVkKSByZXR1cm4gY2IoYWJvcnRlZClcbiAgICAgIGlmKGFib3J0KSB7XG4gICAgICAgIGFib3J0ZWQgPSBhYm9ydFxuICAgICAgICBpZighYnVzeSkgcmVhZChhYm9ydCwgY2IpXG4gICAgICAgIGVsc2UgcmVhZChhYm9ydCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vaWYgd2UgYXJlIHN0aWxsIGJ1c3ksIHdhaXQgZm9yIHRoZSBtYXBwZXIgdG8gY29tcGxldGUuXG4gICAgICAgICAgaWYoYnVzeSkgYWJvcnRDYiA9IGNiXG4gICAgICAgICAgZWxzZSBjYihhYm9ydClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgICAgcmVhZChudWxsLCBmdW5jdGlvbiAoZW5kLCBkYXRhKSB7XG4gICAgICAgICAgaWYoZW5kKSBjYihlbmQpXG4gICAgICAgICAgZWxzZSBpZihhYm9ydGVkKSBjYihhYm9ydGVkKVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnVzeSA9IHRydWVcbiAgICAgICAgICAgIG1hcChkYXRhLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgICAgICAgIGJ1c3kgPSBmYWxzZVxuICAgICAgICAgICAgICBpZihhYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgY2IoYWJvcnRlZClcbiAgICAgICAgICAgICAgICBhYm9ydENiKGFib3J0ZWQpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZihlcnIpIG5leHQgKGVyciwgY2IpXG4gICAgICAgICAgICAgIGVsc2UgY2IobnVsbCwgZGF0YSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgfVxufVxuXG5cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgdGVzdGVyID0gcmVxdWlyZSgnLi4vdXRpbC90ZXN0ZXInKVxudmFyIGZpbHRlciA9IHJlcXVpcmUoJy4vZmlsdGVyJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmaWx0ZXJOb3QgKHRlc3QpIHtcbiAgdGVzdCA9IHRlc3Rlcih0ZXN0KVxuICByZXR1cm4gZmlsdGVyKGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiAhdGVzdChkYXRhKSB9KVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciB0ZXN0ZXIgPSByZXF1aXJlKCcuLi91dGlsL3Rlc3RlcicpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmlsdGVyICh0ZXN0KSB7XG4gIC8vcmVnZXhwXG4gIHRlc3QgPSB0ZXN0ZXIodGVzdClcbiAgcmV0dXJuIGZ1bmN0aW9uIChyZWFkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQgKGVuZCwgY2IpIHtcbiAgICAgIHZhciBzeW5jLCBsb29wID0gdHJ1ZVxuICAgICAgd2hpbGUobG9vcCkge1xuICAgICAgICBsb29wID0gZmFsc2VcbiAgICAgICAgc3luYyA9IHRydWVcbiAgICAgICAgcmVhZChlbmQsIGZ1bmN0aW9uIChlbmQsIGRhdGEpIHtcbiAgICAgICAgICBpZighZW5kICYmICF0ZXN0KGRhdGEpKVxuICAgICAgICAgICAgcmV0dXJuIHN5bmMgPyBsb29wID0gdHJ1ZSA6IG5leHQoZW5kLCBjYilcbiAgICAgICAgICBjYihlbmQsIGRhdGEpXG4gICAgICAgIH0pXG4gICAgICAgIHN5bmMgPSBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4iLCIndXNlIHN0cmljdCdcblxudmFyIHZhbHVlcyA9IHJlcXVpcmUoJy4uL3NvdXJjZXMvdmFsdWVzJylcbnZhciBvbmNlID0gcmVxdWlyZSgnLi4vc291cmNlcy9vbmNlJylcblxuLy9jb252ZXJ0IGEgc3RyZWFtIG9mIGFycmF5cyBvciBzdHJlYW1zIGludG8ganVzdCBhIHN0cmVhbS5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmxhdHRlbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocmVhZCkge1xuICAgIHZhciBfcmVhZFxuICAgIHJldHVybiBmdW5jdGlvbiAoYWJvcnQsIGNiKSB7XG4gICAgICBpZiAoYWJvcnQpIHsgLy9hYm9ydCB0aGUgY3VycmVudCBzdHJlYW0sIGFuZCB0aGVuIHN0cmVhbSBvZiBzdHJlYW1zLlxuICAgICAgICBfcmVhZCA/IF9yZWFkKGFib3J0LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICByZWFkKGVyciB8fCBhYm9ydCwgY2IpXG4gICAgICAgIH0pIDogcmVhZChhYm9ydCwgY2IpXG4gICAgICB9XG4gICAgICBlbHNlIGlmKF9yZWFkKSBuZXh0Q2h1bmsoKVxuICAgICAgZWxzZSBuZXh0U3RyZWFtKClcblxuICAgICAgZnVuY3Rpb24gbmV4dENodW5rICgpIHtcbiAgICAgICAgX3JlYWQobnVsbCwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICAgIGlmIChlcnIgPT09IHRydWUpIG5leHRTdHJlYW0oKVxuICAgICAgICAgIGVsc2UgaWYgKGVycikge1xuICAgICAgICAgICAgcmVhZCh0cnVlLCBmdW5jdGlvbihhYm9ydEVycikge1xuICAgICAgICAgICAgICAvLyBUT0RPOiB3aGF0IGRvIHdlIGRvIHdpdGggdGhlIGFib3J0RXJyP1xuICAgICAgICAgICAgICBjYihlcnIpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGNiKG51bGwsIGRhdGEpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBuZXh0U3RyZWFtICgpIHtcbiAgICAgICAgX3JlYWQgPSBudWxsXG4gICAgICAgIHJlYWQobnVsbCwgZnVuY3Rpb24gKGVuZCwgc3RyZWFtKSB7XG4gICAgICAgICAgaWYoZW5kKVxuICAgICAgICAgICAgcmV0dXJuIGNiKGVuZClcbiAgICAgICAgICBpZihBcnJheS5pc0FycmF5KHN0cmVhbSkgfHwgc3RyZWFtICYmICdvYmplY3QnID09PSB0eXBlb2Ygc3RyZWFtKVxuICAgICAgICAgICAgc3RyZWFtID0gdmFsdWVzKHN0cmVhbSlcbiAgICAgICAgICBlbHNlIGlmKCdmdW5jdGlvbicgIT0gdHlwZW9mIHN0cmVhbSlcbiAgICAgICAgICAgIHN0cmVhbSA9IG9uY2Uoc3RyZWFtKVxuICAgICAgICAgIF9yZWFkID0gc3RyZWFtXG4gICAgICAgICAgbmV4dENodW5rKClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBtYXA6IHJlcXVpcmUoJy4vbWFwJyksXG4gIGFzeW5jTWFwOiByZXF1aXJlKCcuL2FzeW5jLW1hcCcpLFxuICBmaWx0ZXI6IHJlcXVpcmUoJy4vZmlsdGVyJyksXG4gIGZpbHRlck5vdDogcmVxdWlyZSgnLi9maWx0ZXItbm90JyksXG4gIHRocm91Z2g6IHJlcXVpcmUoJy4vdGhyb3VnaCcpLFxuICB0YWtlOiByZXF1aXJlKCcuL3Rha2UnKSxcbiAgdW5pcXVlOiByZXF1aXJlKCcuL3VuaXF1ZScpLFxuICBub25VbmlxdWU6IHJlcXVpcmUoJy4vbm9uLXVuaXF1ZScpLFxuICBmbGF0dGVuOiByZXF1aXJlKCcuL2ZsYXR0ZW4nKVxufVxuXG5cblxuIiwiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIGlkIChlKSB7IHJldHVybiBlIH1cbnZhciBwcm9wID0gcmVxdWlyZSgnLi4vdXRpbC9wcm9wJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYXAgKG1hcHBlcikge1xuICBpZighbWFwcGVyKSByZXR1cm4gaWRcbiAgbWFwcGVyID0gcHJvcChtYXBwZXIpXG4gIHJldHVybiBmdW5jdGlvbiAocmVhZCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWJvcnQsIGNiKSB7XG4gICAgICByZWFkKGFib3J0LCBmdW5jdGlvbiAoZW5kLCBkYXRhKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSAhZW5kID8gbWFwcGVyKGRhdGEpIDogbnVsbFxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVhZChlcnIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjYihlcnIpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBjYihlbmQsIGRhdGEpXG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciB1bmlxdWUgPSByZXF1aXJlKCcuL3VuaXF1ZScpXG5cbi8vcGFzc2VzIGFuIGl0ZW0gdGhyb3VnaCB3aGVuIHlvdSBzZWUgaXQgZm9yIHRoZSBzZWNvbmQgdGltZS5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9uVW5pcXVlIChmaWVsZCkge1xuICByZXR1cm4gdW5pcXVlKGZpZWxkLCB0cnVlKVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbi8vcmVhZCBhIG51bWJlciBvZiBpdGVtcyBhbmQgdGhlbiBzdG9wLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0YWtlICh0ZXN0LCBvcHRzKSB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9XG4gIHZhciBsYXN0ID0gb3B0cy5sYXN0IHx8IGZhbHNlIC8vIHdoZXRoZXIgdGhlIGZpcnN0IGl0ZW0gZm9yIHdoaWNoICF0ZXN0KGl0ZW0pIHNob3VsZCBzdGlsbCBwYXNzXG4gIHZhciBlbmRlZCA9IGZhbHNlXG4gIGlmKCdudW1iZXInID09PSB0eXBlb2YgdGVzdCkge1xuICAgIGxhc3QgPSB0cnVlXG4gICAgdmFyIG4gPSB0ZXN0OyB0ZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIC0tblxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAocmVhZCkge1xuXG4gICAgZnVuY3Rpb24gdGVybWluYXRlIChjYikge1xuICAgICAgcmVhZCh0cnVlLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGxhc3QgPSBmYWxzZTsgY2IoZXJyIHx8IHRydWUpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoZW5kLCBjYikge1xuICAgICAgaWYoZW5kZWQpICAgICAgICAgICAgbGFzdCA/IHRlcm1pbmF0ZShjYikgOiBjYihlbmRlZClcbiAgICAgIGVsc2UgaWYoZW5kZWQgPSBlbmQpIHJlYWQoZW5kZWQsIGNiKVxuICAgICAgZWxzZVxuICAgICAgICByZWFkKG51bGwsIGZ1bmN0aW9uIChlbmQsIGRhdGEpIHtcbiAgICAgICAgICBpZihlbmRlZCA9IGVuZGVkIHx8IGVuZCkge1xuICAgICAgICAgICAgLy9sYXN0ID8gdGVybWluYXRlKGNiKSA6XG4gICAgICAgICAgICBjYihlbmRlZClcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZighdGVzdChkYXRhKSkge1xuICAgICAgICAgICAgZW5kZWQgPSB0cnVlXG4gICAgICAgICAgICBsYXN0ID8gY2IobnVsbCwgZGF0YSkgOiB0ZXJtaW5hdGUoY2IpXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNiKG51bGwsIGRhdGEpXG4gICAgICAgIH0pXG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxuLy9hIHBhc3MgdGhyb3VnaCBzdHJlYW0gdGhhdCBkb2Vzbid0IGNoYW5nZSB0aGUgdmFsdWUuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRocm91Z2ggKG9wLCBvbkVuZCkge1xuICB2YXIgYSA9IGZhbHNlXG5cbiAgZnVuY3Rpb24gb25jZSAoYWJvcnQpIHtcbiAgICBpZihhIHx8ICFvbkVuZCkgcmV0dXJuXG4gICAgYSA9IHRydWVcbiAgICBvbkVuZChhYm9ydCA9PT0gdHJ1ZSA/IG51bGwgOiBhYm9ydClcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAocmVhZCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZW5kLCBjYikge1xuICAgICAgaWYoZW5kKSBvbmNlKGVuZClcbiAgICAgIHJldHVybiByZWFkKGVuZCwgZnVuY3Rpb24gKGVuZCwgZGF0YSkge1xuICAgICAgICBpZighZW5kKSBvcCAmJiBvcChkYXRhKVxuICAgICAgICBlbHNlIG9uY2UoZW5kKVxuICAgICAgICBjYihlbmQsIGRhdGEpXG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIGlkIChlKSB7IHJldHVybiBlIH1cbnZhciBwcm9wID0gcmVxdWlyZSgnLi4vdXRpbC9wcm9wJylcbnZhciBmaWx0ZXIgPSByZXF1aXJlKCcuL2ZpbHRlcicpXG5cbi8vZHJvcCBpdGVtcyB5b3UgaGF2ZSBhbHJlYWR5IHNlZW4uXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHVuaXF1ZSAoZmllbGQsIGludmVydCkge1xuICBmaWVsZCA9IHByb3AoZmllbGQpIHx8IGlkXG4gIHZhciBzZWVuID0ge31cbiAgcmV0dXJuIGZpbHRlcihmdW5jdGlvbiAoZGF0YSkge1xuICAgIHZhciBrZXkgPSBmaWVsZChkYXRhKVxuICAgIGlmKHNlZW5ba2V5XSkgcmV0dXJuICEhaW52ZXJ0IC8vZmFsc2UsIGJ5IGRlZmF1bHRcbiAgICBlbHNlIHNlZW5ba2V5XSA9IHRydWVcbiAgICByZXR1cm4gIWludmVydCAvL3RydWUgYnkgZGVmYXVsdFxuICB9KVxufVxuXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGFib3J0Q2IoY2IsIGFib3J0LCBvbkFib3J0KSB7XG4gIGNiKGFib3J0KVxuICBvbkFib3J0ICYmIG9uQWJvcnQoYWJvcnQgPT09IHRydWUgPyBudWxsOiBhYm9ydClcbiAgcmV0dXJuXG59XG5cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcHJvcCAoa2V5KSB7XG4gIHJldHVybiBrZXkgJiYgKFxuICAgICdzdHJpbmcnID09IHR5cGVvZiBrZXlcbiAgICA/IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBkYXRhW2tleV0gfVxuICAgIDogJ29iamVjdCcgPT09IHR5cGVvZiBrZXkgJiYgJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGtleS5leGVjIC8vcmVnZXhwXG4gICAgPyBmdW5jdGlvbiAoZGF0YSkgeyB2YXIgdiA9IGtleS5leGVjKGRhdGEpOyByZXR1cm4gdiAmJiB2WzBdIH1cbiAgICA6IGtleVxuICApXG59XG4iLCJ2YXIgcHJvcCA9IHJlcXVpcmUoJy4vcHJvcCcpXG5cbmZ1bmN0aW9uIGlkIChlKSB7IHJldHVybiBlIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0ZXN0ZXIgKHRlc3QpIHtcbiAgcmV0dXJuIChcbiAgICAnb2JqZWN0JyA9PT0gdHlwZW9mIHRlc3QgJiYgJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHRlc3QudGVzdCAvL3JlZ2V4cFxuICAgID8gZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIHRlc3QudGVzdChkYXRhKSB9XG4gICAgOiBwcm9wICh0ZXN0KSB8fCBpZFxuICApXG59XG4iLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMSBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjQuMScsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHtcblx0XHRcdC8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHQvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gbWFwKG9ialtrXSwgZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuZnVuY3Rpb24gbWFwICh4cywgZikge1xuICBpZiAoeHMubWFwKSByZXR1cm4geHMubWFwKGYpO1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICByZXMucHVzaChmKHhzW2ldLCBpKSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSByZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLmRlY29kZSA9IGV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuZXhwb3J0cy5lbmNvZGUgPSBleHBvcnRzLnN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vZW5jb2RlJyk7XG4iLCJ2YXIgZXZlbnRzID0gcmVxdWlyZSgnZXZlbnRzJyk7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgd3JhcCA9IGV4cG9ydHMud3JhcCA9IHtcbiAgLyoqXG4gICAqIFdyYXAgYW4gYW5vbnltb3VzIG9yIG5hbWVkIGZ1bmN0aW9uIHRvIG5vdGlmeSBhbiBFbWl0dGVyIGFuZFxuICAgKiByZXR1cm4gdGhlIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSB7ZXZlbnRzLkV2ZW50RW1pdHRlcn0gZW1pdHRlciBUaGUgZW1pdHRlciB0byBub3RpZnlcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIHdyYXBcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIG9wdGlvbmFsIG5hbWVcbiAgICovXG4gIGZuOiBmdW5jdGlvbihlbWl0dGVyLCBmbiwgc3RyaWN0LCBuYW1lLCBzY29wZSkge1xuICAgIHZhciB3cmFwcGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgdXRpbHMuZW1pdEV2ZW50cyhlbWl0dGVyLCAnYmVmb3JlJywgbmFtZSwgW2FyZ3VtZW50cywgdGhpcywgbmFtZV0pO1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSBmbi5hcHBseShzY29wZSB8fCB0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB1dGlscy5lbWl0RXZlbnRzKGVtaXR0ZXIsICdlcnJvcicsIG5hbWUsIFsgZSwgYXJndW1lbnRzLCB0aGlzLCBuYW1lIF0pO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuXG4gICAgICB1dGlscy5lbWl0RXZlbnRzKGVtaXR0ZXIsICdhZnRlcicsIG5hbWUsIFsgcmVzdWx0LCBhcmd1bWVudHMsIHRoaXMsIG5hbWUgXSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBpZiAoc3RyaWN0KSB7XG4gICAgICBldmFsKCd3cmFwcGVkID0gJyArIHV0aWxzLmFkZEFyZ3Mod3JhcHBlZC50b1N0cmluZygpLCBmbi5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd3JhcHBlZDtcbiAgfSxcbiAgLyoqXG4gICAqIFdyYXAgYW4gYW5vbnltb3VzIG9yIG5hbWVkIGZ1bmN0aW9uIHRoYXQgY2FsbHMgYSBjYWxsYmFjayBhc3luY2hyb25vdXNseVxuICAgKiB0byBub3RpZnkgYW4gRW1pdHRlciBhbmQgcmV0dXJuIHRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0ge2V2ZW50cy5FdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgVGhlIGVtaXR0ZXIgdG8gbm90aWZ5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byB3cmFwXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gcG9zaXRpb24gVGhlIHBvc2l0aW9uIG9mIHRoZSBjYWxsYmFjayBpbiB0aGUgYXJndW1lbnRzXG4gICAqIGFycmF5IChkZWZhdWx0cyB0byAwKS4gU2V0IHRvIC0xIGlmIHRoZSBjYWxsYmFjayBpcyB0aGUgbGFzdCBhcmd1bWVudC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIG9wdGlvbmFsIG5hbWVcbiAgICovXG4gIGFzeW5jOiBmdW5jdGlvbihlbWl0dGVyLCBmbiwgcG9zaXRpb24sIHN0cmljdCwgbmFtZSwgc2NvcGUpIHtcbiAgICB2YXIgd3JhcHBlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBvcyA9IHBvc2l0aW9uID09IC0xID8gYXJndW1lbnRzLmxlbmd0aCAtIDEgOiAocG9zaXRpb24gfHwgMCk7XG4gICAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbcG9zXTtcbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIHZhciBtZXRob2RBcmdzID0gYXJndW1lbnRzO1xuICAgICAgdmFyIGNhbGxiYWNrV3JhcHBlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KGNhbGxiYWNrLCBhcmd1bWVudHMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdXRpbHMuZW1pdEV2ZW50cyhlbWl0dGVyLCAnZXJyb3InLCBuYW1lLCBbIGUsIG1ldGhvZEFyZ3MsIGNvbnRleHQsIG5hbWUgXSk7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXZlbnRUeXBlID0gYXJndW1lbnRzWzBdIGluc3RhbmNlb2YgRXJyb3IgPyAnZXJyb3InIDogJ2FmdGVyJztcbiAgICAgICAgdXRpbHMuZW1pdEV2ZW50cyhlbWl0dGVyLCBldmVudFR5cGUsIG5hbWUsIFsgYXJndW1lbnRzLCBtZXRob2RBcmdzLCBjb250ZXh0LCBuYW1lIF0pO1xuICAgICAgfTtcblxuICAgICAgdXRpbHMuZW1pdEV2ZW50cyhlbWl0dGVyLCAnYmVmb3JlJywgbmFtZSwgWyBtZXRob2RBcmdzLCB0aGlzLCBuYW1lIF0pO1xuICAgICAgbWV0aG9kQXJnc1twb3NdID0gY2FsbGJhY2tXcmFwcGVyO1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoc2NvcGUgfHwgdGhpcywgbWV0aG9kQXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHV0aWxzLmVtaXRFdmVudHMoZW1pdHRlciwgJ2Vycm9yJywgbmFtZSwgWyBlLCBtZXRob2RBcmdzLCBjb250ZXh0LCBuYW1lIF0pO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoc3RyaWN0KSB7XG4gICAgICBldmFsKCd3cmFwcGVkID0gJyArIHV0aWxzLmFkZEFyZ3Mod3JhcHBlZC50b1N0cmluZygpLCBmbi5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd3JhcHBlZDtcbiAgfVxufTtcblxudmFyIEVtaXR0ZXIgPSBleHBvcnRzLkVtaXR0ZXIgPSBmdW5jdGlvbihvYmopIHtcbiAgdGhpcy5vYmogPSBvYmo7XG59O1xuXG5FbWl0dGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZXZlbnRzLkV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuXG4vKipcbiAqIFB1bmNoIGEgbWV0aG9kIHdpdGggdGhlIGdpdmVuIG5hbWUsIHdpdGhcbiAqIEBwYXJhbSB7U3RyaW5nIHwgQXJyYXl9IG1ldGhvZCBUaGUgbmFtZSBvZiB0aGUgbWV0aG9kIG9yIGEgbGlzdCBvZlxuICogbWV0aG9kIG5hbWVzLlxuICogQHBhcmFtIHtJbnRlZ2VyfSBwb3NpdGlvbiBUaGUgb3B0aW9uYWwgcG9zaXRpb24gb2YgdGhlIGFzeW5jaHJvbm91cyBjYWxsYmFja1xuICogaW4gdGhlIGFyZ3VtZW50cyBsaXN0LlxuICovXG5FbWl0dGVyLnByb3RvdHlwZS5wdW5jaCA9IGZ1bmN0aW9uKG1ldGhvZCwgcG9zaXRpb24sIHN0cmljdCkge1xuICBpZiAoQXJyYXkuaXNBcnJheShtZXRob2QpKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIG1ldGhvZC5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgc2VsZi5wdW5jaChtZXRob2QsIHBvc2l0aW9uLCBzdHJpY3QpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHZhciBvbGQgPSB0aGlzLm9ialttZXRob2RdO1xuICAgIGlmICh0eXBlb2Ygb2xkID09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub2JqW21ldGhvZF0gPSAoIXBvc2l0aW9uICYmIHBvc2l0aW9uICE9PSAwKSA/XG4gICAgICAgIHdyYXAuZm4odGhpcywgb2xkLCBzdHJpY3QsIG1ldGhvZCkgOlxuICAgICAgICB3cmFwLmFzeW5jKHRoaXMsIG9sZCwgcG9zaXRpb24sIHN0cmljdCwgbWV0aG9kKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5leHBvcnRzLmVtaXR0ZXIgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIG5ldyBFbWl0dGVyKG9iaik7XG59O1xuIiwiZXhwb3J0cy50b0Jhc2UyNiA9IGZ1bmN0aW9uKG51bSkge1xuICB2YXIgb3V0U3RyaW5nID0gJyc7XG4gIHZhciBsZXR0ZXJzID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JztcbiAgd2hpbGUgKG51bSA+IDI1KSB7XG4gICAgdmFyIHJlbWFpbmRlciA9IG51bSAlIDI2O1xuICAgIG91dFN0cmluZyA9IGxldHRlcnMuY2hhckF0KHJlbWFpbmRlcikgKyBvdXRTdHJpbmc7XG4gICAgbnVtID0gTWF0aC5mbG9vcihudW0gLyAyNikgLSAxO1xuICB9XG4gIG91dFN0cmluZyA9IGxldHRlcnMuY2hhckF0KG51bSkgKyBvdXRTdHJpbmc7XG4gIHJldHVybiBvdXRTdHJpbmc7XG59O1xuXG5leHBvcnRzLm1ha2VGYWtlQXJncyA9IGZ1bmN0aW9uKGxlbikge1xuICB2YXIgYXJnQXJyID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcmdBcnIucHVzaChleHBvcnRzLnRvQmFzZTI2KGkpKTtcbiAgfVxuICByZXR1cm4gYXJnQXJyLmpvaW4oXCIsXCIpO1xufTtcblxuZXhwb3J0cy5hZGRBcmdzID0gZnVuY3Rpb24oZm5TdHJpbmcsIGFyZ0xlbikge1xuICByZXR1cm4gZm5TdHJpbmcucmVwbGFjZSgvZnVuY3Rpb25cXHMqXFwoXFwpLywgJ2Z1bmN0aW9uKCcgKyBleHBvcnRzLm1ha2VGYWtlQXJncyhhcmdMZW4pICsgJyknKTtcbn07XG5cbmV4cG9ydHMuZW1pdEV2ZW50cyA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUsIG5hbWUsIGFyZ3MpIHtcbiAgdmFyIHVjTmFtZSA9IG5hbWUgPyBuYW1lLnJlcGxhY2UoL15cXHcvLCBmdW5jdGlvbihmaXJzdCkge1xuICAgIHJldHVybiBmaXJzdC50b1VwcGVyQ2FzZSgpO1xuICB9KSA6IG51bGw7XG5cbiAgZW1pdHRlci5lbWl0LmFwcGx5KGVtaXR0ZXIsIFt0eXBlXS5jb25jYXQoYXJncykpO1xuICBpZiAodWNOYW1lKSB7XG4gICAgZW1pdHRlci5lbWl0LmFwcGx5KGVtaXR0ZXIsIFt0eXBlICsgdWNOYW1lXS5jb25jYXQoYXJncykpO1xuICB9XG59O1xuIiwiY29uc3QgZG9jdW1lbnQgPSByZXF1aXJlKCdnbG9iYWwvZG9jdW1lbnQnKVxuY29uc3Qgd2luZG93ID0gcmVxdWlyZSgnZ2xvYmFsL3dpbmRvdycpXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhpc3RvcnlcblxuLy8gbGlzdGVuIHRvIGh0bWw1IHB1c2hzdGF0ZSBldmVudHNcbi8vIGFuZCB1cGRhdGUgcm91dGVyIGFjY29yZGluZ2x5XG4vLyBmbihzdHIpIC0+IG51bGxcbmZ1bmN0aW9uIGhpc3RvcnkgKGNiKSB7XG4gIGFzc2VydC5lcXVhbCh0eXBlb2YgY2IsICdmdW5jdGlvbicsICdjYiBtdXN0IGJlIGEgZnVuY3Rpb24nKVxuICB3aW5kb3cub25wb3BzdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjYihkb2N1bWVudC5sb2NhdGlvbi5ocmVmKVxuICB9XG59XG4iLCJjb25zdCB3aW5kb3cgPSByZXF1aXJlKCdnbG9iYWwvd2luZG93JylcbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpXG5cbm1vZHVsZS5leHBvcnRzID0gaHJlZlxuXG4vLyBoYW5kbGUgYSBjbGljayBpZiBpcyBhbmNob3IgdGFnIHdpdGggYW4gaHJlZlxuLy8gYW5kIHVybCBsaXZlcyBvbiB0aGUgc2FtZSBkb21haW4uIFJlcGxhY2VzXG4vLyB0cmFpbGluZyAnIycgc28gZW1wdHkgbGlua3Mgd29yayBhcyBleHBlY3RlZC5cbi8vIGZuKHN0cikgLT4gbnVsbFxuZnVuY3Rpb24gaHJlZiAoY2IpIHtcbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiBjYiwgJ2Z1bmN0aW9uJywgJ2NiIG11c3QgYmUgYSBmdW5jdGlvbicpXG5cbiAgd2luZG93Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgIGNvbnN0IG5vZGUgPSAoZnVuY3Rpb24gdHJhdmVyc2UgKG5vZGUpIHtcbiAgICAgIGlmICghbm9kZSkgcmV0dXJuXG4gICAgICBpZiAobm9kZS5sb2NhbE5hbWUgIT09ICdhJykgcmV0dXJuIHRyYXZlcnNlKG5vZGUucGFyZW50Tm9kZSlcbiAgICAgIGlmIChub2RlLmhyZWYgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRyYXZlcnNlKG5vZGUucGFyZW50Tm9kZSlcbiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaG9zdCAhPT0gbm9kZS5ob3N0KSByZXR1cm4gdHJhdmVyc2Uobm9kZS5wYXJlbnROb2RlKVxuICAgICAgcmV0dXJuIG5vZGVcbiAgICB9KShlLnRhcmdldClcblxuICAgIGlmICghbm9kZSkgcmV0dXJuXG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBocmVmID0gbm9kZS5ocmVmLnJlcGxhY2UoLyMkLywgJycpXG4gICAgY2IoaHJlZilcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sIG51bGwsIGhyZWYpXG4gIH1cbn1cbiIsImNvbnN0IHBhdGhuYW1lID0gcmVxdWlyZSgncGF0aG5hbWUtbWF0Y2gnKVxuY29uc3Qgd2F5ZmFyZXIgPSByZXF1aXJlKCd3YXlmYXJlcicpXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoZWV0Um91dGVyXG5cbi8vIEZhc3QsIG1vZHVsYXIgY2xpZW50IHJvdXRlclxuLy8gZm4oc3RyLCBhbnlbLi5dLCBmbj8pIC0+IGZuKHN0ciwgYW55Wy4uXSlcbmZ1bmN0aW9uIHNoZWV0Um91dGVyIChkZnQsIGNyZWF0ZVRyZWUsIGNyZWF0ZVJvdXRlKSB7XG4gIGNyZWF0ZVJvdXRlID0gKGNyZWF0ZVJvdXRlID8gY3JlYXRlUm91dGUoX2NyZWF0ZVJvdXRlKSA6IF9jcmVhdGVSb3V0ZSlcblxuICBpZiAoIWNyZWF0ZVRyZWUpIHtcbiAgICBjcmVhdGVUcmVlID0gZGZ0XG4gICAgZGZ0ID0gJydcbiAgfVxuXG4gIGFzc2VydC5lcXVhbCh0eXBlb2YgZGZ0LCAnc3RyaW5nJywgJ3NoZWV0LXJvdXRlcjogZGZ0IG11c3QgYmUgYSBzdHJpbmcnKVxuICBhc3NlcnQuZXF1YWwodHlwZW9mIGNyZWF0ZVRyZWUsICdmdW5jdGlvbicsICdzaGVldC1yb3V0ZXI6IGNyZWF0ZVRyZWUgbXVzdCBiZSBhIGZ1bmN0aW9uJylcbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiBjcmVhdGVSb3V0ZSwgJ2Z1bmN0aW9uJywgJ3NoZWV0LXJvdXRlcjogY3JlYXRlUm91dGUgbXVzdCBiZSBhIGZ1bmN0aW9uJylcblxuICBjb25zdCByb3V0ZXIgPSB3YXlmYXJlcihkZnQpXG4gIGNvbnN0IHRyZWUgPSBjcmVhdGVUcmVlKGNyZWF0ZVJvdXRlKVxuXG4gIC8vIHJlZ2lzdGVyIHRyZWUgaW4gcm91dGVyXG4gIDsoZnVuY3Rpb24gd2FsayAodHJlZSwgcm91dGUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmVlWzBdKSkge1xuICAgICAgLy8gd2FsayBvdmVyIGFsbCByb3V0ZXMgYXQgdGhlIHJvb3Qgb2YgdGhlIHRyZWVcbiAgICAgIHRyZWUuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB3YWxrKG5vZGUsIHJvdXRlKVxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKHRyZWVbMV0pIHtcbiAgICAgIC8vIGhhbmRsZSBpbmxpbmUgZnVuY3Rpb25zIGFzIGFyZ3NcbiAgICAgIGNvbnN0IGlubmVyUm91dGUgPSB0cmVlWzBdXG4gICAgICAgID8gcm91dGUuY29uY2F0KHRyZWVbMF0pLmpvaW4oJy8nKVxuICAgICAgICA6IHJvdXRlLmxlbmd0aCA/IHJvdXRlLmpvaW4oJy8nKSA6IHRyZWVbMF1cbiAgICAgIHJvdXRlci5vbihpbm5lclJvdXRlLCB0cmVlWzFdKVxuICAgICAgd2Fsayh0cmVlWzJdLCByb3V0ZS5jb25jYXQodHJlZVswXSkpXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRyZWVbMl0pKSB7XG4gICAgICAvLyB0cmF2ZXJzZSBhbmQgYXBwZW5kIHJvdXRlXG4gICAgICB3YWxrKHRyZWVbMl0sIHJvdXRlLmNvbmNhdCh0cmVlWzBdKSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcmVnaXN0ZXIgcGF0aCBpbiByb3V0ZXJcbiAgICAgIGNvbnN0IG53Um91dGUgPSB0cmVlWzBdXG4gICAgICAgID8gcm91dGUuY29uY2F0KHRyZWVbMF0pLmpvaW4oJy8nKVxuICAgICAgICA6IHJvdXRlLmxlbmd0aCA/IHJvdXRlLmpvaW4oJy8nKSA6IHRyZWVbMF1cbiAgICAgIHJvdXRlci5vbihud1JvdXRlLCB0cmVlWzJdKVxuICAgIH1cbiAgfSkodHJlZSwgW10pXG5cbiAgLy8gbWF0Y2ggYSByb3V0ZSBvbiB0aGUgcm91dGVyXG4gIHJldHVybiBmdW5jdGlvbiBtYXRjaCAocm91dGUpIHtcbiAgICBhc3NlcnQuZXF1YWwodHlwZW9mIHJvdXRlLCAnc3RyaW5nJywgJ3JvdXRlIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIGNvbnN0IGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cylcbiAgICBhcmdzWzBdID0gcGF0aG5hbWUoYXJnc1swXSlcbiAgICByZXR1cm4gcm91dGVyLmFwcGx5KG51bGwsIGFyZ3MpXG4gIH1cbn1cblxuLy8gcmVnaXN0ZXIgcmVndWxhciByb3V0ZVxuZnVuY3Rpb24gX2NyZWF0ZVJvdXRlIChyb3V0ZSwgaW5saW5lLCBjaGlsZCkge1xuICBpZiAoIWNoaWxkKSB7XG4gICAgY2hpbGQgPSBpbmxpbmVcbiAgICBpbmxpbmUgPSBudWxsXG4gIH1cbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiByb3V0ZSwgJ3N0cmluZycsICdyb3V0ZSBtdXN0IGJlIGEgc3RyaW5nJylcbiAgYXNzZXJ0Lm9rKGNoaWxkLCAnY2hpbGQgZXhpc3RzJylcbiAgcm91dGUgPSByb3V0ZS5yZXBsYWNlKC9eXFwvLywgJycpXG4gIHJldHVybiBbIHJvdXRlLCBpbmxpbmUsIGNoaWxkIF1cbn1cbiIsIi8qKlxuICogUm9vdCByZWZlcmVuY2UgZm9yIGlmcmFtZXMuXG4gKi9cblxudmFyIHJvb3Q7XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsgLy8gQnJvd3NlciB3aW5kb3dcbiAgcm9vdCA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7IC8vIFdlYiBXb3JrZXJcbiAgcm9vdCA9IHNlbGY7XG59IGVsc2UgeyAvLyBPdGhlciBlbnZpcm9ubWVudHNcbiAgY29uc29sZS53YXJuKFwiVXNpbmcgYnJvd3Nlci1vbmx5IHZlcnNpb24gb2Ygc3VwZXJhZ2VudCBpbiBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcbiAgcm9vdCA9IHRoaXM7XG59XG5cbnZhciBFbWl0dGVyID0gcmVxdWlyZSgnZW1pdHRlcicpO1xudmFyIHJlcXVlc3RCYXNlID0gcmVxdWlyZSgnLi9yZXF1ZXN0LWJhc2UnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXMtb2JqZWN0Jyk7XG5cbi8qKlxuICogTm9vcC5cbiAqL1xuXG5mdW5jdGlvbiBub29wKCl7fTtcblxuLyoqXG4gKiBFeHBvc2UgYHJlcXVlc3RgLlxuICovXG5cbnZhciByZXF1ZXN0ID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3JlcXVlc3QnKS5iaW5kKG51bGwsIFJlcXVlc3QpO1xuXG4vKipcbiAqIERldGVybWluZSBYSFIuXG4gKi9cblxucmVxdWVzdC5nZXRYSFIgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChyb290LlhNTEh0dHBSZXF1ZXN0XG4gICAgICAmJiAoIXJvb3QubG9jYXRpb24gfHwgJ2ZpbGU6JyAhPSByb290LmxvY2F0aW9uLnByb3RvY29sXG4gICAgICAgICAgfHwgIXJvb3QuQWN0aXZlWE9iamVjdCkpIHtcbiAgICByZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0O1xuICB9IGVsc2Uge1xuICAgIHRyeSB7IHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTWljcm9zb2Z0LlhNTEhUVFAnKTsgfSBjYXRjaChlKSB7fVxuICAgIHRyeSB7IHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAuNi4wJyk7IH0gY2F0Y2goZSkge31cbiAgICB0cnkgeyByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1sMi5YTUxIVFRQLjMuMCcpOyB9IGNhdGNoKGUpIHt9XG4gICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNc3htbDIuWE1MSFRUUCcpOyB9IGNhdGNoKGUpIHt9XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJCcm93c2VyLW9ubHkgdmVyaXNvbiBvZiBzdXBlcmFnZW50IGNvdWxkIG5vdCBmaW5kIFhIUlwiKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLCBhZGRlZCB0byBzdXBwb3J0IElFLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG52YXIgdHJpbSA9ICcnLnRyaW1cbiAgPyBmdW5jdGlvbihzKSB7IHJldHVybiBzLnRyaW0oKTsgfVxuICA6IGZ1bmN0aW9uKHMpIHsgcmV0dXJuIHMucmVwbGFjZSgvKF5cXHMqfFxccyokKS9nLCAnJyk7IH07XG5cbi8qKlxuICogU2VyaWFsaXplIHRoZSBnaXZlbiBgb2JqYC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzZXJpYWxpemUob2JqKSB7XG4gIGlmICghaXNPYmplY3Qob2JqKSkgcmV0dXJuIG9iajtcbiAgdmFyIHBhaXJzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywga2V5LCBvYmpba2V5XSk7XG4gIH1cbiAgcmV0dXJuIHBhaXJzLmpvaW4oJyYnKTtcbn1cblxuLyoqXG4gKiBIZWxwcyAnc2VyaWFsaXplJyB3aXRoIHNlcmlhbGl6aW5nIGFycmF5cy5cbiAqIE11dGF0ZXMgdGhlIHBhaXJzIGFycmF5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gKiBAcGFyYW0ge01peGVkfSB2YWxcbiAqL1xuXG5mdW5jdGlvbiBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywga2V5LCB2YWwpIHtcbiAgaWYgKHZhbCAhPSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgdmFsLmZvckVhY2goZnVuY3Rpb24odikge1xuICAgICAgICBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywga2V5LCB2KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsKSkge1xuICAgICAgZm9yKHZhciBzdWJrZXkgaW4gdmFsKSB7XG4gICAgICAgIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXkgKyAnWycgKyBzdWJrZXkgKyAnXScsIHZhbFtzdWJrZXldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGFpcnMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KVxuICAgICAgICArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodmFsID09PSBudWxsKSB7XG4gICAgcGFpcnMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSk7XG4gIH1cbn1cblxuLyoqXG4gKiBFeHBvc2Ugc2VyaWFsaXphdGlvbiBtZXRob2QuXG4gKi9cblxuIHJlcXVlc3Quc2VyaWFsaXplT2JqZWN0ID0gc2VyaWFsaXplO1xuXG4gLyoqXG4gICogUGFyc2UgdGhlIGdpdmVuIHgtd3d3LWZvcm0tdXJsZW5jb2RlZCBgc3RyYC5cbiAgKlxuICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICogQGFwaSBwcml2YXRlXG4gICovXG5cbmZ1bmN0aW9uIHBhcnNlU3RyaW5nKHN0cikge1xuICB2YXIgb2JqID0ge307XG4gIHZhciBwYWlycyA9IHN0ci5zcGxpdCgnJicpO1xuICB2YXIgcGFpcjtcbiAgdmFyIHBvcztcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gcGFpcnMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICBwYWlyID0gcGFpcnNbaV07XG4gICAgcG9zID0gcGFpci5pbmRleE9mKCc9Jyk7XG4gICAgaWYgKHBvcyA9PSAtMSkge1xuICAgICAgb2JqW2RlY29kZVVSSUNvbXBvbmVudChwYWlyKV0gPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2RlY29kZVVSSUNvbXBvbmVudChwYWlyLnNsaWNlKDAsIHBvcykpXSA9XG4gICAgICAgIGRlY29kZVVSSUNvbXBvbmVudChwYWlyLnNsaWNlKHBvcyArIDEpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIEV4cG9zZSBwYXJzZXIuXG4gKi9cblxucmVxdWVzdC5wYXJzZVN0cmluZyA9IHBhcnNlU3RyaW5nO1xuXG4vKipcbiAqIERlZmF1bHQgTUlNRSB0eXBlIG1hcC5cbiAqXG4gKiAgICAgc3VwZXJhZ2VudC50eXBlcy54bWwgPSAnYXBwbGljYXRpb24veG1sJztcbiAqXG4gKi9cblxucmVxdWVzdC50eXBlcyA9IHtcbiAgaHRtbDogJ3RleHQvaHRtbCcsXG4gIGpzb246ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgeG1sOiAnYXBwbGljYXRpb24veG1sJyxcbiAgdXJsZW5jb2RlZDogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICdmb3JtJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICdmb3JtLWRhdGEnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuLyoqXG4gKiBEZWZhdWx0IHNlcmlhbGl6YXRpb24gbWFwLlxuICpcbiAqICAgICBzdXBlcmFnZW50LnNlcmlhbGl6ZVsnYXBwbGljYXRpb24veG1sJ10gPSBmdW5jdGlvbihvYmope1xuICogICAgICAgcmV0dXJuICdnZW5lcmF0ZWQgeG1sIGhlcmUnO1xuICogICAgIH07XG4gKlxuICovXG5cbiByZXF1ZXN0LnNlcmlhbGl6ZSA9IHtcbiAgICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnOiBzZXJpYWxpemUsXG4gICAnYXBwbGljYXRpb24vanNvbic6IEpTT04uc3RyaW5naWZ5XG4gfTtcblxuIC8qKlxuICAqIERlZmF1bHQgcGFyc2Vycy5cbiAgKlxuICAqICAgICBzdXBlcmFnZW50LnBhcnNlWydhcHBsaWNhdGlvbi94bWwnXSA9IGZ1bmN0aW9uKHN0cil7XG4gICogICAgICAgcmV0dXJuIHsgb2JqZWN0IHBhcnNlZCBmcm9tIHN0ciB9O1xuICAqICAgICB9O1xuICAqXG4gICovXG5cbnJlcXVlc3QucGFyc2UgPSB7XG4gICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnOiBwYXJzZVN0cmluZyxcbiAgJ2FwcGxpY2F0aW9uL2pzb24nOiBKU09OLnBhcnNlXG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBoZWFkZXIgYHN0cmAgaW50b1xuICogYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG1hcHBlZCBmaWVsZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2VIZWFkZXIoc3RyKSB7XG4gIHZhciBsaW5lcyA9IHN0ci5zcGxpdCgvXFxyP1xcbi8pO1xuICB2YXIgZmllbGRzID0ge307XG4gIHZhciBpbmRleDtcbiAgdmFyIGxpbmU7XG4gIHZhciBmaWVsZDtcbiAgdmFyIHZhbDtcblxuICBsaW5lcy5wb3AoKTsgLy8gdHJhaWxpbmcgQ1JMRlxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaW5lcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIGxpbmUgPSBsaW5lc1tpXTtcbiAgICBpbmRleCA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGZpZWxkID0gbGluZS5zbGljZSgwLCBpbmRleCkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSB0cmltKGxpbmUuc2xpY2UoaW5kZXggKyAxKSk7XG4gICAgZmllbGRzW2ZpZWxkXSA9IHZhbDtcbiAgfVxuXG4gIHJldHVybiBmaWVsZHM7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYG1pbWVgIGlzIGpzb24gb3IgaGFzICtqc29uIHN0cnVjdHVyZWQgc3ludGF4IHN1ZmZpeC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWltZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGlzSlNPTihtaW1lKSB7XG4gIHJldHVybiAvW1xcLytdanNvblxcYi8udGVzdChtaW1lKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIG1pbWUgdHlwZSBmb3IgdGhlIGdpdmVuIGBzdHJgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHR5cGUoc3RyKXtcbiAgcmV0dXJuIHN0ci5zcGxpdCgvICo7ICovKS5zaGlmdCgpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gaGVhZGVyIGZpZWxkIHBhcmFtZXRlcnMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyYW1zKHN0cil7XG4gIHJldHVybiBzdHIuc3BsaXQoLyAqOyAqLykucmVkdWNlKGZ1bmN0aW9uKG9iaiwgc3RyKXtcbiAgICB2YXIgcGFydHMgPSBzdHIuc3BsaXQoLyAqPSAqLyksXG4gICAgICAgIGtleSA9IHBhcnRzLnNoaWZ0KCksXG4gICAgICAgIHZhbCA9IHBhcnRzLnNoaWZ0KCk7XG5cbiAgICBpZiAoa2V5ICYmIHZhbCkgb2JqW2tleV0gPSB2YWw7XG4gICAgcmV0dXJuIG9iajtcbiAgfSwge30pO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IGBSZXNwb25zZWAgd2l0aCB0aGUgZ2l2ZW4gYHhocmAuXG4gKlxuICogIC0gc2V0IGZsYWdzICgub2ssIC5lcnJvciwgZXRjKVxuICogIC0gcGFyc2UgaGVhZGVyXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogIEFsaWFzaW5nIGBzdXBlcmFnZW50YCBhcyBgcmVxdWVzdGAgaXMgbmljZTpcbiAqXG4gKiAgICAgIHJlcXVlc3QgPSBzdXBlcmFnZW50O1xuICpcbiAqICBXZSBjYW4gdXNlIHRoZSBwcm9taXNlLWxpa2UgQVBJLCBvciBwYXNzIGNhbGxiYWNrczpcbiAqXG4gKiAgICAgIHJlcXVlc3QuZ2V0KCcvJykuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG4gKiAgICAgIHJlcXVlc3QuZ2V0KCcvJywgZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiAgU2VuZGluZyBkYXRhIGNhbiBiZSBjaGFpbmVkOlxuICpcbiAqICAgICAgcmVxdWVzdFxuICogICAgICAgIC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0pXG4gKiAgICAgICAgLmVuZChmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqICBPciBwYXNzZWQgdG8gYC5zZW5kKClgOlxuICpcbiAqICAgICAgcmVxdWVzdFxuICogICAgICAgIC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0sIGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogIE9yIHBhc3NlZCB0byBgLnBvc3QoKWA6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJywgeyBuYW1lOiAndGonIH0pXG4gKiAgICAgICAgLmVuZChmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqIE9yIGZ1cnRoZXIgcmVkdWNlZCB0byBhIHNpbmdsZSBjYWxsIGZvciBzaW1wbGUgY2FzZXM6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJywgeyBuYW1lOiAndGonIH0sIGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogQHBhcmFtIHtYTUxIVFRQUmVxdWVzdH0geGhyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gUmVzcG9uc2UocmVxLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB0aGlzLnJlcSA9IHJlcTtcbiAgdGhpcy54aHIgPSB0aGlzLnJlcS54aHI7XG4gIC8vIHJlc3BvbnNlVGV4dCBpcyBhY2Nlc3NpYmxlIG9ubHkgaWYgcmVzcG9uc2VUeXBlIGlzICcnIG9yICd0ZXh0JyBhbmQgb24gb2xkZXIgYnJvd3NlcnNcbiAgdGhpcy50ZXh0ID0gKCh0aGlzLnJlcS5tZXRob2QgIT0nSEVBRCcgJiYgKHRoaXMueGhyLnJlc3BvbnNlVHlwZSA9PT0gJycgfHwgdGhpcy54aHIucmVzcG9uc2VUeXBlID09PSAndGV4dCcpKSB8fCB0eXBlb2YgdGhpcy54aHIucmVzcG9uc2VUeXBlID09PSAndW5kZWZpbmVkJylcbiAgICAgPyB0aGlzLnhoci5yZXNwb25zZVRleHRcbiAgICAgOiBudWxsO1xuICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLnJlcS54aHIuc3RhdHVzVGV4dDtcbiAgdGhpcy5fc2V0U3RhdHVzUHJvcGVydGllcyh0aGlzLnhoci5zdGF0dXMpO1xuICB0aGlzLmhlYWRlciA9IHRoaXMuaGVhZGVycyA9IHBhcnNlSGVhZGVyKHRoaXMueGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKTtcbiAgLy8gZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIHNvbWV0aW1lcyBmYWxzZWx5IHJldHVybnMgXCJcIiBmb3IgQ09SUyByZXF1ZXN0cywgYnV0XG4gIC8vIGdldFJlc3BvbnNlSGVhZGVyIHN0aWxsIHdvcmtzLiBzbyB3ZSBnZXQgY29udGVudC10eXBlIGV2ZW4gaWYgZ2V0dGluZ1xuICAvLyBvdGhlciBoZWFkZXJzIGZhaWxzLlxuICB0aGlzLmhlYWRlclsnY29udGVudC10eXBlJ10gPSB0aGlzLnhoci5nZXRSZXNwb25zZUhlYWRlcignY29udGVudC10eXBlJyk7XG4gIHRoaXMuX3NldEhlYWRlclByb3BlcnRpZXModGhpcy5oZWFkZXIpO1xuICB0aGlzLmJvZHkgPSB0aGlzLnJlcS5tZXRob2QgIT0gJ0hFQUQnXG4gICAgPyB0aGlzLl9wYXJzZUJvZHkodGhpcy50ZXh0ID8gdGhpcy50ZXh0IDogdGhpcy54aHIucmVzcG9uc2UpXG4gICAgOiBudWxsO1xufVxuXG4vKipcbiAqIEdldCBjYXNlLWluc2Vuc2l0aXZlIGBmaWVsZGAgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlc3BvbnNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihmaWVsZCl7XG4gIHJldHVybiB0aGlzLmhlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXTtcbn07XG5cbi8qKlxuICogU2V0IGhlYWRlciByZWxhdGVkIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGAudHlwZWAgdGhlIGNvbnRlbnQgdHlwZSB3aXRob3V0IHBhcmFtc1xuICpcbiAqIEEgcmVzcG9uc2Ugb2YgXCJDb250ZW50LVR5cGU6IHRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIlxuICogd2lsbCBwcm92aWRlIHlvdSB3aXRoIGEgYC50eXBlYCBvZiBcInRleHQvcGxhaW5cIi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaGVhZGVyXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXNwb25zZS5wcm90b3R5cGUuX3NldEhlYWRlclByb3BlcnRpZXMgPSBmdW5jdGlvbihoZWFkZXIpe1xuICAvLyBjb250ZW50LXR5cGVcbiAgdmFyIGN0ID0gdGhpcy5oZWFkZXJbJ2NvbnRlbnQtdHlwZSddIHx8ICcnO1xuICB0aGlzLnR5cGUgPSB0eXBlKGN0KTtcblxuICAvLyBwYXJhbXNcbiAgdmFyIG9iaiA9IHBhcmFtcyhjdCk7XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHRoaXNba2V5XSA9IG9ialtrZXldO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYm9keSBgc3RyYC5cbiAqXG4gKiBVc2VkIGZvciBhdXRvLXBhcnNpbmcgb2YgYm9kaWVzLiBQYXJzZXJzXG4gKiBhcmUgZGVmaW5lZCBvbiB0aGUgYHN1cGVyYWdlbnQucGFyc2VgIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlc3BvbnNlLnByb3RvdHlwZS5fcGFyc2VCb2R5ID0gZnVuY3Rpb24oc3RyKXtcbiAgdmFyIHBhcnNlID0gcmVxdWVzdC5wYXJzZVt0aGlzLnR5cGVdO1xuICBpZiAoIXBhcnNlICYmIGlzSlNPTih0aGlzLnR5cGUpKSB7XG4gICAgcGFyc2UgPSByZXF1ZXN0LnBhcnNlWydhcHBsaWNhdGlvbi9qc29uJ107XG4gIH1cbiAgcmV0dXJuIHBhcnNlICYmIHN0ciAmJiAoc3RyLmxlbmd0aCB8fCBzdHIgaW5zdGFuY2VvZiBPYmplY3QpXG4gICAgPyBwYXJzZShzdHIpXG4gICAgOiBudWxsO1xufTtcblxuLyoqXG4gKiBTZXQgZmxhZ3Mgc3VjaCBhcyBgLm9rYCBiYXNlZCBvbiBgc3RhdHVzYC5cbiAqXG4gKiBGb3IgZXhhbXBsZSBhIDJ4eCByZXNwb25zZSB3aWxsIGdpdmUgeW91IGEgYC5va2Agb2YgX190cnVlX19cbiAqIHdoZXJlYXMgNXh4IHdpbGwgYmUgX19mYWxzZV9fIGFuZCBgLmVycm9yYCB3aWxsIGJlIF9fdHJ1ZV9fLiBUaGVcbiAqIGAuY2xpZW50RXJyb3JgIGFuZCBgLnNlcnZlckVycm9yYCBhcmUgYWxzbyBhdmFpbGFibGUgdG8gYmUgbW9yZVxuICogc3BlY2lmaWMsIGFuZCBgLnN0YXR1c1R5cGVgIGlzIHRoZSBjbGFzcyBvZiBlcnJvciByYW5naW5nIGZyb20gMS4uNVxuICogc29tZXRpbWVzIHVzZWZ1bCBmb3IgbWFwcGluZyByZXNwb25kIGNvbG9ycyBldGMuXG4gKlxuICogXCJzdWdhclwiIHByb3BlcnRpZXMgYXJlIGFsc28gZGVmaW5lZCBmb3IgY29tbW9uIGNhc2VzLiBDdXJyZW50bHkgcHJvdmlkaW5nOlxuICpcbiAqICAgLSAubm9Db250ZW50XG4gKiAgIC0gLmJhZFJlcXVlc3RcbiAqICAgLSAudW5hdXRob3JpemVkXG4gKiAgIC0gLm5vdEFjY2VwdGFibGVcbiAqICAgLSAubm90Rm91bmRcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gc3RhdHVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXNwb25zZS5wcm90b3R5cGUuX3NldFN0YXR1c1Byb3BlcnRpZXMgPSBmdW5jdGlvbihzdGF0dXMpe1xuICAvLyBoYW5kbGUgSUU5IGJ1ZzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDA0Njk3Mi9tc2llLXJldHVybnMtc3RhdHVzLWNvZGUtb2YtMTIyMy1mb3ItYWpheC1yZXF1ZXN0XG4gIGlmIChzdGF0dXMgPT09IDEyMjMpIHtcbiAgICBzdGF0dXMgPSAyMDQ7XG4gIH1cblxuICB2YXIgdHlwZSA9IHN0YXR1cyAvIDEwMCB8IDA7XG5cbiAgLy8gc3RhdHVzIC8gY2xhc3NcbiAgdGhpcy5zdGF0dXMgPSB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXM7XG4gIHRoaXMuc3RhdHVzVHlwZSA9IHR5cGU7XG5cbiAgLy8gYmFzaWNzXG4gIHRoaXMuaW5mbyA9IDEgPT0gdHlwZTtcbiAgdGhpcy5vayA9IDIgPT0gdHlwZTtcbiAgdGhpcy5jbGllbnRFcnJvciA9IDQgPT0gdHlwZTtcbiAgdGhpcy5zZXJ2ZXJFcnJvciA9IDUgPT0gdHlwZTtcbiAgdGhpcy5lcnJvciA9ICg0ID09IHR5cGUgfHwgNSA9PSB0eXBlKVxuICAgID8gdGhpcy50b0Vycm9yKClcbiAgICA6IGZhbHNlO1xuXG4gIC8vIHN1Z2FyXG4gIHRoaXMuYWNjZXB0ZWQgPSAyMDIgPT0gc3RhdHVzO1xuICB0aGlzLm5vQ29udGVudCA9IDIwNCA9PSBzdGF0dXM7XG4gIHRoaXMuYmFkUmVxdWVzdCA9IDQwMCA9PSBzdGF0dXM7XG4gIHRoaXMudW5hdXRob3JpemVkID0gNDAxID09IHN0YXR1cztcbiAgdGhpcy5ub3RBY2NlcHRhYmxlID0gNDA2ID09IHN0YXR1cztcbiAgdGhpcy5ub3RGb3VuZCA9IDQwNCA9PSBzdGF0dXM7XG4gIHRoaXMuZm9yYmlkZGVuID0gNDAzID09IHN0YXR1cztcbn07XG5cbi8qKlxuICogUmV0dXJuIGFuIGBFcnJvcmAgcmVwcmVzZW50YXRpdmUgb2YgdGhpcyByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJuIHtFcnJvcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLnRvRXJyb3IgPSBmdW5jdGlvbigpe1xuICB2YXIgcmVxID0gdGhpcy5yZXE7XG4gIHZhciBtZXRob2QgPSByZXEubWV0aG9kO1xuICB2YXIgdXJsID0gcmVxLnVybDtcblxuICB2YXIgbXNnID0gJ2Nhbm5vdCAnICsgbWV0aG9kICsgJyAnICsgdXJsICsgJyAoJyArIHRoaXMuc3RhdHVzICsgJyknO1xuICB2YXIgZXJyID0gbmV3IEVycm9yKG1zZyk7XG4gIGVyci5zdGF0dXMgPSB0aGlzLnN0YXR1cztcbiAgZXJyLm1ldGhvZCA9IG1ldGhvZDtcbiAgZXJyLnVybCA9IHVybDtcblxuICByZXR1cm4gZXJyO1xufTtcblxuLyoqXG4gKiBFeHBvc2UgYFJlc3BvbnNlYC5cbiAqL1xuXG5yZXF1ZXN0LlJlc3BvbnNlID0gUmVzcG9uc2U7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBgUmVxdWVzdGAgd2l0aCB0aGUgZ2l2ZW4gYG1ldGhvZGAgYW5kIGB1cmxgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gUmVxdWVzdChtZXRob2QsIHVybCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX3F1ZXJ5ID0gdGhpcy5fcXVlcnkgfHwgW107XG4gIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICB0aGlzLnVybCA9IHVybDtcbiAgdGhpcy5oZWFkZXIgPSB7fTsgLy8gcHJlc2VydmVzIGhlYWRlciBuYW1lIGNhc2VcbiAgdGhpcy5faGVhZGVyID0ge307IC8vIGNvZXJjZXMgaGVhZGVyIG5hbWVzIHRvIGxvd2VyY2FzZVxuICB0aGlzLm9uKCdlbmQnLCBmdW5jdGlvbigpe1xuICAgIHZhciBlcnIgPSBudWxsO1xuICAgIHZhciByZXMgPSBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIHJlcyA9IG5ldyBSZXNwb25zZShzZWxmKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIGVyciA9IG5ldyBFcnJvcignUGFyc2VyIGlzIHVuYWJsZSB0byBwYXJzZSB0aGUgcmVzcG9uc2UnKTtcbiAgICAgIGVyci5wYXJzZSA9IHRydWU7XG4gICAgICBlcnIub3JpZ2luYWwgPSBlO1xuICAgICAgLy8gaXNzdWUgIzY3NTogcmV0dXJuIHRoZSByYXcgcmVzcG9uc2UgaWYgdGhlIHJlc3BvbnNlIHBhcnNpbmcgZmFpbHNcbiAgICAgIGVyci5yYXdSZXNwb25zZSA9IHNlbGYueGhyICYmIHNlbGYueGhyLnJlc3BvbnNlVGV4dCA/IHNlbGYueGhyLnJlc3BvbnNlVGV4dCA6IG51bGw7XG4gICAgICAvLyBpc3N1ZSAjODc2OiByZXR1cm4gdGhlIGh0dHAgc3RhdHVzIGNvZGUgaWYgdGhlIHJlc3BvbnNlIHBhcnNpbmcgZmFpbHNcbiAgICAgIGVyci5zdGF0dXNDb2RlID0gc2VsZi54aHIgJiYgc2VsZi54aHIuc3RhdHVzID8gc2VsZi54aHIuc3RhdHVzIDogbnVsbDtcbiAgICAgIHJldHVybiBzZWxmLmNhbGxiYWNrKGVycik7XG4gICAgfVxuXG4gICAgc2VsZi5lbWl0KCdyZXNwb25zZScsIHJlcyk7XG5cbiAgICB2YXIgbmV3X2VycjtcbiAgICB0cnkge1xuICAgICAgaWYgKHJlcy5zdGF0dXMgPCAyMDAgfHwgcmVzLnN0YXR1cyA+PSAzMDApIHtcbiAgICAgICAgbmV3X2VyciA9IG5ldyBFcnJvcihyZXMuc3RhdHVzVGV4dCB8fCAnVW5zdWNjZXNzZnVsIEhUVFAgcmVzcG9uc2UnKTtcbiAgICAgICAgbmV3X2Vyci5vcmlnaW5hbCA9IGVycjtcbiAgICAgICAgbmV3X2Vyci5yZXNwb25zZSA9IHJlcztcbiAgICAgICAgbmV3X2Vyci5zdGF0dXMgPSByZXMuc3RhdHVzO1xuICAgICAgfVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgbmV3X2VyciA9IGU7IC8vICM5ODUgdG91Y2hpbmcgcmVzIG1heSBjYXVzZSBJTlZBTElEX1NUQVRFX0VSUiBvbiBvbGQgQW5kcm9pZFxuICAgIH1cblxuICAgIC8vICMxMDAwIGRvbid0IGNhdGNoIGVycm9ycyBmcm9tIHRoZSBjYWxsYmFjayB0byBhdm9pZCBkb3VibGUgY2FsbGluZyBpdFxuICAgIGlmIChuZXdfZXJyKSB7XG4gICAgICBzZWxmLmNhbGxiYWNrKG5ld19lcnIsIHJlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIE1peGluIGBFbWl0dGVyYCBhbmQgYHJlcXVlc3RCYXNlYC5cbiAqL1xuXG5FbWl0dGVyKFJlcXVlc3QucHJvdG90eXBlKTtcbmZvciAodmFyIGtleSBpbiByZXF1ZXN0QmFzZSkge1xuICBSZXF1ZXN0LnByb3RvdHlwZVtrZXldID0gcmVxdWVzdEJhc2Vba2V5XTtcbn1cblxuLyoqXG4gKiBTZXQgQ29udGVudC1UeXBlIHRvIGB0eXBlYCwgbWFwcGluZyB2YWx1ZXMgZnJvbSBgcmVxdWVzdC50eXBlc2AuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgICBzdXBlcmFnZW50LnR5cGVzLnhtbCA9ICdhcHBsaWNhdGlvbi94bWwnO1xuICpcbiAqICAgICAgcmVxdWVzdC5wb3N0KCcvJylcbiAqICAgICAgICAudHlwZSgneG1sJylcbiAqICAgICAgICAuc2VuZCh4bWxzdHJpbmcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogICAgICByZXF1ZXN0LnBvc3QoJy8nKVxuICogICAgICAgIC50eXBlKCdhcHBsaWNhdGlvbi94bWwnKVxuICogICAgICAgIC5zZW5kKHhtbHN0cmluZylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLnR5cGUgPSBmdW5jdGlvbih0eXBlKXtcbiAgdGhpcy5zZXQoJ0NvbnRlbnQtVHlwZScsIHJlcXVlc3QudHlwZXNbdHlwZV0gfHwgdHlwZSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgcmVzcG9uc2VUeXBlIHRvIGB2YWxgLiBQcmVzZW50bHkgdmFsaWQgcmVzcG9uc2VUeXBlcyBhcmUgJ2Jsb2InIGFuZFxuICogJ2FycmF5YnVmZmVyJy5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC5yZXNwb25zZVR5cGUoJ2Jsb2InKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWxcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5yZXNwb25zZVR5cGUgPSBmdW5jdGlvbih2YWwpe1xuICB0aGlzLl9yZXNwb25zZVR5cGUgPSB2YWw7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgQWNjZXB0IHRvIGB0eXBlYCwgbWFwcGluZyB2YWx1ZXMgZnJvbSBgcmVxdWVzdC50eXBlc2AuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgICBzdXBlcmFnZW50LnR5cGVzLmpzb24gPSAnYXBwbGljYXRpb24vanNvbic7XG4gKlxuICogICAgICByZXF1ZXN0LmdldCgnL2FnZW50JylcbiAqICAgICAgICAuYWNjZXB0KCdqc29uJylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiAgICAgIHJlcXVlc3QuZ2V0KCcvYWdlbnQnKVxuICogICAgICAgIC5hY2NlcHQoJ2FwcGxpY2F0aW9uL2pzb24nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBhY2NlcHRcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbih0eXBlKXtcbiAgdGhpcy5zZXQoJ0FjY2VwdCcsIHJlcXVlc3QudHlwZXNbdHlwZV0gfHwgdHlwZSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgQXV0aG9yaXphdGlvbiBmaWVsZCB2YWx1ZSB3aXRoIGB1c2VyYCBhbmQgYHBhc3NgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1c2VyXG4gKiBAcGFyYW0ge1N0cmluZ30gcGFzc1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgd2l0aCAndHlwZScgcHJvcGVydHkgJ2F1dG8nIG9yICdiYXNpYycgKGRlZmF1bHQgJ2Jhc2ljJylcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5hdXRoID0gZnVuY3Rpb24odXNlciwgcGFzcywgb3B0aW9ucyl7XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICB0eXBlOiAnYmFzaWMnXG4gICAgfVxuICB9XG5cbiAgc3dpdGNoIChvcHRpb25zLnR5cGUpIHtcbiAgICBjYXNlICdiYXNpYyc6XG4gICAgICB2YXIgc3RyID0gYnRvYSh1c2VyICsgJzonICsgcGFzcyk7XG4gICAgICB0aGlzLnNldCgnQXV0aG9yaXphdGlvbicsICdCYXNpYyAnICsgc3RyKTtcbiAgICBicmVhaztcblxuICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgdGhpcy51c2VybmFtZSA9IHVzZXI7XG4gICAgICB0aGlzLnBhc3N3b3JkID0gcGFzcztcbiAgICBicmVhaztcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuKiBBZGQgcXVlcnktc3RyaW5nIGB2YWxgLlxuKlxuKiBFeGFtcGxlczpcbipcbiogICByZXF1ZXN0LmdldCgnL3Nob2VzJylcbiogICAgIC5xdWVyeSgnc2l6ZT0xMCcpXG4qICAgICAucXVlcnkoeyBjb2xvcjogJ2JsdWUnIH0pXG4qXG4qIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gdmFsXG4qIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuKiBAYXBpIHB1YmxpY1xuKi9cblxuUmVxdWVzdC5wcm90b3R5cGUucXVlcnkgPSBmdW5jdGlvbih2YWwpe1xuICBpZiAoJ3N0cmluZycgIT0gdHlwZW9mIHZhbCkgdmFsID0gc2VyaWFsaXplKHZhbCk7XG4gIGlmICh2YWwpIHRoaXMuX3F1ZXJ5LnB1c2godmFsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFF1ZXVlIHRoZSBnaXZlbiBgZmlsZWAgYXMgYW4gYXR0YWNobWVudCB0byB0aGUgc3BlY2lmaWVkIGBmaWVsZGAsXG4gKiB3aXRoIG9wdGlvbmFsIGBmaWxlbmFtZWAuXG4gKlxuICogYGBgIGpzXG4gKiByZXF1ZXN0LnBvc3QoJy91cGxvYWQnKVxuICogICAuYXR0YWNoKCdjb250ZW50JywgbmV3IEJsb2IoWyc8YSBpZD1cImFcIj48YiBpZD1cImJcIj5oZXkhPC9iPjwvYT4nXSwgeyB0eXBlOiBcInRleHQvaHRtbFwifSkpXG4gKiAgIC5lbmQoY2FsbGJhY2spO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcGFyYW0ge0Jsb2J8RmlsZX0gZmlsZVxuICogQHBhcmFtIHtTdHJpbmd9IGZpbGVuYW1lXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuYXR0YWNoID0gZnVuY3Rpb24oZmllbGQsIGZpbGUsIGZpbGVuYW1lKXtcbiAgdGhpcy5fZ2V0Rm9ybURhdGEoKS5hcHBlbmQoZmllbGQsIGZpbGUsIGZpbGVuYW1lIHx8IGZpbGUubmFtZSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuUmVxdWVzdC5wcm90b3R5cGUuX2dldEZvcm1EYXRhID0gZnVuY3Rpb24oKXtcbiAgaWYgKCF0aGlzLl9mb3JtRGF0YSkge1xuICAgIHRoaXMuX2Zvcm1EYXRhID0gbmV3IHJvb3QuRm9ybURhdGEoKTtcbiAgfVxuICByZXR1cm4gdGhpcy5fZm9ybURhdGE7XG59O1xuXG4vKipcbiAqIEludm9rZSB0aGUgY2FsbGJhY2sgd2l0aCBgZXJyYCBhbmQgYHJlc2BcbiAqIGFuZCBoYW5kbGUgYXJpdHkgY2hlY2suXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyXG4gKiBAcGFyYW0ge1Jlc3BvbnNlfSByZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmNhbGxiYWNrID0gZnVuY3Rpb24oZXJyLCByZXMpe1xuICB2YXIgZm4gPSB0aGlzLl9jYWxsYmFjaztcbiAgdGhpcy5jbGVhclRpbWVvdXQoKTtcbiAgZm4oZXJyLCByZXMpO1xufTtcblxuLyoqXG4gKiBJbnZva2UgY2FsbGJhY2sgd2l0aCB4LWRvbWFpbiBlcnJvci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5jcm9zc0RvbWFpbkVycm9yID0gZnVuY3Rpb24oKXtcbiAgdmFyIGVyciA9IG5ldyBFcnJvcignUmVxdWVzdCBoYXMgYmVlbiB0ZXJtaW5hdGVkXFxuUG9zc2libGUgY2F1c2VzOiB0aGUgbmV0d29yayBpcyBvZmZsaW5lLCBPcmlnaW4gaXMgbm90IGFsbG93ZWQgYnkgQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luLCB0aGUgcGFnZSBpcyBiZWluZyB1bmxvYWRlZCwgZXRjLicpO1xuICBlcnIuY3Jvc3NEb21haW4gPSB0cnVlO1xuXG4gIGVyci5zdGF0dXMgPSB0aGlzLnN0YXR1cztcbiAgZXJyLm1ldGhvZCA9IHRoaXMubWV0aG9kO1xuICBlcnIudXJsID0gdGhpcy51cmw7XG5cbiAgdGhpcy5jYWxsYmFjayhlcnIpO1xufTtcblxuLyoqXG4gKiBJbnZva2UgY2FsbGJhY2sgd2l0aCB0aW1lb3V0IGVycm9yLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3QucHJvdG90eXBlLl90aW1lb3V0RXJyb3IgPSBmdW5jdGlvbigpe1xuICB2YXIgdGltZW91dCA9IHRoaXMuX3RpbWVvdXQ7XG4gIHZhciBlcnIgPSBuZXcgRXJyb3IoJ3RpbWVvdXQgb2YgJyArIHRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnKTtcbiAgZXJyLnRpbWVvdXQgPSB0aW1lb3V0O1xuICB0aGlzLmNhbGxiYWNrKGVycik7XG59O1xuXG4vKipcbiAqIENvbXBvc2UgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIHJlcS51cmxcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5fYXBwZW5kUXVlcnlTdHJpbmcgPSBmdW5jdGlvbigpe1xuICB2YXIgcXVlcnkgPSB0aGlzLl9xdWVyeS5qb2luKCcmJyk7XG4gIGlmIChxdWVyeSkge1xuICAgIHRoaXMudXJsICs9IH50aGlzLnVybC5pbmRleE9mKCc/JylcbiAgICAgID8gJyYnICsgcXVlcnlcbiAgICAgIDogJz8nICsgcXVlcnk7XG4gIH1cbn07XG5cbi8qKlxuICogSW5pdGlhdGUgcmVxdWVzdCwgaW52b2tpbmcgY2FsbGJhY2sgYGZuKHJlcylgXG4gKiB3aXRoIGFuIGluc3RhbmNlb2YgYFJlc3BvbnNlYC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKGZuKXtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgeGhyID0gdGhpcy54aHIgPSByZXF1ZXN0LmdldFhIUigpO1xuICB2YXIgdGltZW91dCA9IHRoaXMuX3RpbWVvdXQ7XG4gIHZhciBkYXRhID0gdGhpcy5fZm9ybURhdGEgfHwgdGhpcy5fZGF0YTtcblxuICAvLyBzdG9yZSBjYWxsYmFja1xuICB0aGlzLl9jYWxsYmFjayA9IGZuIHx8IG5vb3A7XG5cbiAgLy8gc3RhdGUgY2hhbmdlXG4gIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpe1xuICAgIGlmICg0ICE9IHhoci5yZWFkeVN0YXRlKSByZXR1cm47XG5cbiAgICAvLyBJbiBJRTksIHJlYWRzIHRvIGFueSBwcm9wZXJ0eSAoZS5nLiBzdGF0dXMpIG9mZiBvZiBhbiBhYm9ydGVkIFhIUiB3aWxsXG4gICAgLy8gcmVzdWx0IGluIHRoZSBlcnJvciBcIkNvdWxkIG5vdCBjb21wbGV0ZSB0aGUgb3BlcmF0aW9uIGR1ZSB0byBlcnJvciBjMDBjMDIzZlwiXG4gICAgdmFyIHN0YXR1cztcbiAgICB0cnkgeyBzdGF0dXMgPSB4aHIuc3RhdHVzIH0gY2F0Y2goZSkgeyBzdGF0dXMgPSAwOyB9XG5cbiAgICBpZiAoMCA9PSBzdGF0dXMpIHtcbiAgICAgIGlmIChzZWxmLnRpbWVkb3V0KSByZXR1cm4gc2VsZi5fdGltZW91dEVycm9yKCk7XG4gICAgICBpZiAoc2VsZi5fYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgcmV0dXJuIHNlbGYuY3Jvc3NEb21haW5FcnJvcigpO1xuICAgIH1cbiAgICBzZWxmLmVtaXQoJ2VuZCcpO1xuICB9O1xuXG4gIC8vIHByb2dyZXNzXG4gIHZhciBoYW5kbGVQcm9ncmVzcyA9IGZ1bmN0aW9uKGUpe1xuICAgIGlmIChlLnRvdGFsID4gMCkge1xuICAgICAgZS5wZXJjZW50ID0gZS5sb2FkZWQgLyBlLnRvdGFsICogMTAwO1xuICAgIH1cbiAgICBlLmRpcmVjdGlvbiA9ICdkb3dubG9hZCc7XG4gICAgc2VsZi5lbWl0KCdwcm9ncmVzcycsIGUpO1xuICB9O1xuICBpZiAodGhpcy5oYXNMaXN0ZW5lcnMoJ3Byb2dyZXNzJykpIHtcbiAgICB4aHIub25wcm9ncmVzcyA9IGhhbmRsZVByb2dyZXNzO1xuICB9XG4gIHRyeSB7XG4gICAgaWYgKHhoci51cGxvYWQgJiYgdGhpcy5oYXNMaXN0ZW5lcnMoJ3Byb2dyZXNzJykpIHtcbiAgICAgIHhoci51cGxvYWQub25wcm9ncmVzcyA9IGhhbmRsZVByb2dyZXNzO1xuICAgIH1cbiAgfSBjYXRjaChlKSB7XG4gICAgLy8gQWNjZXNzaW5nIHhoci51cGxvYWQgZmFpbHMgaW4gSUUgZnJvbSBhIHdlYiB3b3JrZXIsIHNvIGp1c3QgcHJldGVuZCBpdCBkb2Vzbid0IGV4aXN0LlxuICAgIC8vIFJlcG9ydGVkIGhlcmU6XG4gICAgLy8gaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy84MzcyNDUveG1saHR0cHJlcXVlc3QtdXBsb2FkLXRocm93cy1pbnZhbGlkLWFyZ3VtZW50LXdoZW4tdXNlZC1mcm9tLXdlYi13b3JrZXItY29udGV4dFxuICB9XG5cbiAgLy8gdGltZW91dFxuICBpZiAodGltZW91dCAmJiAhdGhpcy5fdGltZXIpIHtcbiAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHNlbGYudGltZWRvdXQgPSB0cnVlO1xuICAgICAgc2VsZi5hYm9ydCgpO1xuICAgIH0sIHRpbWVvdXQpO1xuICB9XG5cbiAgLy8gcXVlcnlzdHJpbmdcbiAgdGhpcy5fYXBwZW5kUXVlcnlTdHJpbmcoKTtcblxuICAvLyBpbml0aWF0ZSByZXF1ZXN0XG4gIGlmICh0aGlzLnVzZXJuYW1lICYmIHRoaXMucGFzc3dvcmQpIHtcbiAgICB4aHIub3Blbih0aGlzLm1ldGhvZCwgdGhpcy51cmwsIHRydWUsIHRoaXMudXNlcm5hbWUsIHRoaXMucGFzc3dvcmQpO1xuICB9IGVsc2Uge1xuICAgIHhoci5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVybCwgdHJ1ZSk7XG4gIH1cblxuICAvLyBDT1JTXG4gIGlmICh0aGlzLl93aXRoQ3JlZGVudGlhbHMpIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuXG4gIC8vIGJvZHlcbiAgaWYgKCdHRVQnICE9IHRoaXMubWV0aG9kICYmICdIRUFEJyAhPSB0aGlzLm1ldGhvZCAmJiAnc3RyaW5nJyAhPSB0eXBlb2YgZGF0YSAmJiAhdGhpcy5faXNIb3N0KGRhdGEpKSB7XG4gICAgLy8gc2VyaWFsaXplIHN0dWZmXG4gICAgdmFyIGNvbnRlbnRUeXBlID0gdGhpcy5faGVhZGVyWydjb250ZW50LXR5cGUnXTtcbiAgICB2YXIgc2VyaWFsaXplID0gdGhpcy5fc2VyaWFsaXplciB8fCByZXF1ZXN0LnNlcmlhbGl6ZVtjb250ZW50VHlwZSA/IGNvbnRlbnRUeXBlLnNwbGl0KCc7JylbMF0gOiAnJ107XG4gICAgaWYgKCFzZXJpYWxpemUgJiYgaXNKU09OKGNvbnRlbnRUeXBlKSkgc2VyaWFsaXplID0gcmVxdWVzdC5zZXJpYWxpemVbJ2FwcGxpY2F0aW9uL2pzb24nXTtcbiAgICBpZiAoc2VyaWFsaXplKSBkYXRhID0gc2VyaWFsaXplKGRhdGEpO1xuICB9XG5cbiAgLy8gc2V0IGhlYWRlciBmaWVsZHNcbiAgZm9yICh2YXIgZmllbGQgaW4gdGhpcy5oZWFkZXIpIHtcbiAgICBpZiAobnVsbCA9PSB0aGlzLmhlYWRlcltmaWVsZF0pIGNvbnRpbnVlO1xuICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGZpZWxkLCB0aGlzLmhlYWRlcltmaWVsZF0pO1xuICB9XG5cbiAgaWYgKHRoaXMuX3Jlc3BvbnNlVHlwZSkge1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLl9yZXNwb25zZVR5cGU7XG4gIH1cblxuICAvLyBzZW5kIHN0dWZmXG4gIHRoaXMuZW1pdCgncmVxdWVzdCcsIHRoaXMpO1xuXG4gIC8vIElFMTEgeGhyLnNlbmQodW5kZWZpbmVkKSBzZW5kcyAndW5kZWZpbmVkJyBzdHJpbmcgYXMgUE9TVCBwYXlsb2FkIChpbnN0ZWFkIG9mIG5vdGhpbmcpXG4gIC8vIFdlIG5lZWQgbnVsbCBoZXJlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gIHhoci5zZW5kKHR5cGVvZiBkYXRhICE9PSAndW5kZWZpbmVkJyA/IGRhdGEgOiBudWxsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbi8qKlxuICogRXhwb3NlIGBSZXF1ZXN0YC5cbiAqL1xuXG5yZXF1ZXN0LlJlcXVlc3QgPSBSZXF1ZXN0O1xuXG4vKipcbiAqIEdFVCBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QuZ2V0ID0gZnVuY3Rpb24odXJsLCBkYXRhLCBmbil7XG4gIHZhciByZXEgPSByZXF1ZXN0KCdHRVQnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgZm4gPSBkYXRhLCBkYXRhID0gbnVsbDtcbiAgaWYgKGRhdGEpIHJlcS5xdWVyeShkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogSEVBRCBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QuaGVhZCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgZm4pe1xuICB2YXIgcmVxID0gcmVxdWVzdCgnSEVBRCcsIHVybCk7XG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBkYXRhKSBmbiA9IGRhdGEsIGRhdGEgPSBudWxsO1xuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG4vKipcbiAqIE9QVElPTlMgcXVlcnkgdG8gYHVybGAgd2l0aCBvcHRpb25hbCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZHxGdW5jdGlvbn0gW2RhdGFdIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0Lm9wdGlvbnMgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ09QVElPTlMnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgZm4gPSBkYXRhLCBkYXRhID0gbnVsbDtcbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBERUxFVEUgYHVybGAgd2l0aCBvcHRpb25hbCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZGVsKHVybCwgZm4pe1xuICB2YXIgcmVxID0gcmVxdWVzdCgnREVMRVRFJywgdXJsKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbnJlcXVlc3RbJ2RlbCddID0gZGVsO1xucmVxdWVzdFsnZGVsZXRlJ10gPSBkZWw7XG5cbi8qKlxuICogUEFUQ0ggYHVybGAgd2l0aCBvcHRpb25hbCBgZGF0YWAgYW5kIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfSBbZGF0YV1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QucGF0Y2ggPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ1BBVENIJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIGZuID0gZGF0YSwgZGF0YSA9IG51bGw7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogUE9TVCBgdXJsYCB3aXRoIG9wdGlvbmFsIGBkYXRhYCBhbmQgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR9IFtkYXRhXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5wb3N0ID0gZnVuY3Rpb24odXJsLCBkYXRhLCBmbil7XG4gIHZhciByZXEgPSByZXF1ZXN0KCdQT1NUJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIGZuID0gZGF0YSwgZGF0YSA9IG51bGw7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogUFVUIGB1cmxgIHdpdGggb3B0aW9uYWwgYGRhdGFgIGFuZCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZHxGdW5jdGlvbn0gW2RhdGFdIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0LnB1dCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgZm4pe1xuICB2YXIgcmVxID0gcmVxdWVzdCgnUFVUJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIGZuID0gZGF0YSwgZGF0YSA9IG51bGw7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG4iLCIvKipcbiAqIENoZWNrIGlmIGBvYmpgIGlzIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gIHJldHVybiBudWxsICE9PSBvYmogJiYgJ29iamVjdCcgPT09IHR5cGVvZiBvYmo7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3Q7XG4iLCIvKipcbiAqIE1vZHVsZSBvZiBtaXhlZC1pbiBmdW5jdGlvbnMgc2hhcmVkIGJldHdlZW4gbm9kZSBhbmQgY2xpZW50IGNvZGVcbiAqL1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pcy1vYmplY3QnKTtcblxuLyoqXG4gKiBDbGVhciBwcmV2aW91cyB0aW1lb3V0LlxuICpcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLmNsZWFyVGltZW91dCA9IGZ1bmN0aW9uIF9jbGVhclRpbWVvdXQoKXtcbiAgdGhpcy5fdGltZW91dCA9IDA7XG4gIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBPdmVycmlkZSBkZWZhdWx0IHJlc3BvbnNlIGJvZHkgcGFyc2VyXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB0byBjb252ZXJ0IGluY29taW5nIGRhdGEgaW50byByZXF1ZXN0LmJvZHlcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UoZm4pe1xuICB0aGlzLl9wYXJzZXIgPSBmbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIE92ZXJyaWRlIGRlZmF1bHQgcmVxdWVzdCBib2R5IHNlcmlhbGl6ZXJcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHRvIGNvbnZlcnQgZGF0YSBzZXQgdmlhIC5zZW5kIG9yIC5hdHRhY2ggaW50byBwYXlsb2FkIHRvIHNlbmRcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uIHNlcmlhbGl6ZShmbil7XG4gIHRoaXMuX3NlcmlhbGl6ZXIgPSBmbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCB0aW1lb3V0IHRvIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy50aW1lb3V0ID0gZnVuY3Rpb24gdGltZW91dChtcyl7XG4gIHRoaXMuX3RpbWVvdXQgPSBtcztcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFByb21pc2Ugc3VwcG9ydFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdFxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqL1xuXG5leHBvcnRzLnRoZW4gPSBmdW5jdGlvbiB0aGVuKHJlc29sdmUsIHJlamVjdCkge1xuICBpZiAoIXRoaXMuX2Z1bGxmaWxsZWRQcm9taXNlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuX2Z1bGxmaWxsZWRQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24oaW5uZXJSZXNvbHZlLCBpbm5lclJlamVjdCl7XG4gICAgICBzZWxmLmVuZChmdW5jdGlvbihlcnIsIHJlcyl7XG4gICAgICAgIGlmIChlcnIpIGlubmVyUmVqZWN0KGVycik7IGVsc2UgaW5uZXJSZXNvbHZlKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gdGhpcy5fZnVsbGZpbGxlZFByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xufVxuXG4vKipcbiAqIEFsbG93IGZvciBleHRlbnNpb25cbiAqL1xuXG5leHBvcnRzLnVzZSA9IGZ1bmN0aW9uIHVzZShmbikge1xuICBmbih0aGlzKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cblxuLyoqXG4gKiBHZXQgcmVxdWVzdCBoZWFkZXIgYGZpZWxkYC5cbiAqIENhc2UtaW5zZW5zaXRpdmUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuZ2V0ID0gZnVuY3Rpb24oZmllbGQpe1xuICByZXR1cm4gdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldO1xufTtcblxuLyoqXG4gKiBHZXQgY2FzZS1pbnNlbnNpdGl2ZSBoZWFkZXIgYGZpZWxkYCB2YWx1ZS5cbiAqIFRoaXMgaXMgYSBkZXByZWNhdGVkIGludGVybmFsIEFQSS4gVXNlIGAuZ2V0KGZpZWxkKWAgaW5zdGVhZC5cbiAqXG4gKiAoZ2V0SGVhZGVyIGlzIG5vIGxvbmdlciB1c2VkIGludGVybmFsbHkgYnkgdGhlIHN1cGVyYWdlbnQgY29kZSBiYXNlKVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKiBAZGVwcmVjYXRlZFxuICovXG5cbmV4cG9ydHMuZ2V0SGVhZGVyID0gZXhwb3J0cy5nZXQ7XG5cbi8qKlxuICogU2V0IGhlYWRlciBgZmllbGRgIHRvIGB2YWxgLCBvciBtdWx0aXBsZSBmaWVsZHMgd2l0aCBvbmUgb2JqZWN0LlxuICogQ2FzZS1pbnNlbnNpdGl2ZS5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC5zZXQoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJylcbiAqICAgICAgICAuc2V0KCdYLUFQSS1LZXknLCAnZm9vYmFyJylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC5zZXQoeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJywgJ1gtQVBJLUtleSc6ICdmb29iYXInIH0pXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBmaWVsZFxuICogQHBhcmFtIHtTdHJpbmd9IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuc2V0ID0gZnVuY3Rpb24oZmllbGQsIHZhbCl7XG4gIGlmIChpc09iamVjdChmaWVsZCkpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gZmllbGQpIHtcbiAgICAgIHRoaXMuc2V0KGtleSwgZmllbGRba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHRoaXMuX2hlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXSA9IHZhbDtcbiAgdGhpcy5oZWFkZXJbZmllbGRdID0gdmFsO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGhlYWRlciBgZmllbGRgLlxuICogQ2FzZS1pbnNlbnNpdGl2ZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnVuc2V0KCdVc2VyLUFnZW50JylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmllbGRcbiAqL1xuZXhwb3J0cy51bnNldCA9IGZ1bmN0aW9uKGZpZWxkKXtcbiAgZGVsZXRlIHRoaXMuX2hlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXTtcbiAgZGVsZXRlIHRoaXMuaGVhZGVyW2ZpZWxkXTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFdyaXRlIHRoZSBmaWVsZCBgbmFtZWAgYW5kIGB2YWxgIGZvciBcIm11bHRpcGFydC9mb3JtLWRhdGFcIlxuICogcmVxdWVzdCBib2RpZXMuXG4gKlxuICogYGBgIGpzXG4gKiByZXF1ZXN0LnBvc3QoJy91cGxvYWQnKVxuICogICAuZmllbGQoJ2ZvbycsICdiYXInKVxuICogICAuZW5kKGNhbGxiYWNrKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ3xCbG9ifEZpbGV8QnVmZmVyfGZzLlJlYWRTdHJlYW19IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnRzLmZpZWxkID0gZnVuY3Rpb24obmFtZSwgdmFsKSB7XG4gIHRoaXMuX2dldEZvcm1EYXRhKCkuYXBwZW5kKG5hbWUsIHZhbCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBYm9ydCB0aGUgcmVxdWVzdCwgYW5kIGNsZWFyIHBvdGVudGlhbCB0aW1lb3V0LlxuICpcbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnRzLmFib3J0ID0gZnVuY3Rpb24oKXtcbiAgaWYgKHRoaXMuX2Fib3J0ZWQpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB0aGlzLl9hYm9ydGVkID0gdHJ1ZTtcbiAgdGhpcy54aHIgJiYgdGhpcy54aHIuYWJvcnQoKTsgLy8gYnJvd3NlclxuICB0aGlzLnJlcSAmJiB0aGlzLnJlcS5hYm9ydCgpOyAvLyBub2RlXG4gIHRoaXMuY2xlYXJUaW1lb3V0KCk7XG4gIHRoaXMuZW1pdCgnYWJvcnQnKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEVuYWJsZSB0cmFuc21pc3Npb24gb2YgY29va2llcyB3aXRoIHgtZG9tYWluIHJlcXVlc3RzLlxuICpcbiAqIE5vdGUgdGhhdCBmb3IgdGhpcyB0byB3b3JrIHRoZSBvcmlnaW4gbXVzdCBub3QgYmVcbiAqIHVzaW5nIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luXCIgd2l0aCBhIHdpbGRjYXJkLFxuICogYW5kIGFsc28gbXVzdCBzZXQgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFsc1wiXG4gKiB0byBcInRydWVcIi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMud2l0aENyZWRlbnRpYWxzID0gZnVuY3Rpb24oKXtcbiAgLy8gVGhpcyBpcyBicm93c2VyLW9ubHkgZnVuY3Rpb25hbGl0eS4gTm9kZSBzaWRlIGlzIG5vLW9wLlxuICB0aGlzLl93aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IHRoZSBtYXggcmVkaXJlY3RzIHRvIGBuYC4gRG9lcyBub3RpbmcgaW4gYnJvd3NlciBYSFIgaW1wbGVtZW50YXRpb24uXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG5cbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnJlZGlyZWN0cyA9IGZ1bmN0aW9uKG4pe1xuICB0aGlzLl9tYXhSZWRpcmVjdHMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ29udmVydCB0byBhIHBsYWluIGphdmFzY3JpcHQgb2JqZWN0IChub3QgSlNPTiBzdHJpbmcpIG9mIHNjYWxhciBwcm9wZXJ0aWVzLlxuICogTm90ZSBhcyB0aGlzIG1ldGhvZCBpcyBkZXNpZ25lZCB0byByZXR1cm4gYSB1c2VmdWwgbm9uLXRoaXMgdmFsdWUsXG4gKiBpdCBjYW5ub3QgYmUgY2hhaW5lZC5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGRlc2NyaWJpbmcgbWV0aG9kLCB1cmwsIGFuZCBkYXRhIG9mIHRoaXMgcmVxdWVzdFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnRvSlNPTiA9IGZ1bmN0aW9uKCl7XG4gIHJldHVybiB7XG4gICAgbWV0aG9kOiB0aGlzLm1ldGhvZCxcbiAgICB1cmw6IHRoaXMudXJsLFxuICAgIGRhdGE6IHRoaXMuX2RhdGEsXG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVyXG4gIH07XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGBvYmpgIGlzIGEgaG9zdCBvYmplY3QsXG4gKiB3ZSBkb24ndCB3YW50IHRvIHNlcmlhbGl6ZSB0aGVzZSA6KVxuICpcbiAqIFRPRE86IGZ1dHVyZSBwcm9vZiwgbW92ZSB0byBjb21wb2VudCBsYW5kXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMuX2lzSG9zdCA9IGZ1bmN0aW9uIF9pc0hvc3Qob2JqKSB7XG4gIHZhciBzdHIgPSB7fS50b1N0cmluZy5jYWxsKG9iaik7XG5cbiAgc3dpdGNoIChzdHIpIHtcbiAgICBjYXNlICdbb2JqZWN0IEZpbGVdJzpcbiAgICBjYXNlICdbb2JqZWN0IEJsb2JdJzpcbiAgICBjYXNlICdbb2JqZWN0IEZvcm1EYXRhXSc6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogU2VuZCBgZGF0YWAgYXMgdGhlIHJlcXVlc3QgYm9keSwgZGVmYXVsdGluZyB0aGUgYC50eXBlKClgIHRvIFwianNvblwiIHdoZW5cbiAqIGFuIG9iamVjdCBpcyBnaXZlbi5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgICAvLyBtYW51YWwganNvblxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC50eXBlKCdqc29uJylcbiAqICAgICAgICAgLnNlbmQoJ3tcIm5hbWVcIjpcInRqXCJ9JylcbiAqICAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiAgICAgICAvLyBhdXRvIGpzb25cbiAqICAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiAgICAgICAvLyBtYW51YWwgeC13d3ctZm9ybS11cmxlbmNvZGVkXG4gKiAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcbiAqICAgICAgICAgLnR5cGUoJ2Zvcm0nKVxuICogICAgICAgICAuc2VuZCgnbmFtZT10aicpXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICogICAgICAgLy8gYXV0byB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAqICAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgICAudHlwZSgnZm9ybScpXG4gKiAgICAgICAgIC5zZW5kKHsgbmFtZTogJ3RqJyB9KVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIGRlZmF1bHRzIHRvIHgtd3d3LWZvcm0tdXJsZW5jb2RlZFxuICogICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcbiAqICAgICAgICAuc2VuZCgnbmFtZT10b2JpJylcbiAqICAgICAgICAuc2VuZCgnc3BlY2llcz1mZXJyZXQnKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBkYXRhXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5zZW5kID0gZnVuY3Rpb24oZGF0YSl7XG4gIHZhciBvYmogPSBpc09iamVjdChkYXRhKTtcbiAgdmFyIHR5cGUgPSB0aGlzLl9oZWFkZXJbJ2NvbnRlbnQtdHlwZSddO1xuXG4gIC8vIG1lcmdlXG4gIGlmIChvYmogJiYgaXNPYmplY3QodGhpcy5fZGF0YSkpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgdGhpcy5fZGF0YVtrZXldID0gZGF0YVtrZXldO1xuICAgIH1cbiAgfSBlbHNlIGlmICgnc3RyaW5nJyA9PSB0eXBlb2YgZGF0YSkge1xuICAgIC8vIGRlZmF1bHQgdG8geC13d3ctZm9ybS11cmxlbmNvZGVkXG4gICAgaWYgKCF0eXBlKSB0aGlzLnR5cGUoJ2Zvcm0nKTtcbiAgICB0eXBlID0gdGhpcy5faGVhZGVyWydjb250ZW50LXR5cGUnXTtcbiAgICBpZiAoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgPT0gdHlwZSkge1xuICAgICAgdGhpcy5fZGF0YSA9IHRoaXMuX2RhdGFcbiAgICAgICAgPyB0aGlzLl9kYXRhICsgJyYnICsgZGF0YVxuICAgICAgICA6IGRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2RhdGEgPSAodGhpcy5fZGF0YSB8fCAnJykgKyBkYXRhO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgfVxuXG4gIGlmICghb2JqIHx8IHRoaXMuX2lzSG9zdChkYXRhKSkgcmV0dXJuIHRoaXM7XG5cbiAgLy8gZGVmYXVsdCB0byBqc29uXG4gIGlmICghdHlwZSkgdGhpcy50eXBlKCdqc29uJyk7XG4gIHJldHVybiB0aGlzO1xufTtcbiIsIi8vIFRoZSBub2RlIGFuZCBicm93c2VyIG1vZHVsZXMgZXhwb3NlIHZlcnNpb25zIG9mIHRoaXMgd2l0aCB0aGVcbi8vIGFwcHJvcHJpYXRlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGJvdW5kIGFzIGZpcnN0IGFyZ3VtZW50XG4vKipcbiAqIElzc3VlIGEgcmVxdWVzdDpcbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICByZXF1ZXN0KCdHRVQnLCAnL3VzZXJzJykuZW5kKGNhbGxiYWNrKVxuICogICAgcmVxdWVzdCgnL3VzZXJzJykuZW5kKGNhbGxiYWNrKVxuICogICAgcmVxdWVzdCgnL3VzZXJzJywgY2FsbGJhY2spXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZFxuICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHVybCBvciBjYWxsYmFja1xuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gcmVxdWVzdChSZXF1ZXN0Q29uc3RydWN0b3IsIG1ldGhvZCwgdXJsKSB7XG4gIC8vIGNhbGxiYWNrXG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiB1cmwpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3RDb25zdHJ1Y3RvcignR0VUJywgbWV0aG9kKS5lbmQodXJsKTtcbiAgfVxuXG4gIC8vIHVybCBmaXJzdFxuICBpZiAoMiA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0Q29uc3RydWN0b3IoJ0dFVCcsIG1ldGhvZCk7XG4gIH1cblxuICByZXR1cm4gbmV3IFJlcXVlc3RDb25zdHJ1Y3RvcihtZXRob2QsIHVybCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWVzdDtcbiIsIi8qIGdsb2JhbCBkZWZpbmUgKi9cbi8qKlxuICogQSBiYXNlIG9iamVjdCBmb3IgRUNNQVNjcmlwdCA1IHN0eWxlIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vcmF1c2NobWEvcHJvdG8tanMvXG4gKiBAc2VlIGh0dHA6Ly9lam9obi5vcmcvYmxvZy9zaW1wbGUtamF2YXNjcmlwdC1pbmhlcml0YW5jZS9cbiAqIEBzZWUgaHR0cDovL3V4ZWJ1LmNvbS9ibG9nLzIwMTEvMDIvMjMvb2JqZWN0LWJhc2VkLWluaGVyaXRhbmNlLWZvci1lY21hc2NyaXB0LTUvXG4gKi9cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0fSBlbHNlIHtcblx0XHRyb290LlByb3RvID0gZmFjdG9yeSgpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuXHRmdW5jdGlvbiBtYWtlU3VwZXIoX3N1cGVyLCBvbGQsIG5hbWUsIGZuKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciB0bXAgPSB0aGlzLl9zdXBlcjtcblxuXHRcdFx0Ly8gQWRkIGEgbmV3IC5fc3VwZXIoKSBtZXRob2QgdGhhdCBpcyB0aGUgc2FtZSBtZXRob2Rcblx0XHRcdC8vIGJ1dCBlaXRoZXIgcG9pbnRpbmcgdG8gdGhlIHByb3RvdHlwZSBtZXRob2Rcblx0XHRcdC8vIG9yIHRvIHRoZSBvdmVyd3JpdHRlbiBtZXRob2Rcblx0XHRcdHRoaXMuX3N1cGVyID0gKHR5cGVvZiBvbGQgPT09ICdmdW5jdGlvbicpID8gb2xkIDogX3N1cGVyW25hbWVdO1xuXG5cdFx0XHQvLyBUaGUgbWV0aG9kIG9ubHkgbmVlZCB0byBiZSBib3VuZCB0ZW1wb3JhcmlseSwgc28gd2Vcblx0XHRcdC8vIHJlbW92ZSBpdCB3aGVuIHdlJ3JlIGRvbmUgZXhlY3V0aW5nXG5cdFx0XHR2YXIgcmV0ID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuX3N1cGVyID0gdG1wO1xuXG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBsZWdhY3lNaXhpbihwcm9wLCBvYmopIHtcblx0XHR2YXIgc2VsZiA9IG9iaiB8fCB0aGlzO1xuXHRcdHZhciBmblRlc3QgPSAvXFxiX3N1cGVyXFxiLztcblx0XHR2YXIgX3N1cGVyID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHNlbGYpIHx8IHNlbGYucHJvdG90eXBlO1xuXHRcdHZhciBfb2xkO1xuXG5cdFx0Ly8gQ29weSB0aGUgcHJvcGVydGllcyBvdmVyXG5cdFx0Zm9yICh2YXIgbmFtZSBpbiBwcm9wKSB7XG5cdFx0XHQvLyBzdG9yZSB0aGUgb2xkIGZ1bmN0aW9uIHdoaWNoIHdvdWxkIGJlIG92ZXJ3cml0dGVuXG5cdFx0XHRfb2xkID0gc2VsZltuYW1lXTtcblxuXHRcdFx0Ly8gQ2hlY2sgaWYgd2UncmUgb3ZlcndyaXRpbmcgYW4gZXhpc3RpbmcgZnVuY3Rpb25cblx0XHRcdGlmKFxuXHRcdFx0XHRcdCgoXG5cdFx0XHRcdFx0XHR0eXBlb2YgcHJvcFtuYW1lXSA9PT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdFx0XHRcdFx0dHlwZW9mIF9zdXBlcltuYW1lXSA9PT0gJ2Z1bmN0aW9uJ1xuXHRcdFx0XHRcdCkgfHwgKFxuXHRcdFx0XHRcdFx0dHlwZW9mIF9vbGQgPT09ICdmdW5jdGlvbicgJiZcblx0XHRcdFx0XHRcdHR5cGVvZiBwcm9wW25hbWVdID09PSAnZnVuY3Rpb24nXG5cdFx0XHRcdFx0KSkgJiYgZm5UZXN0LnRlc3QocHJvcFtuYW1lXSlcblx0XHRcdCkge1xuXHRcdFx0XHRzZWxmW25hbWVdID0gbWFrZVN1cGVyKF9zdXBlciwgX29sZCwgbmFtZSwgcHJvcFtuYW1lXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWxmW25hbWVdID0gcHJvcFtuYW1lXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gc2VsZjtcblx0fVxuXG5cdGZ1bmN0aW9uIGVzNU1peGluKHByb3AsIG9iaikge1xuXHRcdHZhciBzZWxmID0gb2JqIHx8IHRoaXM7XG5cdFx0dmFyIGZuVGVzdCA9IC9cXGJfc3VwZXJcXGIvO1xuXHRcdHZhciBfc3VwZXIgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoc2VsZikgfHwgc2VsZi5wcm90b3R5cGU7XG5cdFx0dmFyIGRlc2NyaXB0b3JzID0ge307XG5cdFx0dmFyIHByb3RvID0gcHJvcDtcblx0XHR2YXIgcHJvY2Vzc1Byb3BlcnR5ID0gZnVuY3Rpb24obmFtZSkge1xuXHRcdFx0aWYoIWRlc2NyaXB0b3JzW25hbWVdKSB7XG5cdFx0XHRcdGRlc2NyaXB0b3JzW25hbWVdID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgbmFtZSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8vIENvbGxlY3QgYWxsIHByb3BlcnR5IGRlc2NyaXB0b3JzXG5cdFx0ZG8ge1xuXHRcdFx0T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvdG8pLmZvckVhY2gocHJvY2Vzc1Byb3BlcnR5KTtcbiAgICB9IHdoaWxlKChwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykpICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykpO1xuXHRcdFxuXHRcdE9iamVjdC5rZXlzKGRlc2NyaXB0b3JzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcblx0XHRcdHZhciBkZXNjcmlwdG9yID0gZGVzY3JpcHRvcnNbbmFtZV07XG5cblx0XHRcdGlmKHR5cGVvZiBkZXNjcmlwdG9yLnZhbHVlID09PSAnZnVuY3Rpb24nICYmIGZuVGVzdC50ZXN0KGRlc2NyaXB0b3IudmFsdWUpKSB7XG5cdFx0XHRcdGRlc2NyaXB0b3IudmFsdWUgPSBtYWtlU3VwZXIoX3N1cGVyLCBzZWxmW25hbWVdLCBuYW1lLCBkZXNjcmlwdG9yLnZhbHVlKTtcblx0XHRcdH1cblxuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHNlbGYsIG5hbWUsIGRlc2NyaXB0b3IpO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHNlbGY7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdC8qKlxuXHRcdCAqIENyZWF0ZSBhIG5ldyBvYmplY3QgdXNpbmcgT2JqZWN0LmNyZWF0ZS4gVGhlIGFyZ3VtZW50cyB3aWxsIGJlXG5cdFx0ICogcGFzc2VkIHRvIHRoZSBuZXcgaW5zdGFuY2VzIGluaXQgbWV0aG9kIG9yIHRvIGEgbWV0aG9kIG5hbWUgc2V0IGluXG5cdFx0ICogX19pbml0LlxuXHRcdCAqL1xuXHRcdGNyZWF0ZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGluc3RhbmNlID0gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcblx0XHRcdHZhciBpbml0ID0gdHlwZW9mIGluc3RhbmNlLl9faW5pdCA9PT0gJ3N0cmluZycgPyBpbnN0YW5jZS5fX2luaXQgOiAnaW5pdCc7XG5cblx0XHRcdGlmICh0eXBlb2YgaW5zdGFuY2VbaW5pdF0gPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0aW5zdGFuY2VbaW5pdF0uYXBwbHkoaW5zdGFuY2UsIGFyZ3VtZW50cyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gaW5zdGFuY2U7XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBNaXhpbiBhIGdpdmVuIHNldCBvZiBwcm9wZXJ0aWVzXG5cdFx0ICogQHBhcmFtIHByb3AgVGhlIHByb3BlcnRpZXMgdG8gbWl4IGluXG5cdFx0ICogQHBhcmFtIG9iaiBbb3B0aW9uYWxdIFRoZSBvYmplY3QgdG8gYWRkIHRoZSBtaXhpblxuXHRcdCAqL1xuXHRcdG1peGluOiB0eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5ID09PSAnZnVuY3Rpb24nID8gZXM1TWl4aW4gOiBsZWdhY3lNaXhpbixcblx0XHQvKipcblx0XHQgKiBFeHRlbmQgdGhlIGN1cnJlbnQgb3IgYSBnaXZlbiBvYmplY3Qgd2l0aCB0aGUgZ2l2ZW4gcHJvcGVydHlcblx0XHQgKiBhbmQgcmV0dXJuIHRoZSBleHRlbmRlZCBvYmplY3QuXG5cdFx0ICogQHBhcmFtIHByb3AgVGhlIHByb3BlcnRpZXMgdG8gZXh0ZW5kIHdpdGhcblx0XHQgKiBAcGFyYW0gb2JqIFtvcHRpb25hbF0gVGhlIG9iamVjdCB0byBleHRlbmQgZnJvbVxuXHRcdCAqIEByZXR1cm5zIFRoZSBleHRlbmRlZCBvYmplY3Rcblx0XHQgKi9cblx0XHRleHRlbmQ6IGZ1bmN0aW9uIChwcm9wLCBvYmopIHtcblx0XHRcdHJldHVybiB0aGlzLm1peGluKHByb3AsIE9iamVjdC5jcmVhdGUob2JqIHx8IHRoaXMpKTtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybiBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdpdGggdGhpcyBzZXQgdG8gdGhlIGN1cnJlbnQgb3IgYSBnaXZlbiBjb250ZXh0IG9iamVjdC5cblx0XHQgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBtZXRob2QgdG8gcHJveHlcblx0XHQgKiBAcGFyYW0gYXJncy4uLiBbb3B0aW9uYWxdIEFyZ3VtZW50cyB0byB1c2UgZm9yIHBhcnRpYWwgYXBwbGljYXRpb25cblx0XHQgKi9cblx0XHRwcm94eTogZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdHZhciBmbiA9IHRoaXNbbmFtZV07XG5cdFx0XHR2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cblx0XHRcdGFyZ3MudW5zaGlmdCh0aGlzKTtcblx0XHRcdHJldHVybiBmbi5iaW5kLmFwcGx5KGZuLCBhcmdzKTtcblx0XHR9XG5cdH07XG5cbn0pKTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuXG5mdW5jdGlvbiB1cmxQYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh1cmwgJiYgdXRpbC5pc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIXV0aWwuaXNTdHJpbmcodXJsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSxcbiAgICAgIHNwbGl0dGVyID1cbiAgICAgICAgICAocXVlcnlJbmRleCAhPT0gLTEgJiYgcXVlcnlJbmRleCA8IHVybC5pbmRleE9mKCcjJykpID8gJz8nIDogJyMnLFxuICAgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgaWYgKCFzbGFzaGVzRGVub3RlSG9zdCAmJiB1cmwuc3BsaXQoJyMnKS5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBUcnkgZmFzdCBwYXRoIHJlZ2V4cFxuICAgIHZhciBzaW1wbGVQYXRoID0gc2ltcGxlUGF0aFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgICBpZiAoc2ltcGxlUGF0aCkge1xuICAgICAgdGhpcy5wYXRoID0gcmVzdDtcbiAgICAgIHRoaXMuaHJlZiA9IHJlc3Q7XG4gICAgICB0aGlzLnBhdGhuYW1lID0gc2ltcGxlUGF0aFsxXTtcbiAgICAgIGlmIChzaW1wbGVQYXRoWzJdKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gc2ltcGxlUGF0aFsyXTtcbiAgICAgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSlcbiAgICAgICAgY29udGludWU7XG4gICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTtcbiAgICAgIGlmIChlc2MgPT09IGFlKSB7XG4gICAgICAgIGVzYyA9IGVzY2FwZShhZSk7XG4gICAgICB9XG4gICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC5cbiAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2ggIT09IC0xKSB7XG4gICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLlxuICAgIHRoaXMuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpO1xuICB9XG4gIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpO1xuICBpZiAocW0gIT09IC0xKSB7XG4gICAgdGhpcy5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7XG4gICAgdGhpcy5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7XG4gICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSB0aGlzLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgICAgdGhpcy5ob3N0bmFtZSAmJiAhdGhpcy5wYXRobmFtZSkge1xuICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgaWYgKHV0aWwuaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgdXRpbC5pc09iamVjdCh0aGlzLnF1ZXJ5KSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkodGhpcy5xdWVyeSk7XG4gIH1cblxuICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnO1xuXG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy5cbiAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC5cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fFxuICAgICAgKCFwcm90b2NvbCB8fCBzbGFzaGVkUHJvdG9jb2xbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpO1xuICAgIGlmIChwYXRobmFtZSAmJiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoO1xuXG4gIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QodXJsUGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKSkuZm9ybWF0KCk7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICBpZiAodXRpbC5pc1N0cmluZyhyZWxhdGl2ZSkpIHtcbiAgICB2YXIgcmVsID0gbmV3IFVybCgpO1xuICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpO1xuICAgIHJlbGF0aXZlID0gcmVsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTtcbiAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHtcbiAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTtcbiAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldO1xuICB9XG5cbiAgLy8gaGFzaCBpcyBhbHdheXMgb3ZlcnJpZGRlbiwgbm8gbWF0dGVyIHdoYXQuXG4gIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJylcbiAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07XG4gICAgfVxuXG4gICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb21cbiAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiZcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocmVsYXRpdmUucHJvdG9jb2wgJiYgcmVsYXRpdmUucHJvdG9jb2wgIT09IHJlc3VsdC5wcm90b2NvbCkge1xuICAgIC8vIGlmIGl0J3MgYSBrbm93biB1cmwgcHJvdG9jb2wsIHRoZW4gY2hhbmdpbmdcbiAgICAvLyB0aGUgcHJvdG9jb2wgZG9lcyB3ZWlyZCB0aGluZ3NcbiAgICAvLyBmaXJzdCwgaWYgaXQncyBub3QgZmlsZTosIHRoZW4gd2UgTVVTVCBoYXZlIGEgaG9zdCxcbiAgICAvLyBhbmQgaWYgdGhlcmUgd2FzIGEgcGF0aFxuICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAvLyBpZiBpdCBpcyBmaWxlOiwgdGhlbiB0aGUgaG9zdCBpcyBkcm9wcGVkLFxuICAgIC8vIGJlY2F1c2UgdGhhdCdzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgIC8vIGFueXRoaW5nIGVsc2UgaXMgYXNzdW1lZCB0byBiZSBhYnNvbHV0ZS5cbiAgICBpZiAoIXNsYXNoZWRQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1t2XTtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVsYXRpdmVba107XG4gICAgICB9XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCF1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHtcbiAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guXG4gICAgLy8gbGlrZSBocmVmPSc/Zm9vJy5cbiAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICBpZiAocHN5Y2hvdGljKSB7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTtcbiAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmXG4gICAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTtcblxuICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyXG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICBsYXN0ID0gc3JjUGF0aFtpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBob3N0ID0gdGhpcy5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgdGhpcy5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNTdHJpbmc6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ3N0cmluZyc7XG4gIH0sXG4gIGlzT2JqZWN0OiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09PSBudWxsO1xuICB9LFxuICBpc051bGxPclVuZGVmaW5lZDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PSBudWxsO1xuICB9XG59O1xuIiwiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQnVmZmVyKGFyZykge1xuICByZXR1cm4gYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnXG4gICAgJiYgdHlwZW9mIGFyZy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5maWxsID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5yZWFkVUludDggPT09ICdmdW5jdGlvbic7XG59IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuIiwiY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0JylcbmNvbnN0IHRyaWUgPSByZXF1aXJlKCcuL3RyaWUnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IFdheWZhcmVyXG5cbi8vIGNyZWF0ZSBhIHJvdXRlclxuLy8gc3RyIC0+IG9ialxuZnVuY3Rpb24gV2F5ZmFyZXIgKGRmdCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgV2F5ZmFyZXIpKSByZXR1cm4gbmV3IFdheWZhcmVyKGRmdClcblxuICBjb25zdCBfZGVmYXVsdCA9IChkZnQgfHwgJycpLnJlcGxhY2UoL15cXC8vLCAnJylcbiAgY29uc3QgX3RyaWUgPSB0cmllKClcblxuICBlbWl0Ll90cmllID0gX3RyaWVcbiAgZW1pdC5lbWl0ID0gZW1pdFxuICBlbWl0Lm9uID0gb25cbiAgZW1pdC5fd2F5ZmFyZXIgPSB0cnVlXG5cbiAgcmV0dXJuIGVtaXRcblxuICAvLyBkZWZpbmUgYSByb3V0ZVxuICAvLyAoc3RyLCBmbikgLT4gb2JqXG4gIGZ1bmN0aW9uIG9uIChyb3V0ZSwgY2IpIHtcbiAgICBhc3NlcnQuZXF1YWwodHlwZW9mIHJvdXRlLCAnc3RyaW5nJylcbiAgICBhc3NlcnQuZXF1YWwodHlwZW9mIGNiLCAnZnVuY3Rpb24nKVxuXG4gICAgcm91dGUgPSByb3V0ZSB8fCAnLydcblxuICAgIGlmIChjYiAmJiBjYi5fd2F5ZmFyZXIgJiYgY2IuX3RyaWUpIHtcbiAgICAgIF90cmllLm1vdW50KHJvdXRlLCBjYi5fdHJpZS50cmllKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBub2RlID0gX3RyaWUuY3JlYXRlKHJvdXRlKVxuICAgICAgbm9kZS5jYiA9IGNiXG4gICAgfVxuXG4gICAgcmV0dXJuIGVtaXRcbiAgfVxuXG4gIC8vIG1hdGNoIGFuZCBjYWxsIGEgcm91dGVcbiAgLy8gKHN0ciwgb2JqPykgLT4gbnVsbFxuICBmdW5jdGlvbiBlbWl0IChyb3V0ZSkge1xuICAgIGFzc2VydC5ub3RFcXVhbChyb3V0ZSwgdW5kZWZpbmVkLCBcIidyb3V0ZScgbXVzdCBiZSBkZWZpbmVkXCIpXG4gICAgY29uc3QgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShhcmd1bWVudHMpXG5cbiAgICBjb25zdCBub2RlID0gX3RyaWUubWF0Y2gocm91dGUpXG4gICAgaWYgKG5vZGUgJiYgbm9kZS5jYikge1xuICAgICAgYXJnc1swXSA9IG5vZGUucGFyYW1zXG4gICAgICByZXR1cm4gbm9kZS5jYi5hcHBseShudWxsLCBhcmdzKVxuICAgIH1cblxuICAgIGNvbnN0IGRmdCA9IF90cmllLm1hdGNoKF9kZWZhdWx0KVxuICAgIGlmIChkZnQgJiYgZGZ0LmNiKSB7XG4gICAgICBhcmdzWzBdID0gZGZ0LnBhcmFtc1xuICAgICAgcmV0dXJuIGRmdC5jYi5hcHBseShudWxsLCBhcmdzKVxuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihcInJvdXRlICdcIiArIHJvdXRlICsgXCInIGRpZCBub3QgbWF0Y2hcIilcbiAgfVxufVxuIiwiY29uc3QgbXV0YXRlID0gcmVxdWlyZSgneHRlbmQvbXV0YWJsZScpXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKVxuY29uc3QgeHRlbmQgPSByZXF1aXJlKCd4dGVuZCcpXG5cbm1vZHVsZS5leHBvcnRzID0gVHJpZVxuXG4vLyBjcmVhdGUgYSBuZXcgdHJpZVxuLy8gbnVsbCAtPiBvYmpcbmZ1bmN0aW9uIFRyaWUgKCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVHJpZSkpIHJldHVybiBuZXcgVHJpZSgpXG4gIHRoaXMudHJpZSA9IHsgbm9kZXM6IHt9IH1cbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBvbiB0aGUgdHJpZSBhdCByb3V0ZVxuLy8gYW5kIHJldHVybiBhIG5vZGVcbi8vIHN0ciAtPiBudWxsXG5UcmllLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAocm91dGUpIHtcbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiByb3V0ZSwgJ3N0cmluZycsICdyb3V0ZSBzaG91bGQgYmUgYSBzdHJpbmcnKVxuICAvLyBzdHJpcCBsZWFkaW5nICcvJyBhbmQgc3BsaXQgcm91dGVzXG4gIGNvbnN0IHJvdXRlcyA9IHJvdXRlLnJlcGxhY2UoL15cXC8vLCAnJykuc3BsaXQoJy8nKVxuICByZXR1cm4gKGZ1bmN0aW9uIGNyZWF0ZU5vZGUgKGluZGV4LCB0cmllLCByb3V0ZXMpIHtcbiAgICBjb25zdCByb3V0ZSA9IHJvdXRlc1tpbmRleF1cblxuICAgIGlmIChyb3V0ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdHJpZVxuXG4gICAgdmFyIG5vZGUgPSBudWxsXG4gICAgaWYgKC9eOi8udGVzdChyb3V0ZSkpIHtcbiAgICAgIC8vIGlmIG5vZGUgaXMgYSBuYW1lIG1hdGNoLCBzZXQgbmFtZSBhbmQgYXBwZW5kIHRvICc6JyBub2RlXG4gICAgICBpZiAoIXRyaWUubm9kZXNbJyQkJ10pIHtcbiAgICAgICAgbm9kZSA9IHsgbm9kZXM6IHt9IH1cbiAgICAgICAgdHJpZS5ub2Rlc1snJCQnXSA9IG5vZGVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUgPSB0cmllLm5vZGVzWyckJCddXG4gICAgICB9XG4gICAgICB0cmllLm5hbWUgPSByb3V0ZS5yZXBsYWNlKC9eOi8sICcnKVxuICAgIH0gZWxzZSBpZiAoIXRyaWUubm9kZXNbcm91dGVdKSB7XG4gICAgICBub2RlID0geyBub2Rlczoge30gfVxuICAgICAgdHJpZS5ub2Rlc1tyb3V0ZV0gPSBub2RlXG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUgPSB0cmllLm5vZGVzW3JvdXRlXVxuICAgIH1cblxuICAgIC8vIHdlIG11c3QgcmVjdXJzZSBkZWVwZXJcbiAgICByZXR1cm4gY3JlYXRlTm9kZShpbmRleCArIDEsIG5vZGUsIHJvdXRlcylcbiAgfSkoMCwgdGhpcy50cmllLCByb3V0ZXMpXG59XG5cbi8vIG1hdGNoIGEgcm91dGUgb24gdGhlIHRyaWVcbi8vIGFuZCByZXR1cm4gdGhlIG5vZGVcbi8vIHN0ciAtPiBvYmpcblRyaWUucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gKHJvdXRlKSB7XG4gIGFzc2VydC5lcXVhbCh0eXBlb2Ygcm91dGUsICdzdHJpbmcnLCAncm91dGUgc2hvdWxkIGJlIGEgc3RyaW5nJylcblxuICBjb25zdCByb3V0ZXMgPSByb3V0ZS5yZXBsYWNlKC9eXFwvLywgJycpLnNwbGl0KCcvJylcbiAgY29uc3QgcGFyYW1zID0ge31cblxuICB2YXIgbm9kZSA9IChmdW5jdGlvbiBzZWFyY2ggKGluZGV4LCB0cmllKSB7XG4gICAgLy8gZWl0aGVyIHRoZXJlJ3Mgbm8gbWF0Y2gsIG9yIHdlJ3JlIGRvbmUgc2VhcmNoaW5nXG4gICAgaWYgKHRyaWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGNvbnN0IHJvdXRlID0gcm91dGVzW2luZGV4XVxuICAgIGlmIChyb3V0ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdHJpZVxuXG4gICAgaWYgKHRyaWUubm9kZXNbcm91dGVdKSB7XG4gICAgICAvLyBtYXRjaCByZWd1bGFyIHJvdXRlcyBmaXJzdFxuICAgICAgcmV0dXJuIHNlYXJjaChpbmRleCArIDEsIHRyaWUubm9kZXNbcm91dGVdKVxuICAgIH0gZWxzZSBpZiAodHJpZS5uYW1lKSB7XG4gICAgICAvLyBtYXRjaCBuYW1lZCByb3V0ZXNcbiAgICAgIHBhcmFtc1t0cmllLm5hbWVdID0gcm91dGVcbiAgICAgIHJldHVybiBzZWFyY2goaW5kZXggKyAxLCB0cmllLm5vZGVzWyckJCddKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBubyBtYXRjaGVzIGZvdW5kXG4gICAgICByZXR1cm4gc2VhcmNoKGluZGV4ICsgMSlcbiAgICB9XG4gIH0pKDAsIHRoaXMudHJpZSlcblxuICBpZiAoIW5vZGUpIHJldHVybiB1bmRlZmluZWRcbiAgbm9kZSA9IHh0ZW5kKG5vZGUpXG4gIG5vZGUucGFyYW1zID0gcGFyYW1zXG4gIHJldHVybiBub2RlXG59XG5cbi8vIG1vdW50IGEgdHJpZSBvbnRvIGEgbm9kZSBhdCByb3V0ZVxuLy8gKHN0ciwgb2JqKSAtPiBudWxsXG5UcmllLnByb3RvdHlwZS5tb3VudCA9IGZ1bmN0aW9uIChyb3V0ZSwgdHJpZSkge1xuICBhc3NlcnQuZXF1YWwodHlwZW9mIHJvdXRlLCAnc3RyaW5nJywgJ3JvdXRlIHNob3VsZCBiZSBhIHN0cmluZycpXG4gIGFzc2VydC5lcXVhbCh0eXBlb2YgdHJpZSwgJ29iamVjdCcsICd0cmllIHNob3VsZCBiZSBhIG9iamVjdCcpXG5cbiAgY29uc3Qgc3BsaXQgPSByb3V0ZS5yZXBsYWNlKC9eXFwvLywgJycpLnNwbGl0KCcvJylcbiAgdmFyIG5vZGUgPSBudWxsXG4gIHZhciBrZXkgPSBudWxsXG5cbiAgaWYgKHNwbGl0Lmxlbmd0aCA9PT0gMSkge1xuICAgIGtleSA9IHNwbGl0WzBdXG4gICAgbm9kZSA9IHRoaXMuY3JlYXRlKGtleSlcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBoZWFkQXJyID0gc3BsaXQuc3BsaWNlKDAsIHNwbGl0Lmxlbmd0aCAtIDEpXG4gICAgY29uc3QgaGVhZCA9IGhlYWRBcnIuam9pbignLycpXG4gICAga2V5ID0gc3BsaXRbMF1cbiAgICBub2RlID0gdGhpcy5jcmVhdGUoaGVhZClcbiAgfVxuXG4gIG11dGF0ZShub2RlLm5vZGVzLCB0cmllLm5vZGVzKVxuICBpZiAodHJpZS5uYW1lKSBub2RlLm5hbWUgPSB0cmllLm5hbWVcblxuICAvLyBkZWxlZ2F0ZSBwcm9wZXJ0aWVzIGZyb20gJy8nIHRvIHRoZSBuZXcgbm9kZVxuICAvLyAnLycgY2Fubm90IGJlIHJlYWNoZWQgb25jZSBtb3VudGVkXG4gIGlmIChub2RlLm5vZGVzWycnXSkge1xuICAgIE9iamVjdC5rZXlzKG5vZGUubm9kZXNbJyddKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChrZXkgPT09ICdub2RlcycpIHJldHVyblxuICAgICAgbm9kZVtrZXldID0gbm9kZS5ub2Rlc1snJ11ba2V5XVxuICAgIH0pXG4gICAgbXV0YXRlKG5vZGUubm9kZXMsIG5vZGUubm9kZXNbJyddLm5vZGVzKVxuICAgIGRlbGV0ZSBub2RlLm5vZGVzWycnXS5ub2Rlc1xuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGV4dGVuZFxuXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5mdW5jdGlvbiBleHRlbmQoKSB7XG4gICAgdmFyIHRhcmdldCA9IHt9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldXG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldFxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBleHRlbmRcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV1cblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0XG59XG4iLCJ2YXIgYmVsID0gcmVxdWlyZSgnYmVsJykgLy8gdHVybnMgdGVtcGxhdGUgdGFnIGludG8gRE9NIGVsZW1lbnRzXG52YXIgbW9ycGhkb20gPSByZXF1aXJlKCdtb3JwaGRvbScpIC8vIGVmZmljaWVudGx5IGRpZmZzICsgbW9ycGhzIHR3byBET00gZWxlbWVudHNcbnZhciBkZWZhdWx0RXZlbnRzID0gcmVxdWlyZSgnLi91cGRhdGUtZXZlbnRzLmpzJykgLy8gZGVmYXVsdCBldmVudHMgdG8gYmUgY29waWVkIHdoZW4gZG9tIGVsZW1lbnRzIHVwZGF0ZVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJlbFxuXG4vLyBUT0RPIG1vdmUgdGhpcyArIGRlZmF1bHRFdmVudHMgdG8gYSBuZXcgbW9kdWxlIG9uY2Ugd2UgcmVjZWl2ZSBtb3JlIGZlZWRiYWNrXG5tb2R1bGUuZXhwb3J0cy51cGRhdGUgPSBmdW5jdGlvbiAoZnJvbU5vZGUsIHRvTm9kZSwgb3B0cykge1xuICBpZiAoIW9wdHMpIG9wdHMgPSB7fVxuICBpZiAob3B0cy5ldmVudHMgIT09IGZhbHNlKSB7XG4gICAgaWYgKCFvcHRzLm9uQmVmb3JlTW9ycGhFbCkgb3B0cy5vbkJlZm9yZU1vcnBoRWwgPSBjb3BpZXJcbiAgfVxuXG4gIHJldHVybiBtb3JwaGRvbShmcm9tTm9kZSwgdG9Ob2RlLCBvcHRzKVxuXG4gIC8vIG1vcnBoZG9tIG9ubHkgY29waWVzIGF0dHJpYnV0ZXMuIHdlIGRlY2lkZWQgd2UgYWxzbyB3YW50ZWQgdG8gY29weSBldmVudHNcbiAgLy8gdGhhdCBjYW4gYmUgc2V0IHZpYSBhdHRyaWJ1dGVzXG4gIGZ1bmN0aW9uIGNvcGllciAoZiwgdCkge1xuICAgIC8vIGNvcHkgZXZlbnRzOlxuICAgIHZhciBldmVudHMgPSBvcHRzLmV2ZW50cyB8fCBkZWZhdWx0RXZlbnRzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBldiA9IGV2ZW50c1tpXVxuICAgICAgaWYgKHRbZXZdKSB7IC8vIGlmIG5ldyBlbGVtZW50IGhhcyBhIHdoaXRlbGlzdGVkIGF0dHJpYnV0ZVxuICAgICAgICBmW2V2XSA9IHRbZXZdIC8vIHVwZGF0ZSBleGlzdGluZyBlbGVtZW50XG4gICAgICB9IGVsc2UgaWYgKGZbZXZdKSB7IC8vIGlmIGV4aXN0aW5nIGVsZW1lbnQgaGFzIGl0IGFuZCBuZXcgb25lIGRvZXNudFxuICAgICAgICBmW2V2XSA9IHVuZGVmaW5lZCAvLyByZW1vdmUgaXQgZnJvbSBleGlzdGluZyBlbGVtZW50XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGNvcHkgdmFsdWVzIGZvciBmb3JtIGVsZW1lbnRzXG4gICAgaWYgKChmLm5vZGVOYW1lID09PSAnSU5QVVQnICYmIGYudHlwZSAhPT0gJ2ZpbGUnKSB8fCBmLm5vZGVOYW1lID09PSAnVEVYVEFSRUEnIHx8IGYubm9kZU5hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICBpZiAodC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykgPT09IG51bGwpIHQudmFsdWUgPSBmLnZhbHVlXG4gICAgfVxuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFtcbiAgLy8gYXR0cmlidXRlIGV2ZW50cyAoY2FuIGJlIHNldCB3aXRoIGF0dHJpYnV0ZXMpXG4gICdvbmNsaWNrJyxcbiAgJ29uZGJsY2xpY2snLFxuICAnb25tb3VzZWRvd24nLFxuICAnb25tb3VzZXVwJyxcbiAgJ29ubW91c2VvdmVyJyxcbiAgJ29ubW91c2Vtb3ZlJyxcbiAgJ29ubW91c2VvdXQnLFxuICAnb25kcmFnc3RhcnQnLFxuICAnb25kcmFnJyxcbiAgJ29uZHJhZ2VudGVyJyxcbiAgJ29uZHJhZ2xlYXZlJyxcbiAgJ29uZHJhZ292ZXInLFxuICAnb25kcm9wJyxcbiAgJ29uZHJhZ2VuZCcsXG4gICdvbmtleWRvd24nLFxuICAnb25rZXlwcmVzcycsXG4gICdvbmtleXVwJyxcbiAgJ29udW5sb2FkJyxcbiAgJ29uYWJvcnQnLFxuICAnb25lcnJvcicsXG4gICdvbnJlc2l6ZScsXG4gICdvbnNjcm9sbCcsXG4gICdvbnNlbGVjdCcsXG4gICdvbmNoYW5nZScsXG4gICdvbnN1Ym1pdCcsXG4gICdvbnJlc2V0JyxcbiAgJ29uZm9jdXMnLFxuICAnb25ibHVyJyxcbiAgJ29uaW5wdXQnLFxuICAvLyBvdGhlciBjb21tb24gZXZlbnRzXG4gICdvbmNvbnRleHRtZW51JyxcbiAgJ29uZm9jdXNpbicsXG4gICdvbmZvY3Vzb3V0J1xuXVxuIiwiY29uc3QgeyBBY3Rpb24gfSA9IHJlcXVpcmUoJ2ludXgnKVxuXG5jb25zdCBTRVQgPSBTeW1ib2woJ3NldCcpXG5cbmNvbnN0IHNldCA9IEFjdGlvbihTRVQpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBTRVQsXG4gIHNldFxufVxuIiwiY29uc3QgeyBodG1sLCBwdWxsIH0gPSByZXF1aXJlKCdpbnUnKVxuY29uc3QgeyBEb21haW4sIHJ1biB9ID0gcmVxdWlyZSgnaW51eCcpXG5jb25zdCBwdWxsQXN5bmMgPSByZXF1aXJlKCdwdWxsLWFzeW5jJylcblxuY29uc3QgeyBTRVQsIHNldCB9ID0gcmVxdWlyZSgnLi9hY3Rpb25zJylcbmNvbnN0IHsgR0VULCBnZXR9ID0gcmVxdWlyZSgnLi9lZmZlY3RzJylcblxubW9kdWxlLmV4cG9ydHMgPSBVc2VyXG5cbmZ1bmN0aW9uIFVzZXIgKHsgYXBpIH0pIHtcbiAgcmV0dXJuIERvbWFpbih7XG4gICAgbmFtZTogJ3VzZXInLFxuICAgIGluaXQ6ICgpID0+ICh7XG4gICAgICBtb2RlbDogW10sXG4gICAgICBlZmZlY3Q6IGdldCgpXG4gICAgfSksXG4gICAgdXBkYXRlOiB7XG4gICAgICBbU0VUXTogKG1vZGVsLCB1c2VycykgPT4gKHsgbW9kZWw6IHVzZXJzIH0pXG4gICAgfSxcbiAgICBydW46IHtcbiAgICAgIFtHRVRdOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiBwdWxsQXN5bmMoY2IgPT4ge1xuICAgICAgICAgIGFwaS5zZXJ2aWNlKCdncmFkcycpLmZpbmQoe30sIChlcnIsIHVzZXJzKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIsIHVzZXJzKVxuICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgICAgICAgICAgY2IobnVsbCwgc2V0KHVzZXJzKSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfSlcbn1cbiIsImNvbnN0IHsgRWZmZWN0IH0gPSByZXF1aXJlKCdpbnV4JylcblxuY29uc3QgR0VUID0gU3ltYm9sKCdnZXQnKVxuXG5jb25zdCBnZXQgPSBFZmZlY3QoR0VUKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgR0VULFxuZ2V0fVxuIiwiY29uc3QgeyBodG1sIH0gPSByZXF1aXJlKCdpbnUnKVxuY29uc3QgeyBuYXZpZ2F0ZSB9ID0gcmVxdWlyZSgnaW51eCcpXG5cbm1vZHVsZS5leHBvcnRzID0gdXNlclxuXG5mdW5jdGlvbiB1c2VyICh7aWR9LCBtb2RlbCwgZGlzcGF0Y2gpIHtcbiAgY29uc3QgdXNlciA9IG1vZGVsLnVzZXIuZmluZChmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiB1c2VyLmlkID09IGlkXG4gIH0pXG4gIHJldHVybiBodG1sYFxuICA8bWFpbj5cbiAgICA8ZGl2IGNsYXNzPSdncmFkJz5cbiAgICAgICR7IHVzZXIgPyBcbiAgICAgICAgaHRtbGA8ZGl2IGNsYXNzPVwiZ3JhZC1pbWFnZVwiPlxuICAgICAgICAgIDxpbWcgc3JjPSR7dXNlci5pbWFnZV9saW5rfSBhbHQ9XCJpbWFnZSBvZiAke3VzZXIubmFtZX1cIj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXY+JHt1c2VyLm5hbWV9PC9kaXY+XG4gICAgICAgIDxkaXY+JHt1c2VyLmxvbmdfZGVzY3JpcHRpb259PC9kaXY+XG4gICAgICAgIDxkaXY+JHt1c2VyLnBob25lfTwvZGl2PlxuICAgICAgICA8ZGl2PiR7dXNlci5jdl9saW5rfTwvZGl2PlxuICAgICAgICA8ZGl2PiR7dXNlci5naXRodWJfbGlua308L2Rpdj5cbiAgICAgICAgPGRpdj4ke3VzZXIubGlua2VkaW5fbGlua308L2Rpdj5cbiAgICAgICAgPGRpdj4ke3VzZXIuZW1haWx9PC9kaXY+XG4gICAgICAgIDxidXR0b24gb25jbGljaz0keygpID0+IGRpc3BhdGNoKG5hdmlnYXRlKGAvYCkpfT5CYWNrPC9idXR0b24+XG4gICAgICAgIGBcbiAgICAgICA6IGh0bWxgPGgyPldlIGdvdCBubyBncmFkczwvaDI+YCB9XG4gICAgPC9kaXY+XG4gIDwvbWFpbj5cbiAgYFxufVxuIiwiY29uc3QgeyBodG1sIH0gPSByZXF1aXJlKCdpbnUnKVxuY29uc3QgeyBuYXZpZ2F0ZSB9ID0gcmVxdWlyZSgnaW51eCcpXG5cbm1vZHVsZS5leHBvcnRzID0gdXNlclxuXG5mdW5jdGlvbiB1c2VyIChtb2RlbCwgZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIGh0bWxgXG4gICAgPGRpdiBjbGFzcz0nZ3JhZCc+XG5cdFx0XHQ8ZGl2IGNsYXNzPVwiZ3JhZC1pbWFnZVwiPlxuXHRcdFx0XHQ8aW1nIHNyYz0ke21vZGVsLmltYWdlX2xpbmt9IGFsdD1cImltYWdlIG9mICR7bW9kZWwubmFtZX1cIj5cblx0XHRcdDwvZGl2PlxuXHRcdFx0PGRpdj4ke21vZGVsLm5hbWV9PC9kaXY+XG5cdFx0XHQ8ZGl2PiR7bW9kZWwuc2hvcnRfZGVzY3JpcHRpb259PC9kaXY+XG5cdFx0XHQ8ZGl2PiR7bW9kZWwucGhvbmV9PC9kaXY+XG5cdFx0XHQ8ZGl2PiR7bW9kZWwuZ2l0aHViX2xpbmt9PC9kaXY+XG5cdFx0XHQ8ZGl2PiR7bW9kZWwubGlua2VkaW5fbGlua308L2Rpdj5cblx0XHRcdDxkaXY+JHttb2RlbC5lbWFpbH08L2Rpdj5cbiAgICAgIDxidXR0b24gb25jbGljaz0keygpID0+IGRpc3BhdGNoKG5hdmlnYXRlKGAjdXNlcnMvJHttb2RlbC5pZH1gKSl9Pk1vcmUuLi48L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgYFxufVxuIl19
